// MIT License

// Copyright (c) 2024 Joao Chrisostomo, Kacper MichajÅ‚ow

// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the "Software"), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:

// The above copyright notice and this permission notice shall be included in all
// copies or substantial portions of the Software.

// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
// SOFTWARE.

//!DESC ArtCNN C4F16 (Conv2D)
//!COMPUTE 24 32 12 16
//!HOOK LUMA
//!BIND LUMA
//!SAVE conv2d
//!WIDTH LUMA.w 2.0 *
//!HEIGHT LUMA.h 2.0 *
//!COMPONENTS 4
//!WHEN OUTPUT.w LUMA.w / 1.3 > OUTPUT.h LUMA.h / 1.3 > *
#extension GL_EXT_shader_explicit_arithmetic_types_float16 : enable
#ifdef GL_EXT_shader_explicit_arithmetic_types_float16
#	define V4 f16vec4
#	define M4 f16mat4
#	define F float16_t
#else
#	define V4 vec4
#	define M4 mat4
#	define F float
#endif

const ivec2 ksize = ivec2(3, 3);
const ivec2 offset = ksize / 2;
const ivec2 wg_size = ivec2(gl_WorkGroupSize);
const ivec2 isize = wg_size + ksize - 1;
shared F inp[1][isize.y][isize.x];
void hook() {
    const uvec2 local_xy = gl_LocalInvocationID.xy;
    ivec2 base = ivec2(gl_WorkGroupID) * wg_size;
    for (uint y = local_xy.y; y < isize.y; y += wg_size.y) {
        for (uint x = local_xy.x; x < isize.x; x += wg_size.x) {
            const ivec2 input_base = (base + ivec2(x,y) - offset) * ivec2(1, 1);
            inp[0][y][x] = F(LUMA_mul * texelFetch(LUMA_raw, input_base + ivec2(0, 0), 0).x);
        }
    }

    barrier();
    V4 result0 = V4(-0.0019481477, -0.012160274, -0.011699724, -0.06312653);
    V4 result1 = V4(-0.027651947, -0.0042769164, 0.0019526968, -0.0011994976);
    V4 result2 = V4(0.02952802, -0.0021292358, -0.006992056, 0.0025861484);
    V4 result3 = V4(0.00083089824, 0.0014879529, 0.011984082, -0.056136455);
    const F inp_0_0_0 = inp[0][local_xy.y + 0][local_xy.x + 0];
    const F inp_0_1_0 = inp[0][local_xy.y + 0][local_xy.x + 1];
    const F inp_0_2_0 = inp[0][local_xy.y + 0][local_xy.x + 2];
    const F inp_0_0_1 = inp[0][local_xy.y + 1][local_xy.x + 0];
    const F inp_0_1_1 = inp[0][local_xy.y + 1][local_xy.x + 1];
    const F inp_0_2_1 = inp[0][local_xy.y + 1][local_xy.x + 2];
    const F inp_0_0_2 = inp[0][local_xy.y + 2][local_xy.x + 0];
    const F inp_0_1_2 = inp[0][local_xy.y + 2][local_xy.x + 1];
    const F inp_0_2_2 = inp[0][local_xy.y + 2][local_xy.x + 2];
    result0 += V4(-0.022295475, -0.15706651, 0.019944945, 0.018376125) * inp_0_0_0;
    result0 += V4(0.038955145, 0.17294762, 0.12554502, 0.13036804) * inp_0_1_0;
    result0 += V4(0.002512202, 0.08713463, -0.11566631, 0.055901866) * inp_0_2_0;
    result0 += V4(0.019043898, 0.09054562, 0.030626532, 0.17250086) * inp_0_0_1;
    result0 += V4(-0.031735867, -0.07015896, -0.37442473, 0.31142017) * inp_0_1_1;
    result0 += V4(-0.2159837, -0.13881521, 0.13771147, 0.11154869) * inp_0_2_1;
    result0 += V4(0.0039543873, 0.15741655, -0.035911884, 0.09493651) * inp_0_0_2;
    result0 += V4(0.045393877, -0.13734232, 0.23337676, -0.034178622) * inp_0_1_2;
    result0 += V4(0.1687226, 0.013370048, -0.021543285, 0.094190456) * inp_0_2_2;
    result1 += V4(0.09176988, -0.092751935, -0.088658035, 0.031043034) * inp_0_0_0;
    result1 += V4(-0.074921764, -0.014219617, 0.008195454, -0.21023697) * inp_0_1_0;
    result1 += V4(0.06658878, 0.12725787, 0.07095031, 0.16581899) * inp_0_2_0;
    result1 += V4(-0.055838346, 0.09556671, 0.07156252, -0.032044213) * inp_0_0_1;
    result1 += V4(0.11985752, -0.18955415, 0.11755314, 0.19598408) * inp_0_1_1;
    result1 += V4(-0.13688329, 0.25915906, -0.1848522, -0.14541696) * inp_0_2_1;
    result1 += V4(0.06438578, -7.6819386e-05, 0.024500927, 0.0010709233) * inp_0_0_2;
    result1 += V4(0.07927807, -0.24836722, -0.11281124, 0.023118623) * inp_0_1_2;
    result1 += V4(-0.092122026, 0.0646686, 0.09119064, -0.029920919) * inp_0_2_2;
    result2 += V4(-0.06577899, 0.11599353, -0.14730391, -0.05860373) * inp_0_0_0;
    result2 += V4(0.11418663, -0.031356722, 0.16065447, 0.0043160208) * inp_0_1_0;
    result2 += V4(0.07943455, -0.011455341, 0.020665815, 0.015800862) * inp_0_2_0;
    result2 += V4(-0.1972146, 0.3300407, 0.3498591, 0.13755192) * inp_0_0_1;
    result2 += V4(-0.33259022, -0.77908915, -0.3396195, -0.091758594) * inp_0_1_1;
    result2 += V4(0.18008377, 0.1564843, -0.056678098, -0.0033972121) * inp_0_2_1;
    result2 += V4(0.053080052, 0.107644595, -0.14216359, -0.04408816) * inp_0_0_2;
    result2 += V4(0.25236043, 0.10608332, 0.12785928, 0.12756754) * inp_0_1_2;
    result2 += V4(-0.17513084, -0.010795619, 0.02741265, -0.088792995) * inp_0_2_2;
    result3 += V4(0.07217104, -0.116943866, 0.23466006, -0.10874591) * inp_0_0_0;
    result3 += V4(-0.18007787, 0.1811954, 0.40448594, 0.20531152) * inp_0_1_0;
    result3 += V4(0.013827616, -0.043365173, 0.05662971, 0.04457986) * inp_0_2_0;
    result3 += V4(0.04379023, 0.002308943, 0.040201493, -0.23251072) * inp_0_0_1;
    result3 += V4(0.016212083, -0.14892028, -0.47589415, 0.00018350525) * inp_0_1_1;
    result3 += V4(0.03828809, 0.14634988, -0.17422336, 0.23066773) * inp_0_2_1;
    result3 += V4(-0.078214765, 0.12793891, -0.052568763, -0.09497872) * inp_0_0_2;
    result3 += V4(0.10582872, -0.062585, -0.16038531, -0.011854144) * inp_0_1_2;
    result3 += V4(-0.027803589, -0.08555245, 0.011638037, 0.14545754) * inp_0_2_2;
    const ivec2 output_base = ivec2(gl_GlobalInvocationID) * ivec2(2, 2);
    imageStore(out_image, output_base + ivec2(0, 0), result0);
    imageStore(out_image, output_base + ivec2(1, 0), result1);
    imageStore(out_image, output_base + ivec2(0, 1), result2);
    imageStore(out_image, output_base + ivec2(1, 1), result3);
}

//!DESC ArtCNN C4F16 (Conv2D-1-ReLU)
//!COMPUTE 24 32 12 16
//!HOOK LUMA
//!BIND conv2d
//!SAVE conv2d_1
//!WIDTH LUMA.w 2.0 *
//!HEIGHT LUMA.h 2.0 *
//!COMPONENTS 4
//!WHEN OUTPUT.w LUMA.w / 1.3 > OUTPUT.h LUMA.h / 1.3 > *
#extension GL_EXT_shader_explicit_arithmetic_types_float16 : enable
#ifdef GL_EXT_shader_explicit_arithmetic_types_float16
#	define V4 f16vec4
#	define M4 f16mat4
#	define F float16_t
#else
#	define V4 vec4
#	define M4 mat4
#	define F float
#endif

const ivec2 ksize = ivec2(3, 3);
const ivec2 offset = ksize / 2;
const ivec2 wg_size = ivec2(gl_WorkGroupSize);
const ivec2 isize = wg_size + ksize - 1;
shared V4 inp[4][isize.y][isize.x];
void hook() {
    const uvec2 local_xy = gl_LocalInvocationID.xy;
    ivec2 base = ivec2(gl_WorkGroupID) * wg_size;
    for (uint y = local_xy.y; y < isize.y; y += wg_size.y) {
        for (uint x = local_xy.x; x < isize.x; x += wg_size.x) {
            const ivec2 input_base = (base + ivec2(x,y) - offset) * ivec2(2, 2);
            inp[0][y][x] = V4(conv2d_mul * texelFetch(conv2d_raw, input_base + ivec2(0, 0), 0));
            inp[1][y][x] = V4(conv2d_mul * texelFetch(conv2d_raw, input_base + ivec2(1, 0), 0));
            inp[2][y][x] = V4(conv2d_mul * texelFetch(conv2d_raw, input_base + ivec2(0, 1), 0));
            inp[3][y][x] = V4(conv2d_mul * texelFetch(conv2d_raw, input_base + ivec2(1, 1), 0));
        }
    }

    barrier();
    V4 result0 = V4(0.014544056, 0.010000561, 0.09882622, 0.011665846);
    V4 result1 = V4(0.03759818, -0.009927903, -0.009982739, 0.011665807);
    V4 result2 = V4(0.010638219, 0.031832017, 0.0040853275, 0.019634241);
    V4 result3 = V4(0.017477924, -0.007793724, 0.00029988, -0.029291717);
    const V4 inp_0_0_0 = inp[0][local_xy.y + 0][local_xy.x + 0];
    const V4 inp_0_1_0 = inp[0][local_xy.y + 0][local_xy.x + 1];
    const V4 inp_0_2_0 = inp[0][local_xy.y + 0][local_xy.x + 2];
    const V4 inp_0_0_1 = inp[0][local_xy.y + 1][local_xy.x + 0];
    const V4 inp_0_1_1 = inp[0][local_xy.y + 1][local_xy.x + 1];
    const V4 inp_0_2_1 = inp[0][local_xy.y + 1][local_xy.x + 2];
    const V4 inp_0_0_2 = inp[0][local_xy.y + 2][local_xy.x + 0];
    const V4 inp_0_1_2 = inp[0][local_xy.y + 2][local_xy.x + 1];
    const V4 inp_0_2_2 = inp[0][local_xy.y + 2][local_xy.x + 2];
    result0 += M4(-0.07215961, 0.2930698, -0.021310715, 0.044164978, 0.10145085, 0.04921343, 0.05088892, -0.027310455, -0.37963954, 0.19499017, -0.038510934, -0.09114624, 0.03185908, -0.06629416, -0.15665387, 0.027610367) * inp_0_0_0;
    result0 += M4(-0.35611618, -0.025062017, 0.04078665, 0.042601667, 0.71840763, 0.1627155, -0.014695579, 0.06361274, -0.74997777, -0.6771133, -0.05486217, -0.08861323, -0.39170524, 0.13103339, 0.047556546, 0.12142006) * inp_0_1_0;
    result0 += M4(0.39812705, -0.060195416, 0.15170702, -0.016719628, 0.17076628, -0.13920425, 0.17668149, -0.07990025, -0.41498592, -0.05265137, -0.051383577, 0.073158436, -0.07178084, -0.008413101, -0.10496599, -0.08214315) * inp_0_2_0;
    result0 += M4(-0.20636116, -0.09166687, -0.019323133, -0.18003403, -0.22269839, 0.020975465, 0.258968, -0.19014314, 0.23314899, 0.1939911, 0.02253232, 0.053606384, 0.05619232, 0.1033958, -0.015247302, 0.02823427) * inp_0_0_1;
    result0 += M4(-0.14104806, -0.16752328, -0.02758053, -0.0994237, -0.5084542, 0.3863793, 0.058198392, -0.052322496, -0.49249285, 0.8076767, -0.0028733981, -0.433375, 0.07479994, 0.046069875, 0.13578153, 0.14927402) * inp_0_1_1;
    result0 += M4(-0.48547179, 0.0033568374, -0.048466954, -0.05797711, -0.4792889, -0.1032324, -0.07469704, -0.002327319, 0.13757595, 0.20542875, 0.10548613, -0.13802297, -0.040798202, 0.08665659, 0.07438263, 0.04268395) * inp_0_2_1;
    result0 += M4(0.13318688, 0.06826442, 0.013093373, 0.30198547, -0.12509362, -0.213685, -0.01834152, 0.37054974, 0.35415232, -0.2585811, 0.060503915, -0.138098, -0.045584507, -0.07938016, -0.13170893, -0.022912849) * inp_0_0_2;
    result0 += M4(0.06410882, 0.0120936455, 0.0066097784, 0.120820485, 0.112211205, 0.039595135, -0.077220395, 0.45774567, 0.36221632, -0.18610996, -0.1962798, 0.9808798, 0.020852141, -0.055282574, -0.06392269, 0.029342432) * inp_0_1_2;
    result0 += M4(-0.20503837, -0.0488859, -0.034144253, 0.0038960746, 0.19387273, -0.30224535, -0.11057578, -0.13175346, 0.051889867, -0.1481442, 0.09741766, -0.11197164, 0.060922135, -0.09102122, 0.05972653, -0.09154744) * inp_0_2_2;
    result1 += M4(-0.16112694, -0.059253585, -0.015736494, 0.22056697, -0.064909324, -0.030326039, 0.019991724, 0.050759505, 0.056805957, -0.07401297, -0.026350228, 0.008722323, 0.07728005, -0.06779235, -0.07090634, -0.15285915) * inp_0_0_0;
    result1 += M4(0.09829715, -0.047980454, 0.10696765, -0.0850738, -0.20786159, 0.1676272, 0.21649884, 0.07562297, -0.071436964, -0.046320457, -0.036881413, -0.018101843, 0.15501626, -0.0603157, -0.12997264, -0.05130704) * inp_0_1_0;
    result1 += M4(0.043670252, 0.08676642, 0.016861472, -0.11343064, -0.10092421, 0.297154, -0.031206427, -0.04156097, 0.001442121, 0.14054687, -0.10401269, 0.13039035, -0.13307454, -0.043287314, -0.0730531, 0.17955634) * inp_0_2_0;
    result1 += M4(-0.047269017, 0.17183624, -0.043555696, 0.47816852, -0.0520647, -0.08220763, 0.2139501, 0.22131759, -0.06767475, 0.3070208, -0.02566391, 0.06749887, 0.06359769, -0.06070211, -0.041649923, -0.13279878) * inp_0_0_1;
    result1 += M4(0.13429727, -0.19854644, 0.25267327, -0.07114785, 0.1893671, -0.30140814, -0.05639251, -0.06961145, -0.18664572, 0.23294039, 1.0275558, -0.0857034, 0.2004204, 0.09272684, -0.12482133, -0.097328104) * inp_0_1_1;
    result1 += M4(0.18324512, -0.17491487, -0.072855845, -0.13719301, -0.05139208, -0.18024981, 0.28532118, -0.059140023, 0.46643594, -0.16614439, 0.13107438, 0.0492327, -0.2247258, 0.114794165, -0.036983296, 0.030227674) * inp_0_2_1;
    result1 += M4(0.06827156, -0.0690632, -0.051898576, -0.2463533, 0.19095062, -0.5347585, -0.2195628, -0.093604505, 0.12269289, -0.004180797, -0.073517345, 0.25843954, -0.043618754, -0.06737015, 0.15035446, -0.053065486) * inp_0_0_2;
    result1 += M4(0.06783103, -0.0768328, -0.13030462, -0.057061594, 0.10829952, 0.040118046, -0.53066826, -0.31955025, 0.0060933516, -0.48849526, -0.7449339, -0.18872724, 0.08252086, 0.06377202, 0.104635835, 0.08667722) * inp_0_1_2;
    result1 += M4(0.16772151, -0.07743592, -0.050306305, -0.026096497, 0.01400003, 0.037711646, -0.028493192, -0.06081477, 0.015588103, -0.101648174, -0.12884396, -0.09503321, -0.13579442, -0.13311432, 0.08097495, 0.11660106) * inp_0_2_2;
    result2 += M4(-0.26644644, -0.14555931, -0.59094936, -0.74019134, 0.06712767, -0.12378218, -0.00239069, -0.432021, -0.27739358, -0.28540942, 0.33183318, -0.2985677, 0.014516767, -0.103052445, 0.039667133, 0.045666907) * inp_0_0_0;
    result2 += M4(0.089886725, 0.07363373, 0.15610214, 0.10216709, -0.009316288, -0.016024455, 0.05739027, -0.18588567, 0.14359313, 0.20227467, 0.078269355, -0.53490776, 0.07080093, 0.13485992, -0.06736302, -0.11529844) * inp_0_1_0;
    result2 += M4(0.10520654, 0.3612926, -0.11894907, -0.15324518, 0.022621775, 0.14619943, 0.16411944, -0.47530007, -0.06541864, 0.25163698, -0.321268, -0.19718066, -0.060748853, -0.19043516, -0.12587205, -0.029080208) * inp_0_2_0;
    result2 += M4(-0.09274296, -0.15080321, 0.64180416, -0.16529706, 0.047030848, -0.214936, 0.4237524, -0.20947072, -0.079811744, -0.14670002, -0.5807387, 0.45841217, 0.08551755, 0.1040924, -0.039028596, 0.106471054) * inp_0_0_1;
    result2 += M4(-0.13882533, 0.045537792, 0.13727453, 0.16744249, -0.12858838, 0.14454019, 0.17691192, 0.12547517, -0.48061278, -0.104600824, 0.16041476, 0.14817311, 0.27146214, 0.1055066, 0.14882927, 0.09025911) * inp_0_1_1;
    result2 += M4(-0.19781396, 0.027307836, 0.24768448, -0.015304747, -0.114271276, 0.39957872, -0.058483392, 0.1830313, -0.073853195, 0.29279622, -0.08643688, 0.20306192, 0.114459105, -0.041395072, 0.10697728, 0.17794308) * inp_0_2_1;
    result2 += M4(-0.157345, -0.02776908, -0.29095525, 0.15840027, 0.13153535, -0.05695338, -0.5063207, 0.4387678, -0.041553278, 0.018296333, 0.5248026, -0.016170423, -0.08430185, -0.028341984, -0.0011583789, -0.10296658) * inp_0_0_2;
    result2 += M4(0.12681262, -0.050239813, 0.039815985, 0.15808418, 0.4364202, 0.090726785, -0.11395481, 0.21563406, 0.57319725, 0.027994612, 0.052753817, 0.011274509, -0.22960897, 0.13433954, -0.029398471, -0.16991484) * inp_0_1_2;
    result2 += M4(0.0045523257, 0.19429035, -0.08712198, -0.04557438, -0.072546445, 0.0891504, -0.15564097, 0.05985027, 0.0030869355, -0.12481161, -0.18232337, -0.033075932, -0.0825965, -0.10021149, -0.042942174, -0.06976594) * inp_0_2_2;
    result3 += M4(0.114319466, 0.15567514, 0.28968993, -0.18755281, 0.06455224, -0.051206555, 0.26073626, 0.07811419, 0.02596568, -0.1422991, -0.1053705, -0.020928318, -0.036692664, -0.044608615, 0.0065003494, 0.19017135) * inp_0_0_0;
    result3 += M4(-0.1640668, -0.015625618, -0.13985795, -0.03660871, -0.014293211, 0.029295763, 0.16762748, 0.08467294, 0.12403158, -0.0947549, -0.38956335, 0.0205869, -0.010035763, 0.06925461, 0.00666622, -0.055797793) * inp_0_1_0;
    result3 += M4(-0.26640573, 0.1422234, 0.044488687, 0.10970848, -0.11970514, -0.11022402, 0.13056844, 0.03465036, -0.23119819, -0.32529992, 0.12722012, 0.10349766, 0.004389142, 0.06813576, 0.0012973086, -0.116038226) * inp_0_2_0;
    result3 += M4(0.30272794, 0.06771357, -0.41088283, 0.12227549, 0.25836796, -0.10462197, 0.006529393, 0.16237873, 0.14269538, -0.18243614, 0.10815151, -0.54404634, -0.17681368, -0.14607532, 0.044551596, 0.1221921) * inp_0_0_1;
    result3 += M4(-0.07602762, 0.0342699, -0.013692078, -0.0695564, -0.37533522, 0.06748801, -0.17974563, 0.16502771, 0.4937055, 0.11721257, 0.4767971, 0.26402086, -0.028402627, 0.12158386, -0.05502166, 0.026431648) * inp_0_1_1;
    result3 += M4(-0.028818978, 0.17085968, -0.05046958, 0.036167346, -0.40519035, -0.16217567, -0.2911368, -0.005372871, -0.37780854, -0.37215137, 0.083484866, 0.013993361, 0.1674784, -0.13677923, -0.10405917, -0.03735662) * inp_0_2_1;
    result3 += M4(0.073997706, 0.051278044, 0.024166293, -0.01718699, 0.07733741, 0.4979177, 0.38640404, 0.06761857, -0.13748305, -0.0012803132, 0.12673576, -0.04199967, -0.08534185, -0.037995823, -0.03861892, 0.056384083) * inp_0_0_2;
    result3 += M4(-0.047739122, -0.31470862, 0.083523124, -0.06355638, 0.026372882, -0.0039543775, -0.7282813, -0.14220372, -0.0068031033, 0.97389895, -0.2733169, 0.12507679, 0.021715125, 0.15315853, 0.011735651, -0.0076601557) * inp_0_1_2;
    result3 += M4(-0.1555906, 0.1962602, -0.34357345, 0.122323245, 0.13079827, 0.06321233, 0.060372107, -0.15852663, -0.10132294, 0.21079373, -0.35868186, 0.024989793, 0.053221017, 0.010433399, -0.0061563086, -0.015345441) * inp_0_2_2;
    const V4 inp_1_0_0 = inp[1][local_xy.y + 0][local_xy.x + 0];
    const V4 inp_1_1_0 = inp[1][local_xy.y + 0][local_xy.x + 1];
    const V4 inp_1_2_0 = inp[1][local_xy.y + 0][local_xy.x + 2];
    const V4 inp_1_0_1 = inp[1][local_xy.y + 1][local_xy.x + 0];
    const V4 inp_1_1_1 = inp[1][local_xy.y + 1][local_xy.x + 1];
    const V4 inp_1_2_1 = inp[1][local_xy.y + 1][local_xy.x + 2];
    const V4 inp_1_0_2 = inp[1][local_xy.y + 2][local_xy.x + 0];
    const V4 inp_1_1_2 = inp[1][local_xy.y + 2][local_xy.x + 1];
    const V4 inp_1_2_2 = inp[1][local_xy.y + 2][local_xy.x + 2];
    result0 += M4(1.004597, -0.05573535, -0.01708782, 0.04814758, -0.33052805, 0.10894887, 0.24151939, -0.012960575, -0.9633932, 0.47009856, -0.1049884, -0.043952644, -0.49584332, 0.6554337, -0.1483765, 0.0124485195) * inp_1_0_0;
    result0 += M4(-0.35136238, 0.18218453, 0.12205031, -0.022179194, 0.67742634, -0.4145935, -0.017636416, -0.29039732, 0.944638, -0.164098, 0.0028234369, -0.057135757, -0.30880728, -0.06965523, -0.16767946, -0.012866741) * inp_1_1_0;
    result0 += M4(0.3376704, 0.2590839, -0.0075488715, 0.052511513, 0.17730995, 0.047637094, 0.03881235, 0.024124503, -0.47501436, -0.066488706, 0.11924084, 0.21313162, -0.048839726, 0.024745183, -0.16649452, -0.009848383) * inp_1_2_0;
    result0 += M4(-0.4046372, -0.14979969, 0.15736727, -0.07885447, -0.14583413, 0.093708575, -0.18215135, 0.024431791, -0.0022461491, -0.2620535, -0.051685818, 0.11585655, -0.37688985, 0.4139997, 0.15374283, 0.21532376) * inp_1_0_1;
    result0 += M4(0.21967646, -0.37499547, 0.16101028, 0.10158604, -0.11792467, 0.32760078, 0.016104707, 0.077203035, -0.048813764, 0.18001796, 0.23239253, -0.12471073, 0.9008759, -0.9017869, -0.14897713, 0.2986202) * inp_1_1_1;
    result0 += M4(-0.21479376, 0.10035602, -0.12311228, -0.14341249, -0.29585522, -0.055550177, -0.18168697, 0.10769372, -0.072255686, 0.05166309, -0.07567706, -0.23311745, 0.46621358, 0.4027232, -0.051453084, 0.12532878) * inp_1_2_1;
    result0 += M4(0.045412347, 0.1336475, 0.027966155, 0.15540251, 0.1239626, -0.20302875, -0.05525642, 0.045714796, 0.35810864, 0.038987923, -0.2885863, -0.03372944, -0.017818851, 0.05188651, -0.22642538, 0.34351653) * inp_1_0_2;
    result0 += M4(0.1377462, -0.033445366, 0.16712174, -0.22438446, 0.0334231, -0.0001744639, -0.0495725, 0.20474923, -0.052699577, -0.0025114787, 0.05327064, 0.2167439, -0.1029225, 0.009892797, 0.335056, -0.9250462) * inp_1_1_2;
    result0 += M4(-0.17692716, 0.17453347, -0.20541507, 0.020320524, 0.161645, 0.004926793, -0.057553492, -0.1768171, 0.28627443, -0.3709532, 0.09413308, -0.04572981, 0.00065910746, -0.3154716, 0.22531217, -0.17768799) * inp_1_2_2;
    result1 += M4(-0.31740636, -0.21242084, 0.038843427, -0.010568214, 0.3778238, 0.5209674, 0.10948579, 0.12642772, 0.16440533, 0.06841671, 0.13262257, -0.17514181, 0.0661744, -0.028641412, -0.2656143, -0.19991988) * inp_1_0_0;
    result1 += M4(0.105778396, 0.07143964, -0.048802465, -0.036066014, -0.24340472, 0.14744389, 0.21765508, -0.10504585, 0.07410135, 0.044634353, 0.23974042, 0.3293229, 0.1379105, -0.18311144, -0.002583979, 0.028870853) * inp_1_1_0;
    result1 += M4(0.091314346, 0.068001874, 0.13609764, -0.087498605, -0.024517182, -0.050818495, 0.14271769, -0.0056551434, -0.22898361, 0.34171137, -0.31780323, 0.072157875, 0.18193126, -0.08466681, -0.058086842, -0.007970227) * inp_1_2_0;
    result1 += M4(0.047426827, -0.72231674, 0.06468074, -0.37701946, 0.1495228, 0.55158055, 0.03335772, 0.46431035, -0.06819582, -0.22311164, -0.04341923, 0.17615135, -0.26413348, -0.55083, -0.00027830468, -0.4732972) * inp_1_0_1;
    result1 += M4(0.37058002, 0.09603886, -0.16996054, 0.1951783, -0.30638877, 0.019818546, -0.16786127, -0.33731368, 0.10295049, -0.24490362, -0.37497956, -0.29679096, 0.24660447, 0.025705865, -0.21018872, 0.10077585) * inp_1_1_1;
    result1 += M4(0.24103767, 0.08302164, 0.17334777, 6.704226e-05, -0.114055194, 0.083717406, 0.026216593, -0.17801005, -0.09105462, -0.23006608, 0.16776145, 0.20154533, 0.14642859, 0.10313638, -0.16868375, -0.054483872) * inp_1_2_1;
    result1 += M4(-0.15690456, -0.46696198, -0.086001374, -0.2763385, 0.37369242, 0.47606847, -0.17235589, 1.0063587, -0.19788873, -0.14546733, -0.11430199, -0.114240244, 0.2824379, 0.1545435, -0.14755508, 0.38010705) * inp_1_0_2;
    result1 += M4(0.08483519, 0.062792316, 0.16662462, 0.28374904, -0.13933603, -0.06539718, -0.4081241, -0.15238501, 0.2571034, 0.26714528, 0.10254824, -0.32114017, -0.015457794, 0.65415597, 0.826584, 0.20894481) * inp_1_1_2;
    result1 += M4(0.21228097, -0.037911654, -0.22984762, -0.14978126, -0.22942707, 0.13742793, -0.038153544, 0.02324714, -0.028035237, 0.095554665, 0.1768109, 0.034975808, -0.4293208, -0.05146936, 0.26324004, 0.08526093) * inp_1_2_2;
    result2 += M4(-0.07152723, 0.026063155, 0.69885695, -0.5658095, 0.2587604, 0.16932257, -0.25130987, 0.7146973, -0.1499902, -0.08354201, -1.0084492, -0.26967934, 0.0065310127, -0.1517507, 0.53363115, -0.7750268) * inp_1_0_0;
    result2 += M4(-0.04826034, 0.12794575, 0.15929896, -0.043343823, -0.108278915, -0.28205585, 0.06634152, -0.23228922, -0.25662425, 0.17826493, 0.31094602, 0.115221284, -0.1059472, -0.035417527, -0.08138583, -0.09171193) * inp_1_1_0;
    result2 += M4(0.014841053, -0.025865156, 0.3835743, -0.1234852, 0.003571413, 0.052304808, 0.15640873, 0.0045477785, 0.21183577, -0.15128663, -0.21627283, 0.15369995, 0.10264654, 0.068518475, -0.14092076, 0.44378617) * inp_1_2_0;
    result2 += M4(-0.3551171, -0.043330863, -0.37090498, -0.4113955, 0.23833871, 0.062370636, 0.041705426, 0.56162995, 0.153108, -0.14301592, 1.4000651, -0.11765165, -0.52107227, -0.094124556, 0.8125992, 0.31992245) * inp_1_0_1;
    result2 += M4(-0.039127916, 0.25835553, -0.44953173, -0.20347682, -0.055820864, -0.27668506, 0.022371534, 0.050325345, 0.39136305, -0.00831455, 0.30472493, 0.04032036, 0.21792652, 0.07160725, -0.33466288, -0.46847785) * inp_1_1_1;
    result2 += M4(-0.050911643, -0.1697906, -0.2453044, -0.012066151, 0.10023233, 0.2283248, 0.111233845, -0.109384984, 0.022989526, 0.24263962, 0.18447794, 0.037319753, -0.1527806, 0.04959815, 0.007476369, 0.46418574) * inp_1_2_1;
    result2 += M4(-0.12340566, -0.18739267, 0.08609977, -0.154141, 0.29334027, -0.08700909, -0.010077043, 0.52750516, -0.0063152583, -0.044355754, -1.2854354, -0.050795346, 0.8002031, -0.37105218, -0.8265685, -0.45367184) * inp_1_0_2;
    result2 += M4(0.28952026, 0.025933864, 0.0226949, 0.26721504, 0.1888545, -0.22426516, -0.18672612, 0.20559491, -0.12610102, 0.01965001, 0.09896448, 0.04562206, -0.27869534, 0.3124384, 0.16433823, -0.026038256) * inp_1_1_2;
    result2 += M4(-0.04829398, 0.012790007, -0.05365241, 0.18360265, -0.069809526, -0.05805934, -0.07244502, -0.0015449304, -0.18038933, 0.16918631, 0.10838343, -0.025818788, -0.2205814, 0.2244785, -0.15652381, 0.2996336) * inp_1_2_2;
    result3 += M4(0.012085185, 0.12591584, 0.16925754, 0.14851616, 0.005910342, -0.060405307, -0.15852268, -0.2434659, -0.17700256, 0.22875586, 0.22519666, -0.046535295, -0.0025922318, -0.07345017, -0.5358574, 0.19087619) * inp_1_0_0;
    result3 += M4(0.08356526, 0.12431501, -0.12487977, 0.03759888, 0.1463636, -0.1589733, -0.03801127, 0.16475166, 0.27459416, 0.060350228, 0.5261603, -0.08810055, 0.12291446, 0.05156464, 0.008329394, -0.05062946) * inp_1_1_0;
    result3 += M4(-0.16834614, -0.004977834, -0.18565206, 0.03007018, -0.21195962, -0.06809815, 0.028889885, 0.034941662, 0.21956453, -0.12684484, -0.12425468, 0.06449605, -0.05322028, -0.251652, 0.15829878, 0.040964823) * inp_1_2_0;
    result3 += M4(0.108121015, 0.4566208, -0.008160286, 0.3152569, 0.03788629, -0.26340342, 0.30180758, -0.79840356, 0.28599325, -0.10995871, -0.6660242, 0.5602352, -0.007918882, 0.017937204, -0.74014765, 0.6342459) * inp_1_0_1;
    result3 += M4(-0.43836665, 0.020098627, -0.32957152, -0.065545015, 0.6480525, 0.07633252, 0.14651756, 0.3387517, -0.50683326, -0.0021741032, -0.16397922, -0.17250611, -0.71652645, -0.044216443, -0.47999838, -0.6447155) * inp_1_1_1;
    result3 += M4(0.1044623, 0.08626303, 0.13729341, 0.039293643, -0.17739892, -0.11554604, -0.0023973195, 0.08644423, -0.03030547, -0.03159991, 0.003663967, 0.010556646, 0.32673874, -0.20814146, 0.408313, -0.19265555) * inp_1_2_1;
    result3 += M4(0.07932568, 0.14579165, -0.111962005, -0.11897707, -0.18469179, -0.24158466, 0.0787208, -0.025306344, -0.16489115, 0.026215492, 0.33549395, -0.21669683, -0.057471346, 0.22967486, 0.06291525, -0.03508392) * inp_1_0_2;
    result3 += M4(-0.041469283, -0.23665898, -0.031378224, -0.14453404, 0.20614055, 0.05176166, -0.28352696, 0.091042094, -0.05898628, -0.11026182, -0.2515946, -0.09865483, 0.28028828, -0.014100143, 0.7058081, 0.086733855) * inp_1_1_2;
    result3 += M4(0.050789703, -0.04857134, 0.2851943, 0.11556448, -0.0038263176, -0.032608062, -0.0151547305, -0.010752523, 0.13934046, 0.10604858, -0.055525843, 0.061148938, -0.01701043, 0.4761938, 0.4488281, 0.038746558) * inp_1_2_2;
    const V4 inp_2_0_0 = inp[2][local_xy.y + 0][local_xy.x + 0];
    const V4 inp_2_1_0 = inp[2][local_xy.y + 0][local_xy.x + 1];
    const V4 inp_2_2_0 = inp[2][local_xy.y + 0][local_xy.x + 2];
    const V4 inp_2_0_1 = inp[2][local_xy.y + 1][local_xy.x + 0];
    const V4 inp_2_1_1 = inp[2][local_xy.y + 1][local_xy.x + 1];
    const V4 inp_2_2_1 = inp[2][local_xy.y + 1][local_xy.x + 2];
    const V4 inp_2_0_2 = inp[2][local_xy.y + 2][local_xy.x + 0];
    const V4 inp_2_1_2 = inp[2][local_xy.y + 2][local_xy.x + 1];
    const V4 inp_2_2_2 = inp[2][local_xy.y + 2][local_xy.x + 2];
    result0 += M4(0.084682316, -0.13293624, -0.12198519, 0.036628354, -0.21756712, 0.23110226, 0.035577472, -0.10464005, 0.39467567, 0.102396, 0.077594854, -0.043773253, 1.0311222, 0.06631257, 0.016467936, -0.013313311) * inp_2_0_0;
    result0 += M4(-0.7046407, -0.29231024, -0.1031974, 0.08250777, -0.07866425, -0.5488544, 0.0014954058, -0.048427735, -0.004429606, -0.45520574, 0.10687495, 0.051062, -1.2795117, -0.098492086, 0.074244305, 0.113423295) * inp_2_1_0;
    result0 += M4(-0.32590505, 0.069533795, 0.10524266, 0.0009806429, -0.27374947, 0.19304161, 0.06184762, -0.031035256, -0.8940439, -0.18583496, -0.19584998, 0.010795422, 0.48066935, 0.15236785, 0.033434868, 0.016677678) * inp_2_2_0;
    result0 += M4(0.092301846, 0.27612874, -0.09680355, -0.046195816, 0.19838484, 0.078588255, -0.14424452, -0.011998071, 0.08019679, -0.10897816, 0.15504928, -0.16672415, -0.27595395, 0.08926022, 0.18327239, -0.051737644) * inp_2_0_1;
    result0 += M4(-0.13624176, 0.545888, 0.079176724, -0.3812251, -0.07030567, 0.23186857, 0.27299082, -0.6923877, -0.115184344, 0.8148104, 0.12338737, -0.41952732, 0.2819147, 0.19122733, -0.2505775, -0.23178053) * inp_2_1_1;
    result0 += M4(-0.13018827, 0.23717894, 0.103717685, -0.036152195, 0.17088692, -0.08350128, -0.07658532, -0.10279059, 0.016342467, -0.24453184, -0.07289965, 0.1783234, -0.04906531, 0.027356265, -0.05974078, -0.06916905) * inp_2_2_1;
    result0 += M4(0.23829484, 0.02794377, -0.2822347, 0.14183019, 0.03600352, -0.015328835, 0.031744726, 0.026257865, -0.06547385, -0.11788217, -0.023031782, 0.08365186, -0.17462428, 0.03343173, -0.16774921, 0.1953662) * inp_2_0_2;
    result0 += M4(-0.39115578, 0.05187037, -0.20094669, 0.84808344, -0.27349538, 0.2157007, 0.11921879, 0.45195624, 0.07911617, -0.062076446, -0.18328734, 0.51365864, 0.18610512, -0.3045376, 0.12867427, -0.03846845) * inp_2_1_2;
    result0 += M4(0.18316475, -0.19814369, 0.04592837, -0.0763188, -0.094708614, 0.10402152, 0.075928986, 0.22357231, 0.20429595, -0.06252866, 0.05191152, -0.09545914, -0.09873761, -0.15483579, -0.0033876563, 0.06220374) * inp_2_2_2;
    result1 += M4(-0.1044572, -0.12572478, -0.22066659, -0.15060091, 0.2827975, 0.4391851, 0.0956725, 0.12275866, -0.17945264, 0.06616582, 0.12481153, 0.09778084, -0.25177717, -0.059173137, -0.15998608, 0.21755068) * inp_2_0_0;
    result1 += M4(-0.10430968, 0.16070853, 0.051288847, 0.05540432, 0.10333202, 0.17476413, 0.26760134, -0.11655678, 0.099119075, -0.1389693, -0.14729212, -0.091165826, 0.10382196, 0.15931018, -0.16983032, -0.0993709) * inp_2_1_0;
    result1 += M4(0.013347536, 0.024519734, -0.105051965, 0.034110595, -0.08053966, 0.20161311, -0.08018367, -0.03671625, -0.186089, -0.3533834, 0.22514325, 0.063334815, -0.008540142, -0.28828734, 0.22340466, -0.104922466) * inp_2_2_0;
    result1 += M4(0.09353127, 0.22988915, -0.0056761466, -0.24921697, 0.23666613, 0.34147865, -0.056402948, -0.2002984, -0.12888965, 0.20427746, 0.0629429, 0.4100687, 0.07638305, 0.20555808, 0.082416505, -0.4326106) * inp_2_0_1;
    result1 += M4(-0.122331664, 0.49613178, 0.937829, -0.06672961, -0.12683755, -0.06940176, 1.0260961, -0.09552381, 0.12639488, 0.20290029, 0.3177696, -0.39535198, 0.10349508, 0.03032307, 0.43105227, 0.4156082) * inp_2_1_1;
    result1 += M4(0.387358, -0.041432098, 0.032222055, 0.11364488, -0.3301503, -0.07029338, 0.1810533, -0.1159695, -0.3260494, 0.31479055, 0.27114475, 0.29590774, -0.11043918, -0.1259026, -0.18692596, 0.05826281) * inp_2_2_1;
    result1 += M4(0.24776468, -0.10583887, -0.16856429, 0.6282411, 0.14337823, 0.5514379, -0.202046, 0.7860367, -0.14334524, -0.13950329, -0.16027313, 0.07061125, 0.12496636, -0.44097975, -0.06342949, 0.050898414) * inp_2_0_2;
    result1 += M4(-0.13644768, -0.3426002, -0.5295683, -0.03665973, 0.1613673, -0.16127998, -0.63846916, -0.2050517, 0.6118018, 0.0030513513, -0.53063494, -0.6970951, 0.079146065, 0.38244572, -0.23521976, -0.3920469) * inp_2_1_2;
    result1 += M4(0.22558793, -0.29585162, 0.055392753, 0.10952762, -0.25416318, -0.12315869, -0.16052245, 0.050347842, -0.24671458, -0.3205202, -0.14049481, 0.04537819, -0.10449746, 0.0815037, 0.1109108, 0.20313784) * inp_2_2_2;
    result2 += M4(-0.14780813, -0.077137396, 0.41427267, -0.14447537, -0.036000106, 0.092892684, 0.19470969, -0.23546606, 0.0608416, 0.032257073, 0.44624096, -0.023727378, -0.046870787, 0.020167291, 0.9948272, -0.6969001) * inp_2_0_0;
    result2 += M4(0.20487054, -0.108754255, 0.34424195, -1.003734, 0.12286521, -0.045515463, 0.0619661, -0.2920738, 0.11188655, -0.17405975, -0.49174747, 0.592918, 0.090935275, 0.064302705, -0.5003859, 0.34414974) * inp_2_1_0;
    result2 += M4(0.068484865, -0.041436274, -0.24914996, -0.071849644, -0.07174202, 0.02086333, -0.10925726, 0.031422064, -0.06919479, 0.10297908, -0.41361633, -0.76182157, -0.016113922, -0.1376805, -0.10922943, -0.16981266) * inp_2_2_0;
    result2 += M4(0.0056053866, -0.09737094, -0.27023107, 0.6626173, -0.17697051, 0.06186271, -0.18286139, 0.6790185, -0.18075763, 0.05682943, 0.4856561, 0.15567844, -0.07055953, 0.022579389, -0.19599444, -0.17036739) * inp_2_0_1;
    result2 += M4(-0.34250015, -0.21360576, 0.05529392, 0.00087800424, -0.5087811, -0.6194615, -0.16432063, -0.112605505, -0.2519857, -0.70345473, 0.20009229, -0.06680838, -0.070427045, -0.0340189, 0.4072666, -0.23762245) * inp_2_1_1;
    result2 += M4(-0.20447674, -0.1020161, 0.0024187912, -0.039938316, 0.012659804, 0.7788445, 0.24524854, 0.04673317, 0.11537771, 1.2990092, 0.53230345, -0.12717444, 0.100989975, 0.06673645, -0.06636605, 0.071341574) * inp_2_2_1;
    result2 += M4(0.22944213, -0.118419565, 0.38361192, 0.13411783, 0.258883, 0.024021022, 0.20098448, 0.3907531, 0.056290783, -0.18592955, -0.06231261, 0.3356407, 0.22560403, -0.006606369, -0.41759098, 0.6465473) * inp_2_0_2;
    result2 += M4(0.29084647, -0.014856395, -0.16069086, -0.053630006, 0.29703724, -0.24729419, -0.06638208, 0.16614832, 0.49717432, 0.12749954, -0.6368233, 0.054328527, 0.029312635, -0.17997558, -0.040231034, 0.11560953) * inp_2_1_2;
    result2 += M4(0.012657767, -0.11583297, -0.20619091, -0.21458693, -0.011241212, -0.0014186895, -0.13081352, 0.12213086, -0.20932241, -0.13272971, -0.20977858, -0.14258943, -0.26444817, 0.1602401, -0.16585872, 0.12431348) * inp_2_2_2;
    result3 += M4(0.06973748, -0.13434663, -0.73580503, -0.07558042, -0.0041184956, -0.0818975, -0.3581089, -0.35017598, 0.17767228, -0.04921226, 0.05672989, -0.020585425, 0.23372632, -0.19207908, -0.04520535, -0.043972846) * inp_2_0_0;
    result3 += M4(0.17367001, -0.041043364, -0.2109002, 0.018627904, 0.29999188, -0.02920201, -0.2032338, 0.21316104, 0.12653354, -0.09404067, 0.39097285, -0.22659841, 0.037292536, 0.051719148, -0.19436418, -0.11459157) * inp_2_1_0;
    result3 += M4(0.02633768, 0.20032904, 0.22790053, 0.07863649, -0.17235337, -0.053935774, 0.014737873, 0.095312215, -0.24987534, 0.017637849, -0.46884558, -0.018070523, -0.14196548, -0.1279148, -0.1248454, 0.090193205) * inp_2_2_0;
    result3 += M4(0.0077249426, -0.072549276, -0.07422627, -0.99021333, 0.0889302, -0.050849933, -0.15222302, -0.5712703, -0.047085907, -0.16923296, 0.30524525, -0.35144284, -0.14156447, 0.29008454, -0.14306226, 0.20658956) * inp_2_0_1;
    result3 += M4(0.4814277, 0.067963086, 0.1758727, 0.15013166, 0.51215374, -0.45013377, 0.4733748, 0.86022913, 0.48942342, 0.15824164, 0.70180553, 1.2314558, -0.27037874, -0.017942684, -0.022700649, 0.14082564) * inp_2_1_1;
    result3 += M4(-0.08269386, -0.14647205, -0.16533703, 0.16030307, -0.88348424, 0.11265241, -0.14164034, -0.12567054, -1.0106338, 0.39149904, 0.19253083, -0.08458211, -0.32117012, 0.38346505, 0.30190676, -0.14611124) * inp_2_2_1;
    result3 += M4(-0.040921416, -0.13551356, 0.1504816, -0.2670492, 0.053948537, -0.26681703, 0.058079835, -0.226171, -0.0054334244, -0.11770358, 0.037447695, -0.004240134, 0.18218613, -0.15028824, 0.26486194, -0.11767448) * inp_2_0_2;
    result3 += M4(0.15292665, 0.5460323, -0.008496616, 0.15645505, 0.25559497, 0.44262335, -0.2737982, 0.3064724, 0.051983174, 0.5697768, -0.78681314, -0.32666296, 0.33314997, 0.23578064, -0.18742302, -0.1596321) * inp_2_1_2;
    result3 += M4(0.04591016, 0.16111185, -0.16199338, -0.108373575, -0.23879588, -0.13938697, -0.1026843, 0.083504975, 0.41486192, -0.31994414, -0.5044441, 0.004912108, 0.07982396, -0.4912447, 0.298792, 0.19669636) * inp_2_2_2;
    const V4 inp_3_0_0 = inp[3][local_xy.y + 0][local_xy.x + 0];
    const V4 inp_3_1_0 = inp[3][local_xy.y + 0][local_xy.x + 1];
    const V4 inp_3_2_0 = inp[3][local_xy.y + 0][local_xy.x + 2];
    const V4 inp_3_0_1 = inp[3][local_xy.y + 1][local_xy.x + 0];
    const V4 inp_3_1_1 = inp[3][local_xy.y + 1][local_xy.x + 1];
    const V4 inp_3_2_1 = inp[3][local_xy.y + 1][local_xy.x + 2];
    const V4 inp_3_0_2 = inp[3][local_xy.y + 2][local_xy.x + 0];
    const V4 inp_3_1_2 = inp[3][local_xy.y + 2][local_xy.x + 1];
    const V4 inp_3_2_2 = inp[3][local_xy.y + 2][local_xy.x + 2];
    result0 += M4(0.41653493, -0.037656665, 0.12725575, -0.055266753, 0.7352613, -0.35690436, 0.18692723, 0.019206207, 0.1514742, -0.004194654, 0.0740865, -0.0052299667, 0.03671138, 0.1907255, 0.012784287, -0.0052635227) * inp_3_0_0;
    result0 += M4(-0.37003142, -0.025761895, -0.02260091, 0.06736736, -0.4391492, 0.21710545, 0.016990082, 0.047842037, 0.26522854, -0.15057875, -0.04709231, -0.041484863, 0.09964091, -0.14332767, 0.03652218, -0.028282618) * inp_3_1_0;
    result0 += M4(0.257979, 0.06610537, 0.013924752, -0.08181873, 0.49472928, -0.19520397, 0.18260865, -0.11457569, -0.06552188, 0.041375723, 0.00014637828, 0.011160309, 0.3725601, -0.057451416, 0.079637155, -0.012570192) * inp_3_2_0;
    result0 += M4(-0.1131308, -0.03178162, 0.040014654, 0.018105214, 0.2690263, -0.0011676106, -0.08405019, -0.026796777, -0.25797406, 0.16192645, 0.00969278, -0.046753194, 0.03117818, -0.071307704, 0.007224613, -0.08241408) * inp_3_0_1;
    result0 += M4(0.17668566, -0.20415883, 0.08231577, 0.022560999, -0.43284193, 0.4978168, 0.03598376, 0.060164403, -0.49312323, 0.60451055, 0.06137048, 0.006248952, -0.19276744, 0.10294694, 0.09886427, 0.083527625) * inp_3_1_1;
    result0 += M4(0.10103118, -0.07688123, -0.14649287, 0.05833677, -0.49778128, -0.057126496, -0.14894548, -0.13299625, 0.03349256, 0.20858909, 0.00086657616, 0.15763317, -0.20109642, 0.14050438, 0.08238438, 0.001568369) * inp_3_2_1;
    result0 += M4(-0.12077817, 0.0360184, -0.077281766, 0.019905267, -0.204997, 0.17495617, 0.14729834, -0.106221594, -0.10543545, -0.19552436, -0.051887102, 0.34082848, -0.097988, 0.069072336, 0.040598214, 0.12045271) * inp_3_0_2;
    result0 += M4(0.060368653, 0.068728544, 0.054318156, -0.5971931, 0.08782619, -0.11490359, -0.0863875, 0.3690775, 0.3798731, -0.022280646, -0.13362889, 1.7044162, -0.010784249, 0.078247175, -0.021723181, 0.42916548) * inp_3_1_2;
    result0 += M4(-0.062323254, 0.06859275, -0.05764687, -0.15526308, 0.034504868, -0.069489345, -0.12871882, 0.0361074, -0.24095619, -0.03945777, 0.044622097, 0.26139766, -0.10720599, 0.005951312, -0.116827294, 0.22053778) * inp_3_2_2;
    result1 += M4(0.05069653, -0.015092308, 0.09597547, 0.047186103, -0.13420124, 0.017667342, 0.13138494, 0.14745688, -0.11606419, 0.20675507, 0.13054278, 0.10048619, 0.05605922, 0.0601821, 0.06977751, -0.0438414) * inp_3_0_0;
    result1 += M4(-0.11754646, -0.042733826, -0.19830558, -0.030864878, 0.076758586, 0.12064008, 0.058692288, 0.20524438, 0.049118415, -0.21995024, -0.08328735, -0.053787943, -0.28952593, -0.122037955, 0.001034049, 0.07249498) * inp_3_1_0;
    result1 += M4(-0.18174864, -0.088974476, 0.12876332, -0.016717095, -0.15254195, 0.05622162, 0.043797445, -0.16604413, 0.08232989, -0.08538343, 0.01007715, -0.020670036, 0.20534399, -0.013082843, -0.055493154, -0.117456265) * inp_3_2_0;
    result1 += M4(-0.01941182, 0.09476626, -0.07491364, -0.08673723, 0.33379963, 0.064777724, 0.100200124, -0.3804852, -0.3353561, 0.19221973, 0.004136166, 0.3618945, 0.21866395, 0.50304383, 0.0029407893, 0.4988421) * inp_3_0_1;
    result1 += M4(3.5656463e-05, 0.07461081, 0.02149988, 0.08156391, -0.042612385, -0.08863615, 0.015433893, 0.25606704, -0.0039949836, -0.0142793665, -0.14548208, -0.22193633, -0.36377972, -0.011862771, -0.023571773, 0.072089925) * inp_3_1_1;
    result1 += M4(0.036009487, -0.06393759, 0.00041729645, -0.07757106, -0.091844015, -0.31262934, 0.08444652, -0.059417058, -0.017671103, -0.054514457, 0.050624136, -0.0863686, 0.5189288, -0.005985774, 0.0709976, -0.02863273) * inp_3_2_1;
    result1 += M4(0.35212764, 0.28746393, 0.042876303, 0.08028907, -0.09747746, 0.3185608, -0.09872225, 0.3085427, -0.008342365, -0.910582, -0.275059, 0.31811294, 0.16776747, 0.15159139, -0.13409743, 0.46037924) * inp_3_0_2;
    result1 += M4(0.0039832, 0.22649196, 0.41539678, 0.08616761, -0.14037815, -0.12515776, -0.32930794, -0.32642463, 0.63889366, -0.6732177, -1.2112794, -0.28283483, -0.32834658, -0.17307805, -0.15805355, -0.02287554) * inp_3_1_2;
    result1 += M4(-0.28130084, 0.022352379, 0.15885155, 0.04080933, 0.050980084, 0.016178954, -0.05967206, 0.012455827, 0.10045599, -0.30577856, -0.2707593, -0.09864369, 0.2781515, -0.17987251, -0.12745228, -0.04982329) * inp_3_2_2;
    result2 += M4(0.079630174, 0.118710935, 0.44861606, 0.13548815, 0.1549144, 0.029247748, 0.60359025, 0.30826497, 0.0661314, 0.0095559405, -0.21105923, 0.34980354, -0.025131993, 0.04582852, -0.018217037, 0.44742897) * inp_3_0_0;
    result2 += M4(0.24684297, -0.12931028, 0.04008833, -0.15226606, -0.2199178, -0.019197563, 0.0073229326, -0.59321344, -0.12087546, -0.087614655, 0.09109825, 0.11089207, -0.011431683, -0.11473478, -0.028374625, 0.005155783) * inp_3_1_0;
    result2 += M4(0.16318172, 0.3362632, 0.17626873, 0.076980375, -0.07840715, -0.1336665, 0.3938282, -0.09350906, 0.0579276, 0.15910177, -0.020031292, -0.078218855, 0.09668636, 0.14932825, 0.06821454, -0.14507551) * inp_3_2_0;
    result2 += M4(-0.05594624, 0.052311875, -0.34350115, 0.023145303, 0.081793986, 0.30801022, -0.8108275, 0.0062474343, 0.10347386, -0.16747189, 0.041278854, -0.03356927, -0.010661532, 0.09867596, -0.017951027, -0.0738816) * inp_3_0_1;
    result2 += M4(-0.026925437, -0.16096002, -0.28175706, -0.4669312, 0.21330053, -0.2919706, 0.12168165, 0.103861675, -0.17133538, 0.098863244, -0.032676652, 0.04565045, 0.08620714, -0.35814694, -0.0009015298, 0.1095619) * inp_3_1_1;
    result2 += M4(-0.07987747, 0.044339456, 0.08611652, -0.14145668, -0.17741399, 0.014771886, -0.43642226, 0.20322202, 0.16890694, 0.25794283, 0.14999363, -0.26752043, -0.18044432, -0.2158523, -0.13660538, 0.06636837) * inp_3_2_1;
    result2 += M4(-0.0065298816, 0.0073403683, 0.016869938, 0.33623308, -0.023321602, 0.078193724, 0.43913746, 0.41917405, 0.11087105, -0.07340887, 0.1962663, -0.03460854, 0.11031164, -0.035889093, 0.15742002, 0.10572457) * inp_3_0_2;
    result2 += M4(-0.35782084, -0.17006522, -0.055801567, 0.15694958, 0.18365401, -0.10110739, -0.5729808, -0.11136928, 0.71246785, 0.20952843, 0.02654143, 0.12267516, 0.21088679, -0.13615492, 0.17909814, 0.009653915) * inp_3_1_2;
    result2 += M4(-0.56213063, -0.007639947, 0.09376782, 0.16984934, 0.12586905, -0.07887173, 0.22137417, -0.045564, 0.25059414, -0.13659674, -0.1654051, -0.07331764, 0.18475044, 0.18382548, -0.038503718, -0.0070775617) * inp_3_2_2;
    result3 += M4(0.019597985, -0.035611354, -0.21494251, 0.06982419, -0.067372195, -0.23503521, 0.23499295, 0.09596208, 0.031324834, -0.03540426, 0.07389686, -0.11886012, -0.028008701, -0.018424729, -0.055564035, -0.1258504) * inp_3_0_0;
    result3 += M4(0.09260887, -0.09541512, -0.09641268, 0.017551955, -0.104205094, -0.07794075, -0.22440076, 0.11533838, -0.04514268, 0.112606496, 0.20531166, 0.109239735, 0.20943032, -0.034719214, -0.12354663, 0.004830098) * inp_3_1_0;
    result3 += M4(-0.107146196, 0.04413521, -0.19749972, -0.013277865, -0.18831037, 0.14144894, 0.044641007, 0.0542539, -0.052979723, -0.07024712, -0.11116614, -0.009767846, 0.074891604, 0.0036568292, -0.14207214, 0.027416047) * inp_3_2_0;
    result3 += M4(-0.07125794, 0.31244138, 0.23648174, -0.0020626828, -0.09411155, 0.30728328, 0.37917218, -0.4344524, 0.18545607, -0.11627312, 0.0027357887, -0.24482884, 0.12471359, 0.06809449, 0.09033037, -0.41227716) * inp_3_0_1;
    result3 += M4(0.18448502, -0.020370033, -0.08380207, 0.20471191, 0.598582, 0.0040554525, -0.04894445, -0.052569136, 0.12712999, 0.14945059, 0.32042524, 0.2650335, 0.13741149, 0.048500832, -0.007580171, -0.71532536) * inp_3_1_1;
    result3 += M4(-0.10462481, 0.17033702, 0.3163935, 0.03358787, -0.1286103, 0.07419366, 0.06181003, 0.03854026, -0.37799478, -0.0063219825, -0.35298482, 0.20760404, 0.17666838, 0.12943201, 0.28389215, 0.025149355) * inp_3_2_1;
    result3 += M4(0.02148886, -0.2925242, -0.34673685, -0.14954033, 0.05598737, -0.24452643, 0.115678705, -0.12712137, -0.0009218318, 0.354202, -0.19253181, -0.08278141, 0.1175658, -0.2168282, -0.17922796, -0.16296723) * inp_3_0_2;
    result3 += M4(0.10389165, -0.63107723, 0.3702417, -0.18704548, -0.10313557, -0.007786449, -0.69451004, 0.052807838, 0.15514268, 0.634738, -0.47576734, 0.1437792, 0.109834574, 0.025385765, 0.03387939, -0.035216715) * inp_3_1_2;
    result3 += M4(-0.1845364, -0.3075818, 0.22121374, 0.0615081, 0.06790011, -0.011768649, 0.30429804, 0.14562133, -0.24945724, 0.08615304, -0.3063601, -0.05587789, -0.033470366, 0.13611312, -0.1484713, 0.090556495) * inp_3_2_2;
    const ivec2 output_base = ivec2(gl_GlobalInvocationID) * ivec2(2, 2);
    imageStore(out_image, output_base + ivec2(0, 0), max(result0, V4(0.0)));
    imageStore(out_image, output_base + ivec2(1, 0), max(result1, V4(0.0)));
    imageStore(out_image, output_base + ivec2(0, 1), max(result2, V4(0.0)));
    imageStore(out_image, output_base + ivec2(1, 1), max(result3, V4(0.0)));
}

//!DESC ArtCNN C4F16 (Conv2D-2-ReLU)
//!COMPUTE 24 32 12 16
//!HOOK LUMA
//!BIND conv2d_1
//!SAVE conv2d_2
//!WIDTH LUMA.w 2.0 *
//!HEIGHT LUMA.h 2.0 *
//!COMPONENTS 4
//!WHEN OUTPUT.w LUMA.w / 1.3 > OUTPUT.h LUMA.h / 1.3 > *
#extension GL_EXT_shader_explicit_arithmetic_types_float16 : enable
#ifdef GL_EXT_shader_explicit_arithmetic_types_float16
#	define V4 f16vec4
#	define M4 f16mat4
#	define F float16_t
#else
#	define V4 vec4
#	define M4 mat4
#	define F float
#endif

const ivec2 ksize = ivec2(3, 3);
const ivec2 offset = ksize / 2;
const ivec2 wg_size = ivec2(gl_WorkGroupSize);
const ivec2 isize = wg_size + ksize - 1;
shared V4 inp[4][isize.y][isize.x];
void hook() {
    const uvec2 local_xy = gl_LocalInvocationID.xy;
    ivec2 base = ivec2(gl_WorkGroupID) * wg_size;
    for (uint y = local_xy.y; y < isize.y; y += wg_size.y) {
        for (uint x = local_xy.x; x < isize.x; x += wg_size.x) {
            const ivec2 input_base = (base + ivec2(x,y) - offset) * ivec2(2, 2);
            inp[0][y][x] = V4(conv2d_1_mul * texelFetch(conv2d_1_raw, input_base + ivec2(0, 0), 0));
            inp[1][y][x] = V4(conv2d_1_mul * texelFetch(conv2d_1_raw, input_base + ivec2(1, 0), 0));
            inp[2][y][x] = V4(conv2d_1_mul * texelFetch(conv2d_1_raw, input_base + ivec2(0, 1), 0));
            inp[3][y][x] = V4(conv2d_1_mul * texelFetch(conv2d_1_raw, input_base + ivec2(1, 1), 0));
        }
    }

    barrier();
    V4 result0 = V4(0.006101633, -0.007520208, -0.013869165, 0.023973972);
    V4 result1 = V4(-0.02333475, 0.0706771, 0.00029287452, 0.01514787);
    V4 result2 = V4(0.038642447, 0.0502616, -0.04802755, -0.0031456202);
    V4 result3 = V4(-0.03318309, -0.005653402, 0.014377978, -3.7365e-05);
    const V4 inp_0_0_0 = inp[0][local_xy.y + 0][local_xy.x + 0];
    const V4 inp_0_1_0 = inp[0][local_xy.y + 0][local_xy.x + 1];
    const V4 inp_0_2_0 = inp[0][local_xy.y + 0][local_xy.x + 2];
    const V4 inp_0_0_1 = inp[0][local_xy.y + 1][local_xy.x + 0];
    const V4 inp_0_1_1 = inp[0][local_xy.y + 1][local_xy.x + 1];
    const V4 inp_0_2_1 = inp[0][local_xy.y + 1][local_xy.x + 2];
    const V4 inp_0_0_2 = inp[0][local_xy.y + 2][local_xy.x + 0];
    const V4 inp_0_1_2 = inp[0][local_xy.y + 2][local_xy.x + 1];
    const V4 inp_0_2_2 = inp[0][local_xy.y + 2][local_xy.x + 2];
    result0 += M4(-0.07150475, 0.110564135, -0.01816164, 0.046747174, 0.03629354, -0.017949946, -0.035297237, -0.06858946, -0.1646374, 0.36646342, -0.08919844, 0.016819468, 0.0585043, -0.0071310536, -0.023321152, -0.051111378) * inp_0_0_0;
    result0 += M4(-0.06967349, -0.16137868, 0.09705622, 0.008393243, -0.048196204, -0.08018978, -0.010296021, -0.040834796, 0.20768826, -0.047415733, -0.02182748, -0.08337359, -0.14916496, 0.50912166, 0.19839731, 0.1926526) * inp_0_1_0;
    result0 += M4(0.13528955, 0.110982165, 0.021187317, 0.006731982, -0.08609128, 0.018503036, -0.01568326, -0.0076991054, 0.124125905, 0.07026438, 0.03818103, 0.036195382, -0.028004143, 0.039015546, 0.07054483, 0.010272916) * inp_0_2_0;
    result0 += M4(-0.19246477, -0.424555, 0.033002008, -0.056278653, -0.10524622, -0.044190466, -0.14975983, -0.041226763, 0.03571393, 0.14331488, 0.17842765, 0.065325044, 0.08387371, -0.06847038, -0.0665969, -0.036777623) * inp_0_0_1;
    result0 += M4(-0.039602883, 0.6049442, -0.14698772, 0.003806169, -0.018093968, -0.08252256, -0.20067412, -0.008910993, 0.069573544, 0.064648844, 0.051841468, 0.17738453, -0.76555306, 0.029746816, -0.2558513, 0.08613088) * inp_0_1_1;
    result0 += M4(0.08650031, -0.13784577, 0.094562106, 0.096759886, 0.0033956498, 0.45282805, -0.096512474, 0.012007586, -0.16138555, -0.29753765, 0.013551657, -0.01992148, -0.85285544, 0.047059517, 0.11418485, 0.10528681) * inp_0_2_1;
    result0 += M4(0.11562419, 0.22928026, -0.14995003, -0.0016506603, 0.13690919, 0.099113025, 0.10167345, -0.05965395, 0.07191987, 0.07344508, -0.1417902, -0.13351388, 0.08907994, -0.16580571, 0.051623423, -0.04858663) * inp_0_0_2;
    result0 += M4(0.58434415, -0.029017355, 0.56976783, 0.44010743, 0.28866965, 0.2307299, 0.14170215, -0.07777208, -0.33914545, -0.39071673, -0.14470354, -0.21179277, 0.21925958, 0.033187002, 0.0012424374, 0.005013709) * inp_0_1_2;
    result0 += M4(-0.27108374, -0.17542768, -0.34768763, -0.1956432, 0.19021913, -0.1308151, -0.05856448, -0.12317101, 0.16163254, 0.094184905, 0.08746881, 0.120984286, -0.3159721, 0.1062623, 0.03401629, 0.0009795466) * inp_0_2_2;
    result1 += M4(0.041779026, -0.17231292, -0.028668907, 0.061935034, 0.052653592, 0.05266636, 0.04073718, 0.14653377, -0.34278136, -0.0021791935, 0.03895503, -0.118497394, -0.29403546, -0.3911559, 0.032612838, 0.42566) * inp_0_0_0;
    result1 += M4(-0.10304512, -0.07617373, -0.07835166, -0.11204969, -0.107669964, 0.06391346, -0.077711046, 0.09848252, 0.43118647, -0.080300584, 0.16962051, -0.14169772, -1.0999895, -1.1622831, 0.087100625, -0.23109429) * inp_0_1_0;
    result1 += M4(0.16797094, 0.14154214, 0.0040192273, 0.10809151, 0.043469224, -0.08749559, 0.022207525, 0.1793721, -0.032745782, 0.3318918, -0.18149969, 0.07943831, -0.22067398, -0.6819388, -0.2846047, 0.02808593) * inp_0_2_0;
    result1 += M4(-0.025974099, -0.018024594, -0.13000628, 0.24958082, 0.014244763, 0.3878107, 0.23265092, -0.12326149, 0.12822992, -0.46280274, 0.1157506, -0.10698599, -0.25005588, -0.03519538, -0.028487582, 0.085509) * inp_0_0_1;
    result1 += M4(0.061087377, 0.003547152, 0.39772514, 0.008950703, -0.71742195, 0.18800561, 0.33027002, 0.18598558, 0.17791556, -0.33600414, -0.74014115, -0.52486026, -0.12443756, -0.34199792, 0.2392091, 0.55159926) * inp_0_1_1;
    result1 += M4(-0.0024655205, 0.0034507515, -0.26326013, -0.1579495, 0.038433712, -0.083764836, 0.19861814, 0.3166903, -0.015865102, 0.27080646, 0.2543102, 0.61566705, -0.04291477, -0.2685482, -0.012434092, 0.046903897) * inp_0_2_1;
    result1 += M4(0.020327346, -0.30243635, 0.24874935, 0.2908264, 0.07493386, 0.12503178, 0.0745027, 0.21789658, -0.020887349, -0.21763234, -0.07481074, -0.12726824, -0.044784006, -0.020400345, 0.005157203, 0.09659687) * inp_0_0_2;
    result1 += M4(-0.44456384, -1.2199425, -0.9706302, -1.3103881, -0.020393508, 0.109281875, 0.18414386, 0.02451866, 0.14570457, -0.25285283, -0.0625933, -0.24365565, -0.17157744, -0.0045010312, 0.029908156, -0.3501895) * inp_0_1_2;
    result1 += M4(-0.6500538, 0.879935, 0.40130126, 0.4617035, -0.008838263, -0.055906307, 0.20884475, -0.045885835, 0.095042266, -0.015154307, 0.09563489, 0.23230498, 0.050826088, -0.14696161, -0.021422444, 0.22041823) * inp_0_2_2;
    result2 += M4(0.021518901, -0.020901455, -0.055980127, -0.15526722, -0.012579048, -0.009816025, -0.0040399088, 0.031195823, -0.035917588, 0.07269183, -0.069408, 0.06401226, 0.2355408, 0.17735773, -0.16763756, -0.3994137) * inp_0_0_0;
    result2 += M4(0.03915682, -0.02149817, -0.054783452, 0.039071288, -0.08287506, -0.0872641, 0.13053712, 0.010458124, 0.046583414, -0.030008068, -0.053878322, -0.045548346, 0.033757724, -0.05293252, -0.4357243, -0.09057286) * inp_0_1_0;
    result2 += M4(0.09985968, -0.021296374, 0.027421398, 0.03458723, 0.048795626, -0.048967946, 0.011279714, -0.0059584226, 0.034176406, 0.026733419, -0.14670439, 0.17447856, 0.12899393, -0.07094466, -0.196552, -0.19569029) * inp_0_2_0;
    result2 += M4(0.21957637, 0.17667098, 0.042965017, -0.10980071, -0.19844712, -0.12567508, 0.21906991, 0.27334833, -0.4015849, -0.3575015, -0.29636317, 0.007991688, 0.19125779, 0.118290745, -0.35968253, -0.37045747) * inp_0_0_1;
    result2 += M4(-0.05305196, -0.3099421, 0.036842927, -0.047635112, -0.16122906, 0.1519587, 0.1986818, 0.09905625, -0.11994444, -0.1341769, -0.64230895, -0.23590451, 0.2202756, -0.47987303, -3.4029994, -0.62553614) * inp_0_1_1;
    result2 += M4(-0.14162734, 0.05724035, -0.0340048, -0.062344525, -0.13422832, 0.015613289, 0.279989, 0.08359794, -0.05782942, 0.0069092996, -0.257703, 0.016329817, 0.18392506, 0.03743127, 0.22088414, -0.29661343) * inp_0_2_1;
    result2 += M4(0.13256495, -0.2150876, -0.011748235, -0.5477688, 0.04962244, -0.08019699, -0.018787969, 0.48485407, 0.35120454, 0.097095095, 0.05188554, 0.26035368, -0.20605569, 0.09215914, -0.028898258, -0.075022645) * inp_0_0_2;
    result2 += M4(0.4165944, 1.6386509, -0.38830853, -0.5863877, -0.105151355, 0.12708586, 0.034602147, 0.7809771, -0.14931466, -0.40165251, 1.4656951, -0.34594658, 0.2379735, -0.3246842, -0.45857954, -0.42244175) * inp_0_1_2;
    result2 += M4(0.25766388, -0.1538337, -0.18059835, -0.3113297, 0.03105275, -0.10578523, 0.19321631, 0.43387797, 0.023534533, 0.20612204, 0.180157, 0.044944894, 0.1499993, 0.023907986, -0.08578179, -0.10828266) * inp_0_2_2;
    result3 += M4(0.0008592413, 0.0060454896, 0.025257418, -0.018767279, -0.014877387, 0.012682719, -0.006009574, -0.09243516, 0.018795153, -0.05123636, -0.072882324, 0.111290276, -0.034550365, -0.061920956, -0.023231633, -0.032819647) * inp_0_0_0;
    result3 += M4(0.035634227, -0.00275831, 0.02396024, -0.022164762, 0.03191941, 0.055050854, 0.01491315, 0.018676808, 0.15807939, -0.033832137, -0.034408577, -0.05566665, 0.002783329, -0.12428134, 0.016127918, -0.20460062) * inp_0_1_0;
    result3 += M4(-0.008022332, -0.041058358, -0.021269595, -0.051381674, 0.08883469, 0.018040493, 0.015425617, 0.08791674, -0.1271702, -0.04809901, 0.07615802, -0.15641718, 0.21740617, 0.11484922, 0.06448052, -0.02349846) * inp_0_2_0;
    result3 += M4(0.022260163, 0.21825075, -0.06095444, 0.050410815, 0.0075258915, -0.019618353, -0.075848676, 0.12654112, 0.04579362, 0.13620505, -0.0081776, -0.24310859, -0.100617744, 0.13335809, -0.05251222, -0.065122925) * inp_0_0_1;
    result3 += M4(0.3635397, -0.09136448, 0.04003022, 0.057835136, -0.01720519, -0.036579195, -0.06857796, 0.36590195, 0.1494164, 0.052918926, 0.015603534, 0.11108664, -0.25746003, 0.38381195, 0.3897965, -0.28290683) * inp_0_1_1;
    result3 += M4(-0.36003363, 0.0226508, 0.015617631, -0.18145855, 0.013136492, 0.1117545, -0.01999951, 0.20825306, 0.19115523, -0.014011303, -0.08841303, 0.23052888, -0.32054695, 0.29364204, 0.1585297, -0.04246155) * inp_0_2_1;
    result3 += M4(-0.21216227, -1.0708382, -0.08288298, -0.7391323, -0.041517578, -0.41632608, -0.019328743, -0.043554917, -0.012738602, -3.2449656, -0.13915914, 0.063957825, 0.06239021, 0.26525575, 0.035347395, 0.12377835) * inp_0_0_2;
    result3 += M4(0.26482606, -0.7358142, 0.39718634, 1.0751461, -0.12468688, -0.79363483, 0.20568617, 0.20325184, -0.002573484, -3.3242152, 0.0101771355, -0.18777624, 0.028811403, 0.18059346, -0.03750357, -0.00031747916) * inp_0_1_2;
    result3 += M4(-0.022118665, 0.12799476, -0.31587967, 0.13775805, -0.05526928, -0.3145838, -0.06595076, 0.36856407, 0.047224596, -2.8838716, 0.0980901, -0.15474857, -0.06107916, 0.33674878, -0.09612771, 0.08725378) * inp_0_2_2;
    const V4 inp_1_0_0 = inp[1][local_xy.y + 0][local_xy.x + 0];
    const V4 inp_1_1_0 = inp[1][local_xy.y + 0][local_xy.x + 1];
    const V4 inp_1_2_0 = inp[1][local_xy.y + 0][local_xy.x + 2];
    const V4 inp_1_0_1 = inp[1][local_xy.y + 1][local_xy.x + 0];
    const V4 inp_1_1_1 = inp[1][local_xy.y + 1][local_xy.x + 1];
    const V4 inp_1_2_1 = inp[1][local_xy.y + 1][local_xy.x + 2];
    const V4 inp_1_0_2 = inp[1][local_xy.y + 2][local_xy.x + 0];
    const V4 inp_1_1_2 = inp[1][local_xy.y + 2][local_xy.x + 1];
    const V4 inp_1_2_2 = inp[1][local_xy.y + 2][local_xy.x + 2];
    result0 += M4(-0.052721377, -0.0173449, 0.002565285, 0.015600753, -0.033231217, 0.077176124, 0.08184144, 0.0085244505, 0.0620858, -0.32553557, -0.028677262, 0.008529503, -0.060249187, 0.004729565, 0.02009941, 0.019207211) * inp_1_0_0;
    result0 += M4(0.14037552, -0.059622154, -0.078692496, 0.04531731, -0.032256246, 0.6582542, 0.08468986, 0.10177182, -0.14601451, -1.0812795, -0.17587669, -0.039594363, -0.043734334, 0.24304043, -0.082557686, -0.025869677) * inp_1_1_0;
    result0 += M4(0.20527975, 0.06501727, 0.056854934, -0.05409896, -0.07962441, 0.17499231, 0.015613589, 0.009554091, 0.23051056, -0.17523755, 0.01231804, 0.020254329, 0.13391107, 0.12927365, 0.11344775, 0.04219739) * inp_1_2_0;
    result0 += M4(-0.0805225, 0.042134166, 0.13329116, 0.018783556, -0.14233524, 0.09770563, 0.012433854, 0.052218996, -0.020957453, -0.34972447, -0.015274933, 0.045265082, 0.15517336, 0.005548583, -0.013899265, -0.026179546) * inp_1_0_1;
    result0 += M4(0.21923903, 0.29013002, 0.006269149, -0.06994468, -0.10529544, 0.1910692, -0.050169762, 0.07092348, 0.39523497, 0.07981012, 0.7575541, 0.22659372, 0.110911705, -0.403541, 0.13230737, 0.04462369) * inp_1_1_1;
    result0 += M4(-0.45224002, -0.023326455, -0.06314311, -0.040813725, -0.8259437, 0.04815163, 0.077039436, 0.01973233, 0.5442326, -0.04370307, -0.08963678, 0.0062767062, 0.44821912, -0.3028604, -0.009155281, -0.0092615895) * inp_1_2_1;
    result0 += M4(-0.11993374, -0.09354856, 0.103794746, 0.090043694, -0.037925832, 0.015671592, -0.01579768, -0.011080933, -0.052016865, -0.037943047, 0.051444046, 0.07563244, -0.022066124, -0.07313877, 0.04195369, 0.027673487) * inp_1_0_2;
    result0 += M4(-0.08572805, -0.14278759, 0.103857495, 0.16196983, -0.012738617, 0.11221273, -0.008501004, -0.052308843, 0.26603812, 0.06775509, 0.0024106756, 0.0448272, -0.08647292, -0.01573508, 0.04289487, 0.044565044) * inp_1_1_2;
    result0 += M4(0.3281832, -0.067682706, -0.047781605, 0.018351104, -0.12979488, 0.06133234, -0.04863078, -0.04096101, 0.046144117, -0.14442885, -0.0071143787, -0.008403326, 0.0742452, -0.008360219, 0.02014776, 0.02121729) * inp_1_2_2;
    result1 += M4(0.5174088, 0.17809339, -0.32276785, -0.22533196, 0.043349218, -0.009152044, -0.042457875, 0.06754552, 0.002986142, -0.0437917, -0.052396808, -0.21061514, 0.087986626, -0.056335155, -0.05288498, -0.018630339) * inp_1_0_0;
    result1 += M4(0.0020399566, 0.06557919, 0.09758378, -0.359421, 0.22562747, 0.18251547, 0.028000616, 0.109175704, -0.23120107, -1.0582494, 0.1769331, 0.31618205, 0.10838141, -0.1319084, 0.06513525, -0.48242408) * inp_1_1_0;
    result1 += M4(0.023401188, 0.06265736, 0.0155535275, 0.019328464, 0.23412721, 1.1738139, -0.19505033, 0.19497113, -0.048001707, -1.0320323, 0.17540905, -0.45519987, -0.1435881, -1.9771725, -0.08320399, 0.092029236) * inp_1_2_0;
    result1 += M4(0.033503324, 0.1971724, -0.31499547, 0.0832566, -0.022436803, -0.071869224, 0.00041316653, 0.07316741, -0.14317675, 0.10948936, -0.06167117, 0.06792068, 0.057371654, -0.061311673, -0.052235518, -0.09263642) * inp_1_0_1;
    result1 += M4(0.33657444, -0.3138529, -0.03450466, -0.6662706, 0.13705716, -0.051954765, -0.21011023, 0.17018065, -0.6253558, -0.22842628, 0.51648486, -0.072312884, 0.018481899, 0.043406352, -0.10222081, 0.25532863) * inp_1_1_1;
    result1 += M4(-0.21590814, -0.15846261, -0.09059199, 0.51043355, 0.07513419, 0.4833312, -0.060283557, 0.8616425, 0.0042860657, -0.12510753, -0.19282779, -0.8525703, -0.01921643, -0.5763909, -0.46368563, -0.20157483) * inp_1_2_1;
    result1 += M4(0.06359027, 0.031323235, -0.10190985, 0.25213102, 0.08525461, 0.10651907, -0.0098785, 0.00013966665, -0.018886691, 0.05299242, 0.04556468, -0.008868679, -0.0011174697, 0.00040982311, -0.0023280985, -0.022307592) * inp_1_0_2;
    result1 += M4(-0.059592433, -0.3019985, 0.13384885, 0.28312233, 0.027385589, -0.11821247, -0.016317993, 0.44111726, -0.011476195, 0.016308982, 0.0195888, -0.31231785, 0.054412544, 0.065877035, 0.020865977, -0.052955527) * inp_1_1_2;
    result1 += M4(-0.039562248, 0.16810852, 0.1237136, -0.29763317, 0.04182019, -0.17218068, -0.02797192, 0.6291157, -0.12940134, 0.0062745195, -0.029225577, -0.38805756, 0.00023732016, -0.10481458, -0.031231977, -0.22171749) * inp_1_2_2;
    result2 += M4(0.009219805, -0.17439207, 0.22777475, -0.044141714, 0.17133874, 0.015828483, 0.019398903, -0.12793176, -0.11702513, 0.0418007, 0.0035309598, 0.123503424, 0.02990991, -0.05435304, -0.035135724, 0.093420796) * inp_1_0_0;
    result2 += M4(-0.05154194, -0.006638943, 0.035812065, -0.07976047, 0.16513202, -0.1001747, -0.04770697, -0.049435604, -0.58636045, -0.25482664, 0.10144497, 0.040832672, -0.08486842, -0.20721138, -0.16228642, -0.06290128) * inp_1_1_0;
    result2 += M4(0.06447828, -0.25577903, 0.16022845, 0.041211337, 0.16475207, 0.054134935, 0.013852664, -0.07986859, 0.052035086, 0.008835276, -0.00013977419, 0.12554154, -0.32873443, -0.12709069, -0.19036524, 0.06435394) * inp_1_2_0;
    result2 += M4(-0.1058251, -0.23111205, 0.34870455, 0.0752423, 0.18423007, 0.03239924, -0.050431818, -0.2729661, -0.34496245, 0.0017086768, 0.31119266, -0.2509755, -0.10648907, -0.14180516, -0.0118697975, 0.07914012) * inp_1_0_1;
    result2 += M4(0.18111941, -0.17695256, -0.4566953, 0.5504949, 0.71142983, -0.07048395, -0.5540122, -0.80577105, -0.1270147, 0.38576832, 0.30834612, 0.15481362, -0.28368106, 0.10687358, 0.42419833, 0.38646746) * inp_1_1_1;
    result2 += M4(-0.09595944, 0.17035833, -0.23327562, -0.09437543, 0.14474304, 0.11836843, 0.3751853, -0.37448007, -0.25099313, 0.16196668, -0.28564647, 0.03199422, 0.3722337, 0.22623913, -5.6847315, 0.3323547) * inp_1_2_1;
    result2 += M4(0.08131856, -0.20778546, -0.0629558, -0.2114305, 0.045638513, -0.00402644, -0.01304548, -0.075728096, -0.11501879, -0.06700923, -0.12595308, -0.1256235, -0.0025236183, 0.029900257, 0.03506857, -0.04062179) * inp_1_0_2;
    result2 += M4(-0.0061550857, 0.3452284, 0.4564177, -0.32229924, 0.09547675, 0.08231439, 0.25803515, -0.45979458, -0.045358416, 0.13995492, -2.0521312, 0.15793653, -0.13835421, -0.12727354, -0.2005455, 0.29794735) * inp_1_1_2;
    result2 += M4(0.006268572, 0.06396842, -0.061503105, -0.016316393, 0.1401969, -0.044639215, -2.3164577, -0.40873468, -0.16730773, 0.013876306, 0.1636887, 0.04703052, -0.1528585, -0.11129193, 0.17073792, 0.37353748) * inp_1_2_2;
    result3 += M4(-0.016242005, 0.026002323, -0.13317505, -0.179382, 0.02654931, 6.122134e-05, 0.030349014, 0.035032727, -0.0028328116, 0.032057498, 0.013774416, -0.107835434, -0.060158506, -0.112477586, -0.06664144, 0.041760065) * inp_1_0_0;
    result3 += M4(0.19637862, 0.03687145, -0.007528137, -0.0516481, 0.046040315, 0.050371252, 0.008226313, -0.03899965, -0.069902964, 0.05356883, -0.041784633, -0.085165426, -0.08044228, 0.14201188, 0.073071525, 0.0038202498) * inp_1_1_0;
    result3 += M4(-0.6636008, 0.09998116, 0.034608122, -0.07198167, -0.22937706, 0.03803984, 0.06110624, -0.068858474, -0.80120873, -0.09493633, 0.015067275, -0.16586155, -0.5871887, -0.28056878, 0.029767126, -0.048449535) * inp_1_2_0;
    result3 += M4(0.0838172, -0.5521471, 0.10463312, -0.03863761, 0.021994762, 0.058665793, 0.010167994, 0.019978559, 0.015121926, -0.72244453, -0.0051201084, -0.047342893, 0.029286679, 0.0167833, 0.031770624, -0.09529748) * inp_1_0_1;
    result3 += M4(0.5526162, 0.33098912, 0.0963206, -0.30819768, 0.054400794, -0.16845785, -0.039763633, 0.012726367, -0.12771219, -0.78708225, -0.18581472, 0.09221839, 0.17283839, 0.5039373, -0.0025632135, 0.034806274) * inp_1_1_1;
    result3 += M4(0.05011977, -0.07392553, -0.081619985, -0.029741839, 0.1860197, 0.070915304, 0.011747712, -0.03647962, -0.12840094, -0.9491524, -0.061077107, -0.251625, -0.065086044, -0.8061007, 0.026569571, -0.28243557) * inp_1_2_1;
    result3 += M4(-0.08654886, 0.83010346, 0.043972697, -0.030507585, 0.024800906, -0.65586144, -0.03254747, 0.03326556, -0.008682596, 0.367687, 0.094889134, -0.029458782, 0.024693567, -0.011834165, 0.039672602, 0.02126834) * inp_1_0_2;
    result3 += M4(0.24100807, -1.3897991, -0.016628552, 0.18122913, -0.06644649, -0.9140881, 0.0526568, -0.08038668, 0.049179703, 0.58345294, -0.023890402, -0.008850786, -0.006010175, -2.0246167, 0.020616438, 0.053675093) * inp_1_1_2;
    result3 += M4(0.002266575, -0.089527585, 0.01960078, 0.040221844, -0.04937692, 0.45653647, -0.04699891, -0.04986393, 0.037721608, -2.1123133, 0.08222957, 0.022374446, 0.005791372, -1.9148324, 0.017517563, 0.0820145) * inp_1_2_2;
    const V4 inp_2_0_0 = inp[2][local_xy.y + 0][local_xy.x + 0];
    const V4 inp_2_1_0 = inp[2][local_xy.y + 0][local_xy.x + 1];
    const V4 inp_2_2_0 = inp[2][local_xy.y + 0][local_xy.x + 2];
    const V4 inp_2_0_1 = inp[2][local_xy.y + 1][local_xy.x + 0];
    const V4 inp_2_1_1 = inp[2][local_xy.y + 1][local_xy.x + 1];
    const V4 inp_2_2_1 = inp[2][local_xy.y + 1][local_xy.x + 2];
    const V4 inp_2_0_2 = inp[2][local_xy.y + 2][local_xy.x + 0];
    const V4 inp_2_1_2 = inp[2][local_xy.y + 2][local_xy.x + 1];
    const V4 inp_2_2_2 = inp[2][local_xy.y + 2][local_xy.x + 2];
    result0 += M4(-0.0024272418, 0.015276097, 0.085140534, 0.10806823, -0.25317824, -0.021786522, 0.25680828, -0.0693621, -0.047878146, -0.093707286, 0.019289704, 0.025077006, 0.03500501, -0.100472845, -0.034524754, 0.045243446) * inp_2_0_0;
    result0 += M4(0.10901767, -0.32647052, -0.0037313413, -0.008950178, -0.3005383, 0.38182202, -0.2258928, -0.077223, 0.0010675916, -0.12833208, -0.0018167198, -0.009514616, 0.025814982, 0.11173776, 0.03823945, 0.026904846) * inp_2_1_0;
    result0 += M4(-0.024578804, 0.080057345, -0.014289867, -0.031595737, -0.05790979, 0.013934835, 0.0712022, -0.0077691604, -0.068805754, 0.0332973, -0.009415372, 0.01140248, 0.088757806, -0.13796267, 0.012982788, 0.018929556) * inp_2_2_0;
    result0 += M4(-0.10383063, 0.30337164, 0.05669973, 0.019503156, 0.16641481, 0.19254254, -0.08459202, 0.58396816, -0.011692912, 0.047249287, -0.022131357, 0.017709045, 0.032837477, -0.14143164, -0.033967618, -0.010692574) * inp_2_0_1;
    result0 += M4(0.72635794, -0.3440581, 0.25763115, 0.07689975, 0.24346584, -0.29852322, 0.27905074, 0.10485846, -0.038954847, 0.042580567, -0.05057479, -0.075695805, 0.04704968, -0.48709607, 0.060335692, -0.0008872707) * inp_2_1_1;
    result0 += M4(0.8189729, -0.0008127658, -0.034853257, -0.07744479, 0.021923626, -0.013894119, -0.04344011, 0.070544176, -0.037173774, 0.09482392, -0.039642803, 0.018437743, 0.19201714, -0.4064229, -0.04039345, -0.034626585) * inp_2_2_1;
    result0 += M4(-0.087209426, 0.06849428, -0.05079816, 0.03285058, 0.07933825, 0.29744107, 0.28467125, 0.110230796, 0.026803847, 0.010402896, 0.06665902, 0.035459753, 0.12495339, -0.08704487, 0.06882137, 0.0705816) * inp_2_0_2;
    result0 += M4(-0.37918293, -0.109160855, 0.054361597, 0.025076926, -0.21828106, -0.1338407, -0.02321269, -0.14587192, 0.14603382, -0.06610451, 0.04673212, -0.017245844, 0.05978477, -0.38046676, 0.23010889, 0.11828129) * inp_2_1_2;
    result0 += M4(0.39468923, -0.01860597, 0.0028415245, 0.0245678, -0.010614768, 0.033134963, 0.055048253, -0.0034960718, -0.069654405, -0.010816504, 0.00028904196, -0.019967997, 0.6200669, -0.11479341, 0.111626446, 0.01049109) * inp_2_2_2;
    result1 += M4(-0.0090679675, 0.11009208, -0.034980036, -0.08149783, 0.19526157, 0.03188178, -0.11281826, 0.751122, -0.09167318, 0.10051309, 0.05232883, 0.0024200478, 0.021697778, 0.009569171, 0.043982603, -0.1186896) * inp_2_0_0;
    result1 += M4(-0.07640983, -0.47911602, 0.15294904, -0.09306652, -0.3646419, 0.46503776, 0.07113255, 0.84424984, -0.20346032, 0.15198343, 0.06229414, -0.0960611, 0.01898055, -0.17476226, 0.003503664, -0.06795668) * inp_2_1_0;
    result1 += M4(0.19341296, 0.026164772, 0.04918828, 0.21640082, 0.19527243, 0.008330896, -0.027396472, 0.23755921, -0.11989175, 0.21557237, 0.10648787, 0.081688754, 0.08336131, 0.18778588, 0.018196533, -0.2265634) * inp_2_2_0;
    result1 += M4(0.18629922, -0.20704316, 0.04359103, -0.18236949, 0.23734087, 0.64448255, 0.3632609, -0.36222446, -0.12810344, 0.15796612, 0.09794089, 0.13306706, -0.18756604, 0.061998002, 0.11936719, -0.060709722) * inp_2_0_1;
    result1 += M4(0.2401501, 0.81342816, -0.23676595, -0.65157527, 0.013200174, -0.72705555, 0.19316672, -1.5822985, -0.081576526, 0.11160549, 0.087668695, 0.22964999, -0.0012373537, 0.29323485, -0.0015363068, -0.094783604) * inp_2_1_1;
    result1 += M4(-0.059895977, 0.09932579, 0.08383973, 0.2845663, 0.08628745, 0.07433525, -0.0556652, -0.23900758, -0.1770135, 0.11773776, 0.28726384, 0.15525483, -0.20481402, 0.20634739, -0.018379068, -0.59385407) * inp_2_2_1;
    result1 += M4(0.07560667, -0.0816914, -0.018447373, -0.20880063, -0.11760507, 0.051516086, 0.1610865, 0.6661086, 0.0028619028, 0.13539831, 0.06532341, 0.18468328, -0.06015183, 0.08358089, 0.074078284, -0.03291524) * inp_2_0_2;
    result1 += M4(0.02736363, 0.062473923, -0.038236752, 0.6721826, 0.17318532, 0.71629286, 0.13119072, 0.3117906, -0.014865384, 0.16779454, -0.020827306, 0.036575653, -0.008717675, 0.069908716, 0.1646804, -0.26657444) * inp_2_1_2;
    result1 += M4(0.016316358, 0.10170989, 0.0036856108, -0.35488805, 0.0036443695, -0.10647892, 0.013817797, -0.1572936, -0.005061816, 0.21291737, 0.0850527, 0.14525454, -0.045883995, 0.18222441, -0.1144261, -0.6816593) * inp_2_2_2;
    result2 += M4(0.23451544, -0.02731332, 0.04187911, 0.13244778, -0.034959413, 0.031393405, 0.13667832, 0.084737465, 0.04525281, 0.12109092, 0.12599084, -0.071044326, -0.11476332, 0.03385332, 0.017710458, 0.07758974) * inp_2_0_0;
    result2 += M4(0.07363093, 0.3890762, 0.29546103, 0.1318626, 0.23560171, 0.1061467, 0.26053184, 0.12785111, -0.10220856, 0.18057092, 0.13976133, -0.094812416, -0.02090691, 0.070385724, -0.033779226, 0.047495857) * inp_2_1_0;
    result2 += M4(-0.23502807, 0.30317295, 0.12768643, 0.13113837, 0.119976066, 0.08848913, -0.0004149851, -0.0028735958, -0.07892022, 0.21950868, 0.10315541, -0.098356396, -0.025593614, 0.073755994, -0.026220769, 0.04423101) * inp_2_2_0;
    result2 += M4(0.032566104, -0.0185092, -0.059714567, -0.06688821, -0.22843547, -0.23359479, 0.11515025, 0.15202092, -0.030555777, 0.10502653, 0.08965849, -0.21216176, -0.25041664, 0.05667896, 0.08094315, 0.06438385) * inp_2_0_1;
    result2 += M4(-0.2683308, 0.3233934, 0.3715778, -0.31958598, 0.002610853, -0.38085976, 0.21646532, -0.13329247, -0.045572195, 0.20304036, 0.16017634, -0.3606398, -0.5340212, 0.20642729, 0.059340425, -0.03297205) * inp_2_1_1;
    result2 += M4(-0.033293508, 0.006258485, -0.133235, -0.05274697, -0.043837857, -0.055520345, -0.09650368, -0.09509111, -0.17840499, 0.06490042, 0.3717548, -0.15278283, -0.19185586, 0.24270713, 0.038015585, -0.12857862) * inp_2_2_1;
    result2 += M4(0.25530997, 0.022143394, 0.10031864, 0.19739033, -0.09667487, 0.08227015, 0.7696004, 0.2160392, -0.07934566, 0.053860214, 0.13632357, -0.047258575, -0.12691867, 0.072737224, -0.0068118577, 0.113211304) * inp_2_0_2;
    result2 += M4(-0.25564626, 0.28154197, 0.44869947, -0.14105731, -0.35996756, 0.110876225, -0.45018867, -0.18466042, 0.017961092, 0.061575532, 0.15265408, -0.47030452, -0.5880161, 0.23227283, 0.29429516, 0.22604196) * inp_2_1_2;
    result2 += M4(-0.14055917, -0.0528575, -0.036214285, 0.12235252, 0.0046672733, 0.0062303045, 0.26532298, 0.108263746, 0.11980147, 0.20377095, -0.084958285, -0.23898858, -0.4643646, 0.08559502, -0.13752629, 0.19343106) * inp_2_2_2;
    result3 += M4(-0.031789787, 0.0017886297, 0.07763548, 0.08678063, 0.041691426, -0.061879065, 0.04469983, 0.13682966, 0.032947186, -0.01755272, 0.035067447, 0.0017495513, 0.011249638, -0.019201769, -0.00078168145, -0.0543682) * inp_2_0_0;
    result3 += M4(-0.15668379, 0.06116587, -0.00800034, -0.036814924, 0.11344036, 0.14905977, -0.09903152, 0.12538475, 0.04051533, -0.00047181017, 0.03045265, -0.1056567, -0.008589871, 0.01028667, 0.009035755, -0.00049236533) * inp_2_1_0;
    result3 += M4(0.0012332946, -0.05958423, -0.060230374, -0.17967379, 0.060493134, -0.022095146, 0.014948374, -0.03830392, 0.028129024, 0.029784083, -0.006925209, -0.01934434, -0.03564537, -0.0033458553, -0.001362738, -0.036794357) * inp_2_2_0;
    result3 += M4(0.053923234, 0.27061287, 0.07321693, 0.107734196, 0.08786102, 0.10029767, 0.18121505, 0.31621364, -0.025654363, 0.06457134, -0.019118344, 0.044432092, -0.05718751, 0.0127820615, -0.013801418, -0.038914546) * inp_2_0_1;
    result3 += M4(0.39028478, 0.27726167, 0.32946473, 0.21549372, 0.27279675, 0.22889337, 0.16597724, -0.025681822, -0.09190613, -0.049750257, -0.08040471, -0.04592753, 0.07748017, -0.0391998, -0.0031837453, -0.09258131) * inp_2_1_1;
    result3 += M4(0.18485634, 0.24448161, -0.01685538, -0.09495978, 0.049171016, 0.033479217, -0.013598417, 0.09613405, -0.013886087, -0.15833394, 0.099699736, 0.12941393, 0.011459244, 0.052980628, -0.018377436, 0.04607837) * inp_2_2_1;
    result3 += M4(-0.028781103, 0.06610784, -0.0696497, -0.045872785, -0.20064282, -0.637894, 0.02596141, 0.114729136, -0.0099124415, 0.2895607, 0.061814126, -0.010350347, -0.025114028, 0.041211035, 0.038021125, 0.012788175) * inp_2_0_2;
    result3 += M4(-0.067519076, -0.6121347, 0.08053475, -0.022379175, 0.1193117, -1.0362601, -0.014454445, 0.13416809, 0.0036642111, 0.1664076, -0.023381488, -0.09791105, 0.045470405, -0.35378745, 0.2506015, -0.08380298) * inp_2_1_2;
    result3 += M4(0.054030474, -0.4575187, 0.089879036, -0.09975952, 0.025444843, -1.2603117, 0.061245758, -0.014324672, 0.057202965, 0.26495048, -0.05821266, -0.20018822, 0.033624597, -0.7397124, 0.0743278, -0.15849748) * inp_2_2_2;
    const V4 inp_3_0_0 = inp[3][local_xy.y + 0][local_xy.x + 0];
    const V4 inp_3_1_0 = inp[3][local_xy.y + 0][local_xy.x + 1];
    const V4 inp_3_2_0 = inp[3][local_xy.y + 0][local_xy.x + 2];
    const V4 inp_3_0_1 = inp[3][local_xy.y + 1][local_xy.x + 0];
    const V4 inp_3_1_1 = inp[3][local_xy.y + 1][local_xy.x + 1];
    const V4 inp_3_2_1 = inp[3][local_xy.y + 1][local_xy.x + 2];
    const V4 inp_3_0_2 = inp[3][local_xy.y + 2][local_xy.x + 0];
    const V4 inp_3_1_2 = inp[3][local_xy.y + 2][local_xy.x + 1];
    const V4 inp_3_2_2 = inp[3][local_xy.y + 2][local_xy.x + 2];
    result0 += M4(-0.046247076, -0.2733265, -0.001397817, 0.020153912, -0.042736102, 0.2893191, -0.0481298, 0.03233756, 0.0032921813, 0.06742739, 0.06149394, 0.006029729, 0.112909734, -0.06660745, 0.07561314, 0.0258424) * inp_3_0_0;
    result0 += M4(0.009054871, -0.24226789, 0.0816152, 0.10761157, 0.38042077, -0.4655899, -0.052232936, -0.14768948, -0.0875916, 0.32096255, 0.05170221, 0.031527188, 0.17320934, -0.14487895, -0.128261, 0.019183777) * inp_3_1_0;
    result0 += M4(-0.01693688, -0.0026356652, 0.025729885, 0.027361166, -0.36561438, -0.19476171, -0.1825189, -0.025872203, -0.19074115, 0.21328002, -0.028236762, 0.034601998, 0.14342824, -0.07528433, 0.06266351, -0.002499246) * inp_3_2_0;
    result0 += M4(0.0063907816, -0.60134757, 0.23139045, -0.49354133, 0.17925647, 0.20945972, -0.017902775, -0.0384042, -0.26757503, 0.14126973, -0.016834049, -0.006485278, 0.0013661876, -0.06805862, 0.004877328, -0.041500047) * inp_3_0_1;
    result0 += M4(-0.07388637, 0.4232452, 0.018767403, 0.033632923, 0.034076214, -0.16291375, 0.23143606, 0.07637084, -0.25772083, -0.07261671, 0.08864296, 0.14837825, -0.3598938, -0.066064924, 0.060961198, 0.50466335) * inp_3_1_1;
    result0 += M4(0.16362217, 0.04121202, -0.01699836, -0.031489972, 0.065512456, 0.049398426, 0.015399833, 0.047096815, -0.2605593, 0.19292496, 0.080502495, 0.04795463, -0.23800665, 0.09885309, -0.017827269, -0.04600415) * inp_3_2_1;
    result0 += M4(0.026278688, 0.2948648, -0.035365336, -0.08351208, 0.036565676, 0.34175783, -0.13968636, -0.06493457, -0.18477742, -0.042078115, 0.017130721, 0.055883072, -0.08435926, -0.014903186, 0.01766272, 0.023235925) * inp_3_0_2;
    result0 += M4(-0.46295482, 0.2890596, -0.008085475, 0.033078168, -0.01647282, 0.05374464, -0.110055104, -0.10453184, -0.1911812, -0.027806047, 0.06868863, 0.03580023, 0.12152757, 0.014585318, 0.0045108143, 0.0001757049) * inp_3_1_2;
    result0 += M4(-0.0472876, -0.043541346, -0.014050096, 0.008875396, 0.012578602, -0.052085504, -0.03851446, -0.04306302, -0.19758037, 0.12771925, 0.02390468, 0.041670173, 0.2966838, 0.041327972, 0.014289775, 0.09398371) * inp_3_2_2;
    result1 += M4(-0.0034346408, 0.1579622, 0.096452974, -0.0066183573, -0.14685066, 0.26453856, 0.19033134, -0.12097468, -0.016535455, 0.17227665, -0.058074072, 0.07560729, 0.08983804, 0.06020846, 0.013896112, 0.03264315) * inp_3_0_0;
    result1 += M4(-0.030287685, -0.67375386, -0.071085244, -0.38520592, -0.04424436, 0.28236985, -0.3326065, -0.20974006, -0.08141438, -0.035731666, -0.023679543, -0.06396072, 0.050890423, -0.01728313, -0.20021607, -0.43080267) * inp_3_1_0;
    result1 += M4(0.03580659, 0.017114297, 0.040411312, -0.2032765, 0.09817694, -0.13399373, 0.22212054, 0.2005808, -0.060807347, 0.10062366, 0.056117866, 0.25754103, 0.39237183, -0.8163184, -0.17529032, -0.1626815) * inp_3_2_0;
    result1 += M4(0.05259897, -0.023298321, -0.035723537, 0.43199027, 0.09631879, -0.019202325, 0.007180713, 0.015418377, 0.07376025, -0.0634082, -0.021329321, -0.0068627987, 0.071558796, 0.040885374, -0.004910297, -0.0634387) * inp_3_0_1;
    result1 += M4(0.14639468, -1.2031585, 0.6429216, 0.24137342, 0.07237753, -0.00029639102, 0.004592903, -0.21173723, 0.22035488, 0.25889587, -0.057664137, -0.08234997, -0.3887514, -0.43324915, 0.6702673, 0.14804785) * inp_3_1_1;
    result1 += M4(0.08468938, -0.19025795, -0.0256975, -0.39584506, 0.19487026, 0.40551284, -0.09253732, 0.10734543, 0.05822391, -0.0010955039, 0.18726252, 0.5799849, 0.1445725, -1.5876733, -0.12981138, -1.7154661) * inp_3_2_1;
    result1 += M4(-0.023655262, -0.20567639, -0.13037387, -0.642725, 0.058122773, 0.056288272, 0.06617187, -0.04576473, 0.047094494, 0.02767955, 0.098234884, -0.016091228, -0.0850623, -0.0215621, 0.025046341, 0.03020134) * inp_3_0_2;
    result1 += M4(-0.06368766, 0.35431626, 0.47681347, -0.33091375, 0.18321909, 0.19447064, 0.00225029, -0.15378764, 0.10692072, 0.16911745, -0.007863092, 0.064600214, 0.09018809, 0.14026965, 0.13181908, -0.34776002) * inp_3_1_2;
    result1 += M4(0.009667724, 0.008420035, -0.013575154, -0.10081256, 0.10077817, 0.34063104, 0.05645005, 0.11307876, 0.11378531, 0.16971475, 0.03244255, 0.12927425, 0.015823774, -0.29046285, -0.07300429, -0.6936535) * inp_3_2_2;
    result2 += M4(-0.102930605, -0.34255356, 0.08136332, 0.11003337, -0.18901053, -0.13015816, 0.05251902, 0.34641457, 0.16024576, 0.019393139, 0.100645535, -0.08247849, -0.076458, -0.003783305, -0.033903524, -0.07972197) * inp_3_0_0;
    result2 += M4(-0.048849463, -0.20924689, -0.1494498, 0.066798046, 0.2670945, -0.0046242345, 0.13940701, -0.00932564, 0.16363163, -0.12802054, 0.07709636, -0.05713442, 0.026521757, 0.02365433, -0.24825081, -0.12618062) * inp_3_1_0;
    result2 += M4(0.009942357, -0.0069628987, 0.03270697, 0.004457097, 0.10017886, -0.36344486, 0.07119812, 0.12398748, 0.07281161, -0.06389492, 0.017000958, -0.049108382, -0.123856574, -0.1673846, -0.08566858, -0.12390638) * inp_3_2_0;
    result2 += M4(0.19841903, -0.04372277, 0.07152196, 0.1074009, 0.0028687567, 0.02644708, -0.031233475, 0.12564513, 0.066052474, -0.04859757, 0.113302134, -0.35613817, 0.0367295, 0.059176866, -0.0096212905, 0.08226905) * inp_3_0_1;
    result2 += M4(0.18133518, 0.23228146, -0.03267819, 0.092948, -0.031798277, 0.048257094, -0.2861073, 0.08831017, 0.4340539, -0.4220793, -0.026818573, -0.20272578, 0.045140263, 0.032261476, -0.08808952, 0.16711237) * inp_3_1_1;
    result2 += M4(-0.029290281, -0.004175354, 0.123519115, 0.06650774, -0.15961987, -0.2384895, 0.040015355, 0.2710192, 0.22135802, -0.08455984, 0.11375344, -0.057646595, -0.019306086, -0.12291587, 0.008773158, 0.1946337) * inp_3_2_1;
    result2 += M4(0.33328196, -0.37160844, -0.28348956, 0.10905584, 0.023128651, -0.0063480735, 0.1676675, -0.09317262, 0.13342969, -0.06979645, 0.13123345, 0.2385167, 0.08098026, 0.06369232, 0.010045212, 0.03875564) * inp_3_0_2;
    result2 += M4(0.10399221, -0.3310481, 0.57407933, 0.023642803, 0.03958903, 0.017392552, 0.22858089, -0.081459545, -0.012714942, 0.0020996835, 0.5782218, -0.12581956, 0.109063365, 0.03831603, -3.4767585, -0.0025057895) * inp_3_1_2;
    result2 += M4(0.0016996309, 0.069921926, -0.08100461, -0.048732452, -0.12205812, -0.049937688, 0.2758456, 0.0067002685, 0.19775528, -0.107214525, 0.032919712, -0.06440751, 0.26830643, -0.14454709, 0.09134798, -0.0026198665) * inp_3_2_2;
    result3 += M4(0.054636385, -0.049334068, 0.052574653, 0.01839007, -0.025300194, 0.038068347, -0.008401852, -0.048750896, 0.04067175, 0.06800608, 0.036383457, 0.03724943, -0.01584406, 0.030199993, 0.04951043, -0.0036744024) * inp_3_0_0;
    result3 += M4(-0.030113474, -0.014836288, -0.0096220365, -0.022006724, 0.16346753, 0.14266732, 0.15124713, 0.066177905, 0.10386911, -0.034372732, 0.039057944, 0.09096487, -0.06368572, 0.06177944, -0.051449656, -0.006897825) * inp_3_1_0;
    result3 += M4(0.046699792, -0.00984985, 0.011489191, 0.030218748, 0.064600445, -0.05495157, -0.12544516, 0.24658628, 0.07815823, 0.028354991, 0.028992813, 0.0032862644, -0.03437758, 0.012220835, 0.046339706, 0.046115793) * inp_3_2_0;
    result3 += M4(-0.32594576, -0.09180884, 0.26886454, 0.016468832, 0.0026985365, -0.20561643, -0.11287488, -0.058558196, 0.056907706, -0.021835474, 0.00794541, 0.104132175, 0.07381264, 0.031283777, 0.0872881, 0.08071877) * inp_3_0_1;
    result3 += M4(0.027003989, 0.08813606, -0.040596917, 0.565701, -0.04636359, 0.4076395, 0.017598636, -0.2235341, 0.022253174, 0.18210252, -0.017074622, 0.17248891, -0.09932516, -0.2710962, -0.09815483, 0.3556503) * inp_3_1_1;
    result3 += M4(-0.08948804, -0.0057395147, 0.05481101, -0.027905138, -0.21508662, -0.14608549, -0.07273189, -0.21454419, 0.102156155, -0.04011688, 0.07779848, 0.07896586, -0.7325142, 0.06678147, 0.07175714, -0.3322967) * inp_3_2_1;
    result3 += M4(-0.0036912025, 0.32394302, -0.042829778, 0.0031497865, -0.037306312, 0.31529686, -0.054632958, -0.08266538, 0.023502802, 0.038292352, 0.025955152, 0.04415589, -0.03851794, 0.02360897, -0.0074399607, 0.088128015) * inp_3_0_2;
    result3 += M4(0.017598182, 0.80346453, -0.056495473, 0.25098097, -0.07043255, -1.1618927, -0.10107706, -0.06046493, 0.034687612, -0.1796174, 0.0029893427, 0.07378724, 0.024346804, -1.5997714, 0.034832176, 0.11251323) * inp_3_1_2;
    result3 += M4(0.065048575, 0.5045834, 0.001985802, -0.014956059, 0.068398565, 0.4060168, 0.04358001, -0.14570187, -0.0052306275, -0.3576315, 0.010079042, 0.0833624, -0.07358472, -2.0252671, 0.08209628, 0.050167732) * inp_3_2_2;
    const ivec2 output_base = ivec2(gl_GlobalInvocationID) * ivec2(2, 2);
    imageStore(out_image, output_base + ivec2(0, 0), max(result0, V4(0.0)));
    imageStore(out_image, output_base + ivec2(1, 0), max(result1, V4(0.0)));
    imageStore(out_image, output_base + ivec2(0, 1), max(result2, V4(0.0)));
    imageStore(out_image, output_base + ivec2(1, 1), max(result3, V4(0.0)));
}

//!DESC ArtCNN C4F16 (Conv2D-3-ReLU)
//!COMPUTE 24 32 12 16
//!HOOK LUMA
//!BIND conv2d_2
//!SAVE conv2d_3
//!WIDTH LUMA.w 2.0 *
//!HEIGHT LUMA.h 2.0 *
//!COMPONENTS 4
//!WHEN OUTPUT.w LUMA.w / 1.3 > OUTPUT.h LUMA.h / 1.3 > *
#extension GL_EXT_shader_explicit_arithmetic_types_float16 : enable
#ifdef GL_EXT_shader_explicit_arithmetic_types_float16
#	define V4 f16vec4
#	define M4 f16mat4
#	define F float16_t
#else
#	define V4 vec4
#	define M4 mat4
#	define F float
#endif

const ivec2 ksize = ivec2(3, 3);
const ivec2 offset = ksize / 2;
const ivec2 wg_size = ivec2(gl_WorkGroupSize);
const ivec2 isize = wg_size + ksize - 1;
shared V4 inp[4][isize.y][isize.x];
void hook() {
    const uvec2 local_xy = gl_LocalInvocationID.xy;
    ivec2 base = ivec2(gl_WorkGroupID) * wg_size;
    for (uint y = local_xy.y; y < isize.y; y += wg_size.y) {
        for (uint x = local_xy.x; x < isize.x; x += wg_size.x) {
            const ivec2 input_base = (base + ivec2(x,y) - offset) * ivec2(2, 2);
            inp[0][y][x] = V4(conv2d_2_mul * texelFetch(conv2d_2_raw, input_base + ivec2(0, 0), 0));
            inp[1][y][x] = V4(conv2d_2_mul * texelFetch(conv2d_2_raw, input_base + ivec2(1, 0), 0));
            inp[2][y][x] = V4(conv2d_2_mul * texelFetch(conv2d_2_raw, input_base + ivec2(0, 1), 0));
            inp[3][y][x] = V4(conv2d_2_mul * texelFetch(conv2d_2_raw, input_base + ivec2(1, 1), 0));
        }
    }

    barrier();
    V4 result0 = V4(0.008408445, -0.020904908, -0.015919678, -0.003576555);
    V4 result1 = V4(-0.013596469, 0.006317688, 0.010075342, 0.025130073);
    V4 result2 = V4(0.0018847652, 0.016781176, -0.028299911, 0.011224025);
    V4 result3 = V4(-0.00829875, 0.0056439713, 0.016188454, 0.0043486194);
    const V4 inp_0_0_0 = inp[0][local_xy.y + 0][local_xy.x + 0];
    const V4 inp_0_1_0 = inp[0][local_xy.y + 0][local_xy.x + 1];
    const V4 inp_0_2_0 = inp[0][local_xy.y + 0][local_xy.x + 2];
    const V4 inp_0_0_1 = inp[0][local_xy.y + 1][local_xy.x + 0];
    const V4 inp_0_1_1 = inp[0][local_xy.y + 1][local_xy.x + 1];
    const V4 inp_0_2_1 = inp[0][local_xy.y + 1][local_xy.x + 2];
    const V4 inp_0_0_2 = inp[0][local_xy.y + 2][local_xy.x + 0];
    const V4 inp_0_1_2 = inp[0][local_xy.y + 2][local_xy.x + 1];
    const V4 inp_0_2_2 = inp[0][local_xy.y + 2][local_xy.x + 2];
    result0 += M4(-0.05472942, -0.405395, 0.36992922, 0.10783658, 0.17209594, 0.06750034, 0.123333886, -0.013619935, -0.0015427283, -0.088251375, -0.11902269, 0.01494228, 0.120801635, 0.0952361, 0.08312757, -0.037416335) * inp_0_0_0;
    result0 += M4(-0.43227687, -0.5281516, 0.12697981, -0.14511022, 0.021486806, -0.028556472, -0.19152424, -0.06528226, -0.08802521, 0.14881952, -0.4393001, 0.1592118, -0.08191957, -0.34567487, 0.11235581, -0.24545209) * inp_0_1_0;
    result0 += M4(-0.40145555, -0.10471143, -0.0066198013, 0.04596682, 0.031562302, -0.019941146, -0.03228087, 0.0692663, -0.1964913, -0.053948466, -0.17553926, -0.11923696, -0.010513558, -0.07651724, -0.035248764, -0.016128177) * inp_0_2_0;
    result0 += M4(-0.16452552, 0.15689409, -0.25947815, 0.03732334, 0.0788966, -0.099895805, -0.17689417, 0.32203943, 0.047139972, -0.18159387, -0.020696761, -0.05081774, -0.06648593, -0.13007247, -0.03372088, 0.23885906) * inp_0_0_1;
    result0 += M4(-0.08446777, 0.21521819, -0.35285565, -0.1466498, -0.035613544, -0.07166333, 0.32552677, -0.06419032, -0.19125764, 0.0117571335, 0.4120935, -0.17283662, 0.09657451, 0.35162246, 0.37549627, -0.38001108) * inp_0_1_1;
    result0 += M4(0.0055229035, 0.090168126, -0.1105111, 0.05435782, -0.21417673, -0.13900065, 0.28251487, -0.10244352, -0.10554737, -0.2301458, -0.04071079, -0.033630785, 0.02836502, 0.15897666, -0.08557232, 0.2584868) * inp_0_2_1;
    result0 += M4(-0.005770528, -0.015265485, -0.23904142, 0.0004064159, -0.022639716, -0.049558215, 0.30262253, 0.11517454, -0.09023817, -0.051109374, 0.046517186, -0.04761181, -0.18370032, 0.10744798, -0.058437902, 0.08369033) * inp_0_0_2;
    result0 += M4(-0.10374057, 0.027313516, -0.20343378, -0.04976613, 0.13022749, 0.27337953, -0.00535516, -0.028362857, 0.09679614, 0.024149438, 0.13859932, 0.032064725, -0.010211421, 0.050824426, -0.35544893, 0.0129971495) * inp_0_1_2;
    result0 += M4(-0.13999978, -0.08826882, -0.09547787, -0.061350066, 0.12764123, 0.21377943, 0.012123925, -0.041335925, 0.110616006, 0.054872707, 0.029343737, 0.04589797, -0.19801195, -0.2520497, -0.23503532, -0.12797879) * inp_0_2_2;
    result1 += M4(0.3960783, 0.01755366, -0.0565253, -0.23121431, -0.0022781803, 0.029811239, 0.007586787, 0.05337874, 0.057505768, -0.025177669, -0.0026690317, -0.075315975, 0.039926324, 0.00047260264, -0.008080729, -0.16781174) * inp_0_0_0;
    result1 += M4(0.2016794, -0.043482065, -0.04602762, 0.14267424, 0.27341852, -0.024530722, -0.006895696, -0.19749409, -0.12116091, 0.027743362, -0.013211099, -0.04983956, -0.08635708, 0.016691672, 0.015695738, -0.055218197) * inp_0_1_0;
    result1 += M4(0.0203992, -0.015667818, -0.02754701, 0.026471242, 0.194489, -0.017889945, 0.024605617, -0.30469933, -0.049121708, 0.024335463, 0.028386697, -0.15104897, 0.03704277, 0.002695555, -0.031131985, 0.14093986) * inp_0_2_0;
    result1 += M4(-0.36458573, 0.030693859, -0.19128229, 0.03644682, 0.08983712, -0.0030034352, 0.13257742, 0.3857036, 0.00051753694, 0.05639471, 0.06888905, -0.11358895, -0.0040553445, 0.037460994, -0.025249045, 0.0114136115) * inp_0_0_1;
    result1 += M4(-0.26959398, 0.15244967, 0.054092515, -0.11652146, 0.055179663, -0.10987632, -0.0055819675, -0.024629422, -0.020613473, 0.28729698, 0.038765166, -0.103402585, 0.10732536, 0.34050044, -0.14111106, -0.08446291) * inp_0_1_1;
    result1 += M4(-0.06037881, 0.013559114, 0.046587262, -0.029939834, 0.011442731, -0.01954053, -0.0033528258, 0.09434387, -0.15934385, 0.018551376, -0.02369379, 0.19582993, 0.19277109, 0.032454584, 0.0025812185, -0.36074254) * inp_0_2_1;
    result1 += M4(-0.05403489, -0.076452956, -0.108420655, 0.17482807, -0.0683955, 0.02365999, 0.11568574, -0.55979687, -0.09570049, 0.070565216, 0.1151758, 0.014286629, -0.0019211647, -0.041081257, -0.11201346, -0.28939298) * inp_0_0_2;
    result1 += M4(-0.058896758, 0.010424139, -0.017502569, -0.02257988, 0.10132608, 0.09868189, 0.053356033, 0.1985726, 0.094346665, 0.06695867, 0.09746609, 0.07849157, -0.1264401, 0.0465087, -0.18779318, 0.34686574) * inp_0_1_2;
    result1 += M4(-0.08115205, 0.020964086, -0.0113343615, 0.024849264, -0.064356335, 0.099186264, -0.032332145, 0.0847954, -0.019294087, 0.02047655, -0.0758649, 0.091075815, -0.14871572, 0.01814627, 0.1169433, -0.2830944) * inp_0_2_2;
    result2 += M4(-0.17105342, -0.005847298, 0.06231275, 0.0075057484, 0.012460277, 0.15640986, 0.028748596, 0.04982617, 0.009776084, 0.14024049, -0.106985316, 0.034083605, 0.024055613, -0.047650103, 0.036566123, -0.07658577) * inp_0_0_0;
    result2 += M4(-0.073179565, -0.30263707, 0.0029935322, -0.07732626, 0.06913838, 0.12601005, -0.02243925, 0.11893638, 0.018468285, 0.08404852, -0.11311323, 0.03987272, 0.14213558, -0.16979145, 0.13963637, -0.040695008) * inp_0_1_0;
    result2 += M4(-0.07554406, 0.022473527, -0.007391097, 0.12882861, 0.07015604, 0.17560193, -0.08242341, 0.034639902, -0.12219209, 0.05204315, 0.007048992, -0.08192602, 0.052181315, -0.12656914, 0.03135482, -0.06826607) * inp_0_2_0;
    result2 += M4(-0.26824102, 0.6178843, -0.11597115, 0.06641858, 0.26453042, -0.28683802, -0.042670317, -0.16370766, 0.03594841, -0.23833856, -0.081193425, -0.051285006, 0.084769055, -0.04752432, 0.037980184, -0.10565709) * inp_0_0_1;
    result2 += M4(-0.19038005, -0.08710178, 0.21167892, -0.06391167, -0.11231685, 0.14756319, -0.04620173, -0.2504601, 0.48006937, -0.27458552, -0.04348217, 0.030067747, -0.2601233, -0.20864707, 0.59177077, 0.09751382) * inp_0_1_1;
    result2 += M4(-0.07153639, 0.017267087, 0.014960909, 0.082612894, 0.044508066, -0.2509169, 0.030394923, -0.08542828, 0.013513654, -0.07766914, 0.06875134, -0.016029263, -0.091521725, 0.19617872, -0.1258879, 0.20911877) * inp_0_2_1;
    result2 += M4(-0.11488148, -0.10149898, -0.04925969, -0.021295998, 0.2508146, -0.15433492, 0.09819227, -0.080931894, -0.03660091, 0.109900415, 0.012087365, -5.88441e-05, -0.034130353, 0.024132797, -0.05669245, 0.17125264) * inp_0_0_2;
    result2 += M4(0.014299051, -0.14907762, 0.022362757, -0.09876258, 0.029723326, 0.34006497, -0.045768555, -0.08152594, 0.05993723, 0.014577271, 0.037339456, 0.031840164, -0.09372458, -0.18426378, -0.046669926, -0.32743657) * inp_0_1_2;
    result2 += M4(-0.010288985, -0.012579393, -0.002851007, 0.002122143, 0.003207649, 0.027121885, 0.15866356, 0.0063271876, -0.049665082, 0.0978534, -0.04839264, 0.049124345, -0.11514045, -0.03641829, 0.094301954, -0.09436379) * inp_0_2_2;
    result3 += M4(-0.092571296, -0.17407598, 0.0684679, 0.08480279, 0.03650576, 0.009136664, -0.024230858, -0.050123215, 0.0024021715, 0.013696886, -0.044663657, 0.011892609, 0.020182421, 0.10780174, 0.044278312, 0.025296269) * inp_0_0_0;
    result3 += M4(0.18388751, -0.2726735, -0.03797192, 0.022468355, -0.06701237, 0.2687472, 0.03930179, -0.062785946, 0.03339362, -0.027559504, 0.07616062, -0.061690163, -0.029513877, 0.052505556, -0.057366684, 0.0675872) * inp_0_1_0;
    result3 += M4(0.006626711, -0.32997182, -0.011369992, 0.08862811, 0.027545882, 0.05442107, -0.033165097, -0.8119112, -0.09078848, -0.105418175, 0.026118036, -0.5828294, 0.018141452, -0.1507789, 0.03330126, 0.00847208) * inp_0_2_0;
    result3 += M4(-0.063874945, -0.42687652, -0.052271828, -0.101560764, 0.12221267, 0.47397852, 0.018856045, -0.05123798, 0.046918128, -0.13517709, 0.10476643, 0.03677466, 0.014279643, -0.037082136, 0.028016513, -0.021102304) * inp_0_0_1;
    result3 += M4(0.14508353, -0.59362245, 0.11459378, 0.023727182, -0.053744234, 0.3207965, -0.11478264, 0.052791443, -0.19620048, -0.07325155, 0.1040652, 0.08320486, -0.00040924587, -0.47889444, -0.19824135, -0.032649834) * inp_0_1_1;
    result3 += M4(0.015052648, -0.18009292, 0.01662889, -0.09413884, -0.076478176, 0.18064241, -0.036923345, 0.18062319, -0.06342417, -0.025065351, 0.08712068, 0.123915695, 0.14463605, 0.07764057, -0.015405802, -0.29917777) * inp_0_2_1;
    result3 += M4(-0.0072427993, -0.17220521, -0.03484914, -0.036624365, 0.06595624, 0.19435887, 0.062539734, 0.03435737, -0.010315531, -0.039603535, 0.06381304, 0.03638374, -0.011173814, -0.2666904, 0.022792324, -0.010702442) * inp_0_0_2;
    result3 += M4(0.046026282, -0.27216762, 0.04401954, -0.055428624, -0.06334475, 0.3241736, 0.012484963, 0.10952567, 0.010751182, 0.13345838, 0.096065745, 0.096182436, 0.011647401, -0.077827744, -0.24425578, 0.0017743405) * inp_0_1_2;
    result3 += M4(0.006468471, -0.15282784, -0.010090995, -0.016584508, 0.025061829, 0.11526557, 0.07012426, 0.077337176, -0.08599178, -0.22872491, -0.012381182, 0.006799317, 0.010634063, -0.13176692, 0.05858922, -0.10853837) * inp_0_2_2;
    const V4 inp_1_0_0 = inp[1][local_xy.y + 0][local_xy.x + 0];
    const V4 inp_1_1_0 = inp[1][local_xy.y + 0][local_xy.x + 1];
    const V4 inp_1_2_0 = inp[1][local_xy.y + 0][local_xy.x + 2];
    const V4 inp_1_0_1 = inp[1][local_xy.y + 1][local_xy.x + 0];
    const V4 inp_1_1_1 = inp[1][local_xy.y + 1][local_xy.x + 1];
    const V4 inp_1_2_1 = inp[1][local_xy.y + 1][local_xy.x + 2];
    const V4 inp_1_0_2 = inp[1][local_xy.y + 2][local_xy.x + 0];
    const V4 inp_1_1_2 = inp[1][local_xy.y + 2][local_xy.x + 1];
    const V4 inp_1_2_2 = inp[1][local_xy.y + 2][local_xy.x + 2];
    result0 += M4(-0.028542085, 0.056418933, 0.014142145, 0.08649666, 0.07413697, -0.058994234, 0.115105554, 0.06344474, -0.14756057, 0.014548504, -0.13575564, -0.04719071, -0.06913133, 0.2198964, 0.09439998, -0.026757719) * inp_1_0_0;
    result0 += M4(0.060374673, -0.0465172, 0.33405542, -0.04090553, -0.023267724, -0.22786316, 0.14376625, -0.16937307, 0.04265524, 0.28551057, -0.20336545, 0.072886296, 0.040668774, 0.26643327, 0.4832008, -0.18598373) * inp_1_1_0;
    result0 += M4(0.034994204, -0.092442505, 0.09369834, 0.01337224, 0.012827106, -0.024859322, -0.029040735, 0.08260408, 0.13510184, 0.16213457, -0.0068380446, 0.0902722, 0.056721296, -0.21989289, 0.008514245, -0.023057505) * inp_1_2_0;
    result0 += M4(0.15757757, -0.003020959, 0.18538566, -0.056050003, -0.27062413, -0.11864001, -0.050094508, 0.0016945497, 0.019318217, 0.09613015, 0.031207824, -0.24186867, -0.026324064, 0.3495264, -0.16792013, -0.10857712) * inp_1_0_1;
    result0 += M4(-0.20783283, -0.52803445, -0.39161253, -0.0732318, -0.25200364, 0.01823875, -0.057471782, 0.040846102, 0.5825334, -0.06845615, -0.056869958, 0.059555557, -0.31877905, 0.41965938, -0.058042467, -0.2877267) * inp_1_1_1;
    result0 += M4(0.14274031, -0.26019317, -0.119790964, 0.19299598, -0.06372622, -0.19231862, 0.026053635, -0.20032538, 0.17496283, 0.2040457, 0.11311408, 0.22944893, 0.31379187, 0.12309703, 0.15191643, 0.21129856) * inp_1_2_1;
    result0 += M4(0.114421286, 0.12308372, -0.041095994, 0.03449422, -0.31159228, 0.03698583, -0.14600244, 0.10614011, 0.22788492, -0.02421202, 0.12223901, -0.036171284, 0.14243913, -0.24624842, 0.19096707, 0.11153184) * inp_1_0_2;
    result0 += M4(-0.1382203, 0.5623488, -0.12713476, 0.033677805, -0.37852716, 0.023228062, -0.050000105, -0.08258217, -0.11000269, 0.047495253, 0.36813837, -0.0005326287, 0.25228977, -0.24170864, -0.18806162, -0.042595588) * inp_1_1_2;
    result0 += M4(0.06749788, 0.17461197, 0.01942271, -0.010077864, 0.1527434, 0.070009016, -0.16341719, -0.13789944, 0.053170595, -0.1201954, 0.1803121, 0.12042792, -0.25846362, 0.11314471, 0.071976155, -0.08938836) * inp_1_2_2;
    result1 += M4(0.051152386, 0.018927632, 0.019681923, 0.27263838, 0.048272237, 0.0042637717, -0.0020484743, -0.18772773, -0.070268705, 0.06013098, 0.013957991, 0.2201538, 0.023984758, 0.030741258, -0.02645155, -0.21799527) * inp_1_0_0;
    result1 += M4(-0.061528087, 0.029345207, -0.04382419, -0.20733838, 0.01855358, 0.011190192, 0.0035599207, 0.2840943, -0.22842203, 0.040455043, -0.019194052, 0.06855452, -0.1897759, 0.058977213, 0.051075164, -0.4184444) * inp_1_1_0;
    result1 += M4(0.059550617, -0.0063659833, 0.0066401614, 0.049914505, 0.061913654, -0.07921049, 0.026851272, -0.0103324335, -0.116230644, 0.027114201, 0.009770496, -0.04743345, -0.11800753, 0.004692939, 0.042573914, -0.9546968) * inp_1_2_0;
    result1 += M4(0.09220352, 0.072664, 0.042396545, 0.31062979, 0.005830844, -0.03757995, -0.10199921, -0.12650771, -0.0024590844, 0.0799765, 0.06915083, 0.26293445, 0.19695546, -0.1100622, -0.29062837, -0.34413528) * inp_1_0_1;
    result1 += M4(0.010329238, 0.09271436, -0.021358224, 0.11756907, 0.121870995, 0.03706883, 0.0036589499, -0.39349318, -0.1218338, 0.023303721, 0.05550381, 0.06417295, 0.54207295, 0.19286487, 0.07153842, 0.3761286) * inp_1_1_1;
    result1 += M4(0.13495871, -0.039032545, 0.0017313113, 0.16508223, 0.08715591, -0.042044282, 0.012397846, 0.05957267, 0.03002259, 0.0033418783, -0.041367367, 0.0962484, -0.004027131, 0.07849577, 0.08593369, -1.7596248) * inp_1_2_1;
    result1 += M4(-0.11890435, 0.05007654, 0.03216846, 0.24361259, -0.1827179, -0.009921371, -0.009065401, -0.2186028, 0.11807191, -0.014129349, 0.10470955, 0.1342535, 0.16988003, 0.101307265, 0.13290848, -0.29995674) * inp_1_0_2;
    result1 += M4(-0.115595624, 0.0572035, -0.006378979, -0.32990953, -0.13795824, 0.03771103, -0.04276979, -0.21996969, 0.47970337, -0.0970759, -0.013214382, -0.06973745, -0.017470047, -0.15396512, -0.22201274, 0.11776726) * inp_1_1_2;
    result1 += M4(-0.07354543, -0.004482948, 0.0415303, 0.04261091, -0.07146517, -0.010837198, 0.038142405, 0.1675091, 0.21771078, -0.04756913, -0.035035618, 0.2967087, 0.05401218, 0.04730985, 0.121218964, 0.013450954) * inp_1_2_2;
    result2 += M4(0.0463921, -0.033011816, 0.013620688, -0.024054836, 0.13773505, 0.017493354, -0.02760914, -0.07630057, -0.06672327, -0.01588125, 0.033401743, -0.035497595, 0.11204482, -0.0947228, -0.03039404, -0.027181806) * inp_1_0_0;
    result2 += M4(-0.06417429, 0.0040939627, 0.054950908, -0.053764887, 0.029672291, 0.043239266, -0.03625623, -0.054814696, -0.11382132, 0.046507455, -0.0014081346, 0.062070753, 0.029439624, -0.064857654, -0.0026967148, -0.2063454) * inp_1_1_0;
    result2 += M4(-0.051361665, -0.043266974, -0.039650075, 0.036699675, 0.06291294, 0.09407102, -0.10324793, 0.045089453, -0.024971537, -0.03305201, -0.008011075, 0.011201758, -0.022176705, 0.046729982, 0.11154942, -0.015422989) * inp_1_2_0;
    result2 += M4(0.015546047, 0.04234529, 0.13399327, 0.10111642, -0.27511987, 0.22750558, -0.014702716, -0.15636975, -0.033389237, -0.07988098, 0.103259586, 0.08210985, 0.06627576, 0.6534393, 0.063925005, -0.23034905) * inp_1_0_1;
    result2 += M4(0.17387886, 0.09223725, 0.11785082, 0.0036771942, -0.28134072, 0.22927563, 0.048179273, -0.43575755, 0.46555406, 0.06436539, -0.060472906, 0.43354842, 0.36054352, -0.0606392, 0.036753014, -0.2178169) * inp_1_1_1;
    result2 += M4(-0.0105743855, 0.088305525, -0.03149418, 0.09169936, -0.07635349, -0.024634263, -0.03822102, 0.062739015, 0.07996347, 0.12917377, -0.091251925, 0.005857933, 0.020995293, 0.09907491, -0.0061782035, 0.18400735) * inp_1_2_1;
    result2 += M4(-0.0007583619, 0.027929915, 0.02915123, -0.051958047, -0.18294641, 0.18735515, -0.022243157, -0.01619224, 0.037808936, -0.0758567, 0.0062761656, -0.15550154, 0.11041263, -0.3515607, 0.06122605, -0.18286565) * inp_1_0_2;
    result2 += M4(0.13256133, -0.063952364, 0.026679901, 0.0527371, -0.20474845, 0.12318182, 0.036224462, -0.12961462, 0.03551753, 0.03832735, 0.009291199, 0.082947046, -0.15428932, -0.2069118, -0.016673958, -0.33365163) * inp_1_1_2;
    result2 += M4(-0.01818526, -0.0066858744, -0.00397325, -0.030005276, 0.08311564, 0.07963592, -0.0037493173, 0.04596444, -0.043155033, 0.010336878, -0.008580567, 0.14589798, 0.094671056, 0.07161592, 0.0016260145, -0.10698817) * inp_1_2_2;
    result3 += M4(-0.0059575704, -0.054839097, -0.0005862838, 0.08089561, 0.012270977, 0.13105205, 0.01314935, 0.12633781, -5.3564414e-05, -0.15471788, 0.007394229, 0.040336203, -0.012016446, 0.33119303, 0.06618483, 0.074263856) * inp_1_0_0;
    result3 += M4(-0.020502245, 0.16173829, 0.011008351, 0.04274745, 0.07257791, 0.06326995, -0.032231577, 0.060711157, 0.042891663, -0.07043015, 0.028000213, -0.0280199, 0.08880943, -0.09629561, -0.0852081, -0.05558681) * inp_1_1_0;
    result3 += M4(0.037478015, 0.00011215208, -0.017420376, -0.005179381, 0.08443798, -0.0037702257, -0.04913606, 0.11903942, -0.0089404695, 0.019384667, -0.0056630424, -0.24687503, 0.011808323, 0.0007101458, 0.061013363, -0.017357133) * inp_1_2_0;
    result3 += M4(0.014165175, -0.04786919, 0.052574325, -0.009688757, -0.024458405, 0.23580478, -0.0019373503, -0.04966167, 0.049272235, -0.13863102, 0.06095318, 0.055028502, -0.08475157, 0.36818016, -0.12150486, 0.10639452) * inp_1_0_1;
    result3 += M4(0.0047796364, 0.19843653, 0.10613698, -0.064704664, 0.060746297, -0.25010908, 0.11417189, -0.2300721, 0.021591779, 0.06287229, 0.055110175, 0.008951807, 0.13871977, 0.17449522, 0.25375482, 0.101450145) * inp_1_1_1;
    result3 += M4(0.0889014, -0.04490409, -0.007518243, -0.18226978, 0.074623294, -0.19879442, -0.0453343, 0.1523775, 0.06749363, 0.07623868, -0.045474667, -0.082441874, 0.06455548, 0.21257384, -0.028277436, -0.08320904) * inp_1_2_1;
    result3 += M4(0.003075804, 0.15635416, 0.03048621, 0.01753922, -0.020600865, -1.0314267, -0.0419241, -0.03530632, 0.011005339, 0.26347804, -0.04618371, 0.038202666, 0.05064771, 0.23886976, 0.101404615, 0.035534672) * inp_1_0_2;
    result3 += M4(0.024480652, 0.017327905, -0.004370731, 0.06106692, -0.0019187903, 0.38495624, 0.026311798, 0.107160635, 0.029021729, 0.28153482, -0.0007931382, 0.020197194, 0.04073302, 0.37810755, -0.100084014, 0.0247983) * inp_1_1_2;
    result3 += M4(-0.029757617, 0.07403209, 0.0102356635, 7.791961e-05, 0.040312916, 0.093265735, -0.029971257, -0.0028517821, 0.040073287, -0.0026484844, 0.000115678245, 0.08634336, -0.06912535, 0.015845776, 0.0442804, -0.055425875) * inp_1_2_2;
    const V4 inp_2_0_0 = inp[2][local_xy.y + 0][local_xy.x + 0];
    const V4 inp_2_1_0 = inp[2][local_xy.y + 0][local_xy.x + 1];
    const V4 inp_2_2_0 = inp[2][local_xy.y + 0][local_xy.x + 2];
    const V4 inp_2_0_1 = inp[2][local_xy.y + 1][local_xy.x + 0];
    const V4 inp_2_1_1 = inp[2][local_xy.y + 1][local_xy.x + 1];
    const V4 inp_2_2_1 = inp[2][local_xy.y + 1][local_xy.x + 2];
    const V4 inp_2_0_2 = inp[2][local_xy.y + 2][local_xy.x + 0];
    const V4 inp_2_1_2 = inp[2][local_xy.y + 2][local_xy.x + 1];
    const V4 inp_2_2_2 = inp[2][local_xy.y + 2][local_xy.x + 2];
    result0 += M4(0.07127904, -0.091474935, 0.001228823, -0.02417522, 0.0346848, 0.2492391, -0.07430934, 0.0640571, 0.032726895, 0.26743343, 0.22145692, 0.012226861, -0.1507361, -0.21656358, 0.03484875, 0.2751407) * inp_2_0_0;
    result0 += M4(0.08074589, -0.11343622, 0.14141074, -0.021130672, -0.0039046784, -0.17981929, 0.09880276, -0.011610453, -0.4895146, -0.53140193, -3.4749115, -0.0062880586, 0.12103613, -0.14762133, 0.1012238, -0.40019837) * inp_2_1_0;
    result0 += M4(-0.12285498, -0.363355, 0.21933709, -0.12931404, -0.043290917, 0.004660268, 0.11128685, -0.08315353, -0.3932916, -0.04355181, 0.0013370737, -0.37370908, -0.13936767, -0.14110778, 0.039570555, -0.20934835) * inp_2_2_0;
    result0 += M4(-0.056830388, 0.065769576, -0.08723638, -0.073806636, -0.2194841, -0.013457684, -0.10473967, 0.19691227, 0.19020677, 0.00451262, -0.17708929, -0.030716905, 0.035560437, 0.19797684, -0.074066326, -0.015445397) * inp_2_0_1;
    result0 += M4(0.024991749, 0.06809769, -0.25744513, 0.19443369, -0.44449085, 0.10789228, -0.013576507, 0.12204147, -0.39894056, 0.14473346, -0.15746757, 0.11864053, -0.04245172, -0.07358868, -0.29406184, 0.047664765) * inp_2_1_1;
    result0 += M4(0.0043297876, -0.14888398, -0.29261538, -0.27940834, 0.123445675, 0.068572916, 0.060977153, -0.12935299, 0.21360253, 0.116965674, -0.027394215, 0.0784186, 0.14293432, -0.15099774, -0.22478, -0.00031875915) * inp_2_2_1;
    result0 += M4(0.08150282, 0.04404828, -0.04039634, 0.015212727, 0.02253586, -0.0025691476, 0.24579093, 0.05443757, 0.13958126, -0.01299727, 0.097788915, 0.06361996, -0.06431696, 0.053814642, 0.026511468, 0.011566292) * inp_2_0_2;
    result0 += M4(-0.048477728, -0.081297584, -0.10052289, -0.050449453, -0.08673788, 0.10541801, 0.0027813255, -0.13991915, 0.26311234, -0.033243153, -0.041046534, 0.04782748, -0.12279889, 0.08897598, 0.121932246, 0.06327929) * inp_2_1_2;
    result0 += M4(-0.07759122, 0.010583647, 0.0495191, -0.09422756, -0.017887233, 0.057997175, -0.058723874, -0.066583574, 0.056587018, -0.05393644, 0.02370243, -0.030114584, -0.05177906, 0.17836344, -0.0045169694, -0.0060014348) * inp_2_2_2;
    result1 += M4(-0.12789729, 0.019257419, -0.0450626, -0.4513679, 0.080030136, 0.005958881, -0.026445128, -0.026001506, 0.24303165, -0.09375353, -0.16923997, -0.5870228, -0.06975088, 0.04327948, 0.0514582, 0.20412427) * inp_2_0_0;
    result1 += M4(0.08862343, 0.004345687, -0.049419537, -0.27765495, 0.09140519, -0.053341486, 0.009661003, -0.109411605, 0.50900245, 0.024261173, 0.083900794, -0.5158646, -0.10326351, -0.077475674, -0.04675324, -0.5793954) * inp_2_1_0;
    result1 += M4(0.18338278, 0.0020714295, 0.016606078, -0.034372263, 0.0073377104, 0.000774554, 0.0009997205, 0.115027666, 0.19575518, 0.0051763174, 0.014109816, 0.0149394, -0.17809193, -0.036733296, -0.04988097, 0.686199) * inp_2_2_0;
    result1 += M4(0.01720473, 0.03344286, -0.06696073, -0.19289353, -0.042614687, 0.027559752, -0.010508727, -0.14713293, -0.13626595, -0.081356205, -0.1784237, 0.27316597, -0.10869506, -0.007846818, -0.04223182, -0.4014417) * inp_2_0_1;
    result1 += M4(-0.30800775, -0.016986055, -0.14062956, -0.8741892, -0.09157009, -0.07221287, -0.03972705, -0.44631124, -0.6271756, 0.16118811, 0.13994798, -0.3983891, -0.22225422, 0.024263846, -0.07386326, 0.47654828) * inp_2_1_1;
    result1 += M4(-0.32627448, 0.020255564, 0.046087064, -0.47055206, 0.21094283, 0.011425086, 0.017508201, -0.24113758, -0.031070085, -0.058371637, -0.026321216, 0.28566894, -0.079975665, 0.026392078, -0.033113685, -0.24727157) * inp_2_2_1;
    result1 += M4(-0.07223936, -0.019999744, -0.105945274, -0.52822274, 0.11952404, 0.05406296, -0.04631678, -0.19427471, 0.09823183, -0.066658966, -0.061889824, 0.059982695, -0.014324419, -0.044360798, -0.009157629, 0.048218567) * inp_2_0_2;
    result1 += M4(-0.12957379, -0.0536885, -0.06825475, -0.39465237, -0.12257071, -0.09721732, -0.18202937, -0.027544823, 0.13581985, -0.117742315, -0.007207856, 0.236867, -0.010487943, -0.021743106, -0.039144095, 0.20511965) * inp_2_1_2;
    result1 += M4(-0.10290492, -0.03197466, 0.011130584, -0.22201456, -0.016041307, -0.09951222, 0.08851075, -0.29739097, 0.15441275, -0.044122435, 0.054220874, 0.09605439, -0.120513946, -0.05506391, 0.062403943, -0.13990112) * inp_2_2_2;
    result2 += M4(-0.025563505, -0.103958465, 0.08862019, -0.0738523, 0.07962704, -0.0008398727, -0.04117505, 0.05108554, -0.16334146, 0.3102369, -0.18096788, 0.103584655, 0.04290878, -0.17726466, 0.041713107, 0.07903145) * inp_2_0_0;
    result2 += M4(-0.03103543, -0.083028995, -0.03672747, -0.18674532, -0.037581544, 0.073787704, -0.06580189, 0.07060781, -0.56967, 0.38005513, 0.15515932, -0.46516973, -0.046344638, 0.28045487, -0.117267914, 0.10560123) * inp_2_1_0;
    result2 += M4(0.007662267, -0.096288644, 0.0070501757, 0.032882348, 0.046953175, 0.013083387, -0.0013572854, -0.07125833, -0.00055708754, 0.09811967, -0.03765807, -0.11263149, 0.107594706, -0.16961344, -0.025549438, -0.29763877) * inp_2_2_0;
    result2 += M4(-0.012288916, 0.007344796, 0.016778752, 0.15461804, 0.16738653, -0.089613, 0.17817509, 0.08321369, 0.1548557, 0.13191715, 0.029989028, 0.023768596, -0.15018348, 0.070174694, -0.009443567, 0.12503493) * inp_2_0_1;
    result2 += M4(-0.27827266, 0.16201513, -0.10837279, -0.037907086, -0.3228771, 0.07484605, -0.2032298, -0.20696104, 0.045124236, 0.3491594, -0.16353321, 0.17978759, 0.014360588, -0.02444374, -0.03169908, -0.11700988) * inp_2_1_1;
    result2 += M4(-0.09057247, -0.099892415, 0.06908891, -0.29110023, 0.05291767, -0.0662251, 0.019977001, 0.049398, 0.05468698, 0.15927827, -0.06451923, 0.15745954, -0.24738438, -0.058369465, 0.057336885, -0.050650224) * inp_2_2_1;
    result2 += M4(-0.05389727, -0.0059376583, -0.012837147, -0.08712984, 0.10001921, 0.007130008, -0.03197317, 0.06757256, -0.025206832, 0.020527197, -0.081841916, 0.006790268, 0.06855171, 0.045477465, -0.043814443, -0.024972731) * inp_2_0_2;
    result2 += M4(-0.06499654, -0.05567125, 0.012498658, 0.018522127, 0.059964623, 0.0473223, -0.066463806, 0.08034166, -0.09322301, 0.012554895, -0.01885123, -0.020339752, 0.12770934, -0.008316254, 0.044993315, 0.14440092) * inp_2_1_2;
    result2 += M4(0.086179, -0.12903132, -0.06691879, -0.120143734, -0.02233502, -0.05668296, -0.029590638, 0.034956206, -0.006020302, -0.005041525, 0.0029006798, -0.0016765668, 0.12926704, 0.08380377, -0.13528885, -0.012699785) * inp_2_2_2;
    result3 += M4(-0.028017329, 0.020002663, -0.0032823891, 0.009308952, 0.0052178456, 0.046728652, -0.0036642102, -0.114512354, -0.085977174, 0.22334054, -0.11803734, -0.02265173, 0.07817194, -0.01275912, 0.061960116, -0.05230224) * inp_2_0_0;
    result3 += M4(-0.088089414, -0.027840177, 0.015039828, -0.0043666153, -0.06562547, -0.07985211, -0.014321382, -0.22958553, 0.09428989, -0.27740544, 0.05455483, -0.43502885, -0.11104413, 0.3054722, -0.060636632, 0.0062322165) * inp_2_1_0;
    result3 += M4(0.09449543, 0.026198857, -0.0008336405, 0.27212796, 0.019157184, 0.030616557, -0.0094584115, 0.20828077, 0.12380432, 0.0935854, -0.0054752366, 0.3888834, 0.027590055, -0.029966127, -0.02649035, -0.2223405) * inp_2_2_0;
    result3 += M4(-0.0057024774, -0.061350364, 0.026166633, 0.024380978, -0.008336669, -0.039323535, 0.062322464, 0.031384435, 0.002550211, 0.41735622, -0.0020124924, -0.023253823, -0.038137853, -0.001053178, 0.0030489601, -0.047138885) * inp_2_0_1;
    result3 += M4(0.015656883, -0.11883924, 0.040224664, -0.22395766, -0.060263503, 0.081806555, -0.09013706, -0.076547086, 0.10662502, -0.15111919, 0.14384124, -0.0037126308, 0.011188618, 0.26043823, 0.015996406, -0.20244771) * inp_2_1_1;
    result3 += M4(0.04136314, -0.28919056, 0.009133015, -0.05422222, 0.1293199, -0.03536757, 0.0064625675, -0.025764836, 0.18443635, -0.05792926, -0.092254505, 0.029874755, 0.00041867708, -0.023692133, -0.011282444, -0.09132461) * inp_2_2_1;
    result3 += M4(-0.04613633, 0.04141135, -0.05193158, -0.024547802, -0.0044233482, -0.048916228, -0.002233221, 0.016068207, -0.010855222, 0.16397916, -0.07711502, -0.03351323, 0.04561785, 0.046432395, -0.02226875, 0.033631455) * inp_2_0_2;
    result3 += M4(0.041708473, -0.17505752, 0.047731265, -0.07169531, -0.06993894, 0.050392635, -0.066016704, -0.108691275, 0.060681798, 0.19683576, -0.007065141, -0.023587389, 0.018184444, -0.098301865, -0.014573437, -0.024698906) * inp_2_1_2;
    result3 += M4(-0.01215864, 0.14748494, -0.043685403, 0.019066082, 0.06181085, 0.1107224, -0.0065368484, 0.046865743, 0.06623488, 0.19273013, -0.026609099, 0.07367086, 0.016313663, -0.03659607, -0.04020627, -0.10462856) * inp_2_2_2;
    const V4 inp_3_0_0 = inp[3][local_xy.y + 0][local_xy.x + 0];
    const V4 inp_3_1_0 = inp[3][local_xy.y + 0][local_xy.x + 1];
    const V4 inp_3_2_0 = inp[3][local_xy.y + 0][local_xy.x + 2];
    const V4 inp_3_0_1 = inp[3][local_xy.y + 1][local_xy.x + 0];
    const V4 inp_3_1_1 = inp[3][local_xy.y + 1][local_xy.x + 1];
    const V4 inp_3_2_1 = inp[3][local_xy.y + 1][local_xy.x + 2];
    const V4 inp_3_0_2 = inp[3][local_xy.y + 2][local_xy.x + 0];
    const V4 inp_3_1_2 = inp[3][local_xy.y + 2][local_xy.x + 1];
    const V4 inp_3_2_2 = inp[3][local_xy.y + 2][local_xy.x + 2];
    result0 += M4(-0.03855499, -0.66696405, 0.09936173, 0.14034387, -0.27011356, -0.45240924, 0.22485812, -0.8062737, 0.052412078, 0.06714751, 0.091722146, -0.027878145, -0.11380497, -0.27040485, 0.017350111, 0.07846934) * inp_3_0_0;
    result0 += M4(0.11505131, 0.033481438, 0.09521032, -0.13357703, 0.59328187, 0.080789246, -0.4736717, -0.10599264, 0.018683484, 0.14281473, 0.20563848, -0.14881451, 0.0757651, -0.26657313, 0.006503741, 0.18540151) * inp_3_1_0;
    result0 += M4(0.08618655, -0.21765989, 0.026429154, 0.029551655, 0.9318243, -0.055379324, 0.021043414, -0.6067433, 0.10944041, 0.03314736, -0.042871248, -0.008493894, 0.14066455, -0.08914173, -0.02185674, 0.1128493) * inp_3_2_0;
    result0 += M4(-0.48806193, 0.18488821, -0.012101294, -0.5218552, 0.027214944, 0.03588181, 0.135615, -0.053796995, -0.05210671, 0.034580175, -0.15700006, 0.072416134, 0.12881549, 0.2098187, 0.19699784, -0.13665214) * inp_3_0_1;
    result0 += M4(-0.38162047, 0.018776855, 0.24050485, 0.17942338, -0.06065955, -0.17974524, -0.11194911, 0.016420007, 0.092895575, -0.24553919, -0.18756233, 0.15466647, -0.56679845, -0.1198608, -0.14403538, 0.14015968) * inp_3_1_1;
    result0 += M4(-0.2242563, 0.1254278, 0.074406594, -0.15016648, -0.026972469, 0.089639224, 0.26565856, -0.00063048257, -0.06029453, 0.09242274, 0.048898816, -0.12730186, 0.080753125, -0.07383463, 0.043193422, 0.038367353) * inp_3_2_1;
    result0 += M4(0.061594713, -0.49640122, -1.0861363, 0.32069382, 0.033821534, -0.030651608, 0.080486454, 0.0031694337, -0.06044127, 0.058481615, 0.005735854, 0.031956278, 0.09613587, -0.12664242, -0.20198026, -0.084893115) * inp_3_0_2;
    result0 += M4(0.08830764, -0.18815655, -0.3771442, 0.16078354, -0.010337812, 0.04407075, -0.050175153, -0.07303225, -0.025549315, -0.06484787, -0.08141994, -0.004555746, 0.09582645, -0.27436158, -0.30429003, 0.10153217) * inp_3_1_2;
    result0 += M4(0.02881942, -0.00039129177, -0.19633281, -0.020882651, 0.098196566, -0.031956874, 0.05107317, 0.09458228, -0.020074116, 0.034042146, 0.094903335, -0.0051999576, -0.026186382, 0.07754376, 0.008127376, 0.020648306) * inp_3_2_2;
    result1 += M4(-0.07925093, 0.016121805, -0.18450348, -0.4436191, 0.14112285, -0.05575421, 0.06021222, -3.4693232, -0.028183045, 0.05783468, 0.004730176, -0.13959667, 0.038514957, -0.08453243, 0.03862256, 0.21360832) * inp_3_0_0;
    result1 += M4(0.21460289, 0.012020835, 0.02800397, -0.044975936, -0.059786897, 0.37164757, -0.43978402, -1.7765732, -0.1758481, 0.097058326, -0.00061467884, 0.14873083, 0.3246852, -0.06601337, 0.0077232854, -0.14727633) * inp_3_1_0;
    result1 += M4(0.0893483, -0.023030367, 0.006799219, 0.07116143, 0.10819733, 0.06551655, -0.24260788, -1.745153, -0.024176933, 0.0021170073, 0.0004130827, 0.029676842, 0.017526975, -0.07322395, 0.010102919, -0.068933435) * inp_3_2_0;
    result1 += M4(-1.0244001, 0.22108714, -0.3274033, -0.91196734, 0.03312469, -0.016118774, 0.3299838, -0.12527493, 0.023908291, -0.14406925, -0.03219389, -0.079707414, -0.14493059, -0.04079892, 0.005426873, -0.21768945) * inp_3_0_1;
    result1 += M4(0.2040988, 0.12652713, -0.08286647, -0.27513635, -0.076111294, 0.09407312, 0.5641558, -0.046812903, 0.4089735, -0.30992833, 0.0993282, -0.00052942376, -0.25384197, 0.07524996, 0.13584773, -0.2703498) * inp_3_1_1;
    result1 += M4(0.06545138, 0.091985166, -0.038493775, -0.16069089, -0.08183313, 0.07028489, 0.10151209, 0.34517232, -0.026931295, 0.010365982, -0.06320551, 0.04952657, 0.012672927, -0.020668231, 0.018124318, 0.14509581) * inp_3_2_1;
    result1 += M4(-1.4435687, -0.24669915, -0.3144761, 0.1683751, -0.036031716, -0.07741153, 0.0051179053, 0.1016262, 0.053024966, -0.027623093, -0.08436253, -0.106987335, -0.06408066, -0.011174079, -0.0335235, 0.23996368) * inp_3_0_2;
    result1 += M4(-0.50521487, -0.12833132, -0.018326731, 0.31571877, 0.060739826, 0.008523154, 0.044132862, 0.03373925, -0.19885354, 0.15363884, 0.10247853, 0.034931306, -0.3725084, -0.0016095182, 0.13950036, -0.21895376) * inp_3_1_2;
    result1 += M4(-0.21165691, -0.056619383, 0.059594885, -0.032843277, 0.081996985, 0.011549876, -0.012566897, 0.0757989, 0.09461329, 0.019997021, -0.03309679, -0.066173635, -0.0071229246, 0.051300988, 0.013369269, 0.05133432) * inp_3_2_2;
    result2 += M4(-0.15492652, 0.13959663, -0.002586038, 0.10722816, -0.06807398, 1.2304132, -0.3298823, 0.20917678, -0.009252755, -0.05330953, 0.10153391, -0.03118152, 0.03363437, 0.024497844, -0.09946598, 0.09496831) * inp_3_0_0;
    result2 += M4(0.33017159, -0.1781606, 0.039247874, -0.02614316, 0.7335409, 0.3064284, 0.03986711, 0.22140267, 0.002010069, -0.08856677, 0.28132024, -0.14652485, 0.064593725, 0.11682707, -0.11262585, 0.23718669) * inp_3_1_0;
    result2 += M4(0.016959019, -0.014804882, 0.027421534, 0.08413359, 0.07048234, 0.928695, 0.26572105, 0.33664447, 0.08415405, 0.020305315, 0.08240439, 0.028444897, 0.08158111, 0.09433089, -0.07856185, 0.020205889) * inp_3_2_0;
    result2 += M4(-0.6196276, 0.969116, 0.2836011, -1.3311365, 0.0068228594, -0.1591857, -0.024144202, -0.09843928, -0.032360412, 0.01666503, 0.047389567, -0.03232169, -0.09737976, 0.2539804, -0.08230867, 0.05447139) * inp_3_0_1;
    result2 += M4(-0.30623752, 0.24208932, 0.00042602068, -0.059441917, 0.026073383, 0.16860983, 0.12434018, 0.23541307, -0.29324883, -0.2877875, 0.35919946, -0.051314246, -0.23417489, -0.12220684, 0.103565685, -0.3936446) * inp_3_1_1;
    result2 += M4(-0.121067554, 0.07382125, 0.080313504, 0.027458144, 0.14725962, -0.0008874078, -0.1490185, -0.105393305, 0.13138232, 0.06991864, -0.06426994, -0.13850087, -0.08117305, -0.004131495, 0.060143217, 0.13002333) * inp_3_2_1;
    result2 += M4(-0.58269924, 0.40581542, 0.02047084, 0.0026702748, -0.013661055, -0.09474631, -0.013965945, -0.0076579847, -0.015929785, 0.013998329, 0.027620755, 0.01708182, 0.030967485, -0.0464125, 0.016056689, -0.088059716) * inp_3_0_2;
    result2 += M4(-0.1770745, -0.07364911, -0.0927434, 0.011536042, -0.0030679335, 0.14370969, 0.006958343, -0.03171517, 0.02741975, -0.010320695, 0.053432997, 0.051566735, -0.14384048, 0.07335625, 0.06539872, 0.06562676) * inp_3_1_2;
    result2 += M4(0.07550473, -0.08962209, -0.059918214, -0.14823203, -0.009388663, 0.012949967, 0.013285693, 0.0786214, 0.05515559, 0.0045029493, -0.0234558, -0.024939558, 0.035251636, 0.09058498, -0.016159609, 0.018411633) * inp_3_2_2;
    result3 += M4(-0.003212169, 0.40652305, 0.0038458507, -0.019869307, 0.15902592, -0.26436296, -0.25646177, 0.5085312, 0.014348703, 0.18703423, 0.07835553, -0.026293378, -0.0150531735, 0.020726584, -0.048030786, 0.020070564) * inp_3_0_0;
    result3 += M4(0.16435984, -0.03882818, -0.033631478, 0.14893554, 0.43317938, -0.21966216, 0.14713307, 0.15999776, -0.024844185, -0.1940697, -0.030326411, 0.057479616, 0.046840526, -0.055814, -0.071012996, 0.078912035) * inp_3_1_0;
    result3 += M4(-0.043159638, -0.05488322, 0.0043526306, 0.20610781, 0.09004727, 0.061016463, 0.067453295, 0.22603387, -0.07942105, 0.014949132, 0.06902136, 0.31667617, -0.024824217, 0.030633029, -0.024478, 0.0013928877) * inp_3_2_0;
    result3 += M4(-0.046378363, -0.21780828, 0.24536464, -0.697145, 0.14957792, -0.041475825, 0.22041175, 0.007948934, -0.03885439, 0.02802147, -0.062613495, 0.007588455, -0.06616369, 0.03692662, -0.10615963, -0.064637385) * inp_3_0_1;
    result3 += M4(0.3793659, -0.3129303, 1.2325033e-05, 0.31542733, 0.45339203, -0.31960672, 0.49209952, 0.014513209, 0.28123102, 0.21396655, 0.3739683, 0.025674345, -0.017132485, -0.48756298, 0.056783404, -0.015775833) * inp_3_1_1;
    result3 += M4(0.030116992, 0.01748138, 0.055455573, -0.11884434, 0.33889014, -0.44003683, -0.08930807, 0.06909263, -0.20348725, -0.14793734, -0.083391614, -0.0184364, -0.08740252, 0.14093079, 6.5649e-05, -0.20102623) * inp_3_2_1;
    result3 += M4(0.030479815, -0.28353354, 0.06438049, -0.6776762, 0.01930316, -0.019644048, -0.034240548, 0.028370837, -0.011091836, -0.1223149, -0.045273967, -0.025007587, -0.005835613, 0.21768758, -0.02371771, -0.02892322) * inp_3_0_2;
    result3 += M4(0.16134943, 0.24010704, -0.0006831731, -0.077543765, -0.00029003495, -0.019013168, 0.017763305, 0.00076040474, 0.035846863, -0.12974326, 0.15072128, -0.0013241996, -0.055678897, -0.08188857, 0.03223846, -0.07603688) * inp_3_1_2;
    result3 += M4(-0.0013125569, 0.04371167, -0.054917052, 0.0020945729, -0.013598829, 0.14338054, 0.005926085, 0.002924685, -0.027426384, 0.15349118, -0.044555515, 0.002087639, -0.023199182, 0.008176415, 0.036245175, -0.004268357) * inp_3_2_2;
    const ivec2 output_base = ivec2(gl_GlobalInvocationID) * ivec2(2, 2);
    imageStore(out_image, output_base + ivec2(0, 0), max(result0, V4(0.0)));
    imageStore(out_image, output_base + ivec2(1, 0), max(result1, V4(0.0)));
    imageStore(out_image, output_base + ivec2(0, 1), max(result2, V4(0.0)));
    imageStore(out_image, output_base + ivec2(1, 1), max(result3, V4(0.0)));
}

//!DESC ArtCNN C4F16 (Conv2D-4-ReLU)
//!COMPUTE 24 32 12 16
//!HOOK LUMA
//!BIND conv2d_3
//!SAVE conv2d_4
//!WIDTH LUMA.w 2.0 *
//!HEIGHT LUMA.h 2.0 *
//!COMPONENTS 4
//!WHEN OUTPUT.w LUMA.w / 1.3 > OUTPUT.h LUMA.h / 1.3 > *
#extension GL_EXT_shader_explicit_arithmetic_types_float16 : enable
#ifdef GL_EXT_shader_explicit_arithmetic_types_float16
#	define V4 f16vec4
#	define M4 f16mat4
#	define F float16_t
#else
#	define V4 vec4
#	define M4 mat4
#	define F float
#endif

const ivec2 ksize = ivec2(3, 3);
const ivec2 offset = ksize / 2;
const ivec2 wg_size = ivec2(gl_WorkGroupSize);
const ivec2 isize = wg_size + ksize - 1;
shared V4 inp[4][isize.y][isize.x];
void hook() {
    const uvec2 local_xy = gl_LocalInvocationID.xy;
    ivec2 base = ivec2(gl_WorkGroupID) * wg_size;
    for (uint y = local_xy.y; y < isize.y; y += wg_size.y) {
        for (uint x = local_xy.x; x < isize.x; x += wg_size.x) {
            const ivec2 input_base = (base + ivec2(x,y) - offset) * ivec2(2, 2);
            inp[0][y][x] = V4(conv2d_3_mul * texelFetch(conv2d_3_raw, input_base + ivec2(0, 0), 0));
            inp[1][y][x] = V4(conv2d_3_mul * texelFetch(conv2d_3_raw, input_base + ivec2(1, 0), 0));
            inp[2][y][x] = V4(conv2d_3_mul * texelFetch(conv2d_3_raw, input_base + ivec2(0, 1), 0));
            inp[3][y][x] = V4(conv2d_3_mul * texelFetch(conv2d_3_raw, input_base + ivec2(1, 1), 0));
        }
    }

    barrier();
    V4 result0 = V4(-0.005143345, 0.0037153577, 0.009483166, -0.014007677);
    V4 result1 = V4(-0.0010725218, 0.007895812, -0.00276171, 0.0062171044);
    V4 result2 = V4(-0.0055635795, -0.10263126, -0.004416385, -0.006157406);
    V4 result3 = V4(-0.007073307, 0.0039823363, -0.012085673, -0.008243437);
    const V4 inp_0_0_0 = inp[0][local_xy.y + 0][local_xy.x + 0];
    const V4 inp_0_1_0 = inp[0][local_xy.y + 0][local_xy.x + 1];
    const V4 inp_0_2_0 = inp[0][local_xy.y + 0][local_xy.x + 2];
    const V4 inp_0_0_1 = inp[0][local_xy.y + 1][local_xy.x + 0];
    const V4 inp_0_1_1 = inp[0][local_xy.y + 1][local_xy.x + 1];
    const V4 inp_0_2_1 = inp[0][local_xy.y + 1][local_xy.x + 2];
    const V4 inp_0_0_2 = inp[0][local_xy.y + 2][local_xy.x + 0];
    const V4 inp_0_1_2 = inp[0][local_xy.y + 2][local_xy.x + 1];
    const V4 inp_0_2_2 = inp[0][local_xy.y + 2][local_xy.x + 2];
    result0 += M4(0.0088969385, -0.0443805, -0.00347566, -0.004854648, 0.006478624, 0.042550065, 0.03218753, -0.03005092, -0.010464928, 0.061234806, 0.036381084, -0.07360233, 0.026625028, 0.2312774, 0.032696046, -0.029026967) * inp_0_0_0;
    result0 += M4(-0.027758125, 0.043283444, -0.039911035, 0.08563252, 0.003605383, 0.06642358, 0.019906025, -0.031543024, 0.011699302, 0.0022592437, -0.05589436, 0.078815356, -0.006123674, -0.06946145, -0.054562025, 0.058831193) * inp_0_1_0;
    result0 += M4(0.016689854, 0.011713848, -0.021114249, 0.024943706, -0.0037796474, 0.007235999, 0.004771211, -0.016716588, -0.013231882, 0.033400007, 0.00093401625, 0.029044893, -0.006606004, 0.00022647719, 0.034580916, -0.029612059) * inp_0_2_0;
    result0 += M4(0.010906361, -0.0368927, -0.07558194, 0.07503311, -0.0017289029, -0.3253359, -0.09844317, 0.069043905, -0.010994518, -0.3906277, -0.009466111, 0.03966242, -0.019590609, 0.53328735, -0.032338783, 0.031183984) * inp_0_0_1;
    result0 += M4(0.011355558, 0.07123472, 0.23357598, -0.025734026, -0.0062293117, 0.061369624, -0.10590354, 0.10008708, 0.06727548, -0.08480892, 0.19864194, -0.25408977, -0.009717685, 0.006649788, -0.25608373, 0.10590849) * inp_0_1_1;
    result0 += M4(-0.00382395, -0.042119514, -0.07092946, 0.06922078, -0.0035035845, -0.03181113, -0.030911516, 0.002314008, -0.016579518, 0.0043107076, -0.04250419, -0.0075795054, -0.024668744, 0.05959934, 0.11739765, -0.11441054) * inp_0_2_1;
    result0 += M4(-0.0148363765, -0.1416411, -0.030972982, 0.027927386, -0.06042224, 0.04321606, 0.032629404, -0.057242513, 0.007207813, -0.07175377, -0.010979966, 0.033742286, 0.04163878, 0.28006658, 0.035359707, -0.037408892) * inp_0_0_2;
    result0 += M4(0.006390298, -0.006511406, -0.058127344, 0.07803242, 0.10280055, -0.0038084118, 0.059679277, -0.032794315, -0.07720611, -0.0019545571, -0.058026258, 0.032207303, -0.044406377, -0.08989432, -0.011974519, 0.016637867) * inp_0_1_2;
    result0 += M4(0.009861988, -0.045719977, 0.0044477573, -0.02637412, -0.06966161, 0.045170426, -0.0077380277, -0.015779976, 0.025188675, 0.001260298, -0.0142387, 0.02043791, 0.029249791, 0.0634561, 0.017421633, -0.007488761) * inp_0_2_2;
    result1 += M4(0.019318072, -0.06950067, -0.016487405, -0.06488306, 0.0041434495, 0.030728493, 0.005628789, 0.09225039, -0.0038827688, 0.08326485, 0.00622225, 0.064834766, -0.022976207, -0.025104068, 0.012789537, 0.028910046) * inp_0_0_0;
    result1 += M4(-0.08349435, -0.035641786, -0.01330479, -0.13646965, 0.05880011, 0.0073805903, 0.0061547044, 0.110517465, -0.03263507, 0.020340892, 0.012209252, 0.11887735, -0.016069904, 0.031704865, -0.026660506, 0.1664541) * inp_0_1_0;
    result1 += M4(0.0056766593, 0.013906079, -0.01658683, 0.020203277, 0.01289893, 0.02341275, -0.003441107, 0.021414105, -0.016393518, -0.046839602, -0.0073521137, -0.10854886, -0.053926054, -0.016383989, 0.0013930885, 0.048016213) * inp_0_2_0;
    result1 += M4(0.044008013, 0.098081, -0.008872239, 0.05259794, 0.013301794, -0.059057295, -0.024497932, -0.061469767, 0.022254823, 0.030184852, -0.0052565667, 0.10451768, -0.08258332, 0.025383677, 0.036754284, -0.25217548) * inp_0_0_1;
    result1 += M4(0.073145285, 0.094041206, 0.06888472, 0.23311232, -0.20406151, 0.050578058, -0.058021907, -0.24553756, 0.08311812, 0.18100446, -0.008974884, 0.20898376, 0.24449818, -0.010667392, 0.015887182, -0.054170594) * inp_0_1_1;
    result1 += M4(0.017902786, 0.044634815, -0.025342256, 0.084893726, -0.015119834, -0.04566072, -0.014797158, 0.011477915, 0.01496981, 0.06944769, 0.013540153, 0.1173248, -0.1071026, 0.09179779, 0.058172077, 0.052964807) * inp_0_2_1;
    result1 += M4(-0.01769498, -0.04827534, -0.060693633, -0.1295007, 0.0009550797, 0.11708788, 0.0069386596, 0.19561999, -0.035800494, -0.021349387, -0.034902327, 0.025721196, 0.050325625, -0.020235037, 0.04670763, 0.0043492164) * inp_0_0_2;
    result1 += M4(-0.027084889, -0.22927186, 0.095070794, -0.04643898, 0.10056782, 0.20335795, 0.12019182, 0.29761645, -0.034768645, -0.2517667, -0.1545354, 0.06908774, -0.022332776, -0.20667191, -0.2625218, -0.13050649) * inp_0_1_2;
    result1 += M4(-0.01766112, -0.031996496, -0.036159806, 0.048810814, 0.007146665, 0.104934, 0.0031546822, 0.24941793, -0.019954301, 0.083744064, -0.025540292, 0.0010687697, -0.0056331777, -0.09410195, 0.11935299, -0.2193561) * inp_0_2_2;
    result2 += M4(0.08132134, -0.017617151, 0.0043700715, 0.03777131, 0.022545526, 0.06230602, 0.016685413, 0.007362321, 0.006012036, 0.07755046, -0.0029195696, 0.04524331, 0.031224584, -0.038952872, -0.04156973, 0.0086064115) * inp_0_0_0;
    result2 += M4(-0.060753778, -0.09485683, 0.021888088, 0.026274955, 0.051742148, -0.14253357, -0.037693392, 0.046834122, 0.006172969, 0.023913126, 0.04368465, -0.0858236, -0.0053961924, 0.024944885, -0.04398457, 0.008656299) * inp_0_1_0;
    result2 += M4(-0.0013772489, -0.12756297, -0.07737545, 0.06871755, -0.0061320276, 0.08829726, 0.0330025, -0.054544482, 0.00034952725, -0.025526917, -0.04570419, 0.0033799892, -0.051669214, -0.11749786, -0.039148193, 0.047092818) * inp_0_2_0;
    result2 += M4(-0.08223425, -0.017237185, 0.00666211, -0.018809773, 0.018875202, 0.044809304, -0.0027464184, -0.13414107, -0.10254481, -0.032505203, -0.013382391, 0.067033805, 0.10815667, 0.07992674, -0.0073233764, 0.04262463) * inp_0_0_1;
    result2 += M4(0.06083852, 0.05313597, -0.017089197, 0.17542091, -0.03837491, 0.060825706, 0.082833834, -0.048954446, 0.07711926, -0.055002835, -0.01303756, -0.032432113, -0.05070631, 0.054173652, 0.16065082, -0.045563553) * inp_0_1_1;
    result2 += M4(-0.006572648, -0.020901348, -0.035497542, 0.04810347, -0.038592782, -0.06315812, -0.24216515, 0.0778569, 0.07046404, -0.02525288, -0.12020752, -0.06587452, -0.10230006, -0.094340675, -0.17496319, -0.1319879) * inp_0_2_1;
    result2 += M4(-0.013196623, -0.12646227, -0.0063610086, 0.031497765, -0.070846006, -0.12937881, -0.011957755, 0.05990242, -0.0076349857, 0.062457494, -0.017875228, 0.029096302, -0.030241467, -0.02235428, 0.017215999, -0.00090382993) * inp_0_0_2;
    result2 += M4(-0.008712417, 0.022736251, 0.0155728785, 0.039835338, -0.08230649, -0.09320085, 0.0025579347, -0.13157834, 0.029739957, -0.017870381, -0.0021015396, 0.010383712, -0.042184, -0.07488958, -0.07821974, -0.036513314) * inp_0_1_2;
    result2 += M4(-0.058350127, -0.05080954, -0.024025712, -0.013090536, 0.011538765, 0.090043485, -0.00092148, -0.0025464061, -0.070314705, 0.01412463, 0.049259454, -0.0039888294, 0.089785345, -0.052666374, 0.08109786, 0.07436608) * inp_0_2_2;
    result3 += M4(-0.027711706, -0.031149691, 0.06781593, 0.031713873, -0.024754282, 0.026270455, -3.0679075e-07, -0.011616129, -0.061687097, 0.035035793, -0.15164617, -0.24122795, -0.0420276, 0.16582659, -0.030127442, 0.11439733) * inp_0_0_0;
    result3 += M4(0.072688825, 0.15811563, -0.009915063, 0.059528552, -0.022207048, 0.025112864, -0.011003222, -0.039102107, 0.088301465, 0.015823673, 0.08984312, -0.02195866, 0.06676881, 0.09430344, 0.08905734, 0.032628365) * inp_0_1_0;
    result3 += M4(0.08863698, -0.15852156, 0.048632536, 0.0007885045, 0.017305873, 0.026305119, 0.0045365794, 0.017831737, 0.017902277, -0.017534604, -0.15887004, -0.016249817, -0.10339735, 0.03964797, 0.0021434273, 0.012771351) * inp_0_2_0;
    result3 += M4(0.0044157077, -0.12983297, 0.2089069, 0.2591491, 0.07627983, -0.20636158, 0.015158529, -0.027952183, -0.020633634, -0.22458906, -0.010075666, 0.015922097, -1.5302899e-06, 0.08252727, 0.21312168, 0.0444144) * inp_0_0_1;
    result3 += M4(0.31118158, 0.24058802, 0.034882158, 0.10839091, -0.09102687, 0.09909893, -0.106226936, -0.0007997076, 0.26734874, -0.036012366, -0.14618108, -0.052103106, -0.18734092, -0.20900278, 0.42123935, -0.2189901) * inp_0_1_1;
    result3 += M4(-0.026501136, -0.0005444257, 0.029709067, -0.015930282, 0.01308883, -0.017199967, -0.03539548, -0.017021785, -0.11998938, 0.062093273, 0.029018184, -0.008012537, 0.15244365, 0.14760903, -0.082265206, 0.04061164) * inp_0_2_1;
    result3 += M4(0.0604463, -0.076235674, 0.03978238, 0.10090694, -0.020415664, 0.087946184, -0.111572675, -0.03178954, 0.03509966, 0.004251863, 0.0168794, -0.007336401, -0.019554922, 0.25097853, -0.051790606, 0.18548732) * inp_0_0_2;
    result3 += M4(-0.06913067, 0.12047496, 0.0136552295, 0.014615577, 0.028417015, -0.2327626, -0.005550507, 0.00059096294, -0.0625577, -0.056981515, -0.024540342, -0.019382073, 0.0010777031, 0.08151383, 0.011871875, 0.020197855) * inp_0_1_2;
    result3 += M4(0.050847836, 0.035279248, -0.008200876, -0.007358541, -0.0402883, 0.07290345, 0.0062079993, -0.011336805, 0.028521106, 0.012708891, -0.019721586, 0.007297358, -0.052934434, -0.014107079, -0.03286784, 0.018702166) * inp_0_2_2;
    const V4 inp_1_0_0 = inp[1][local_xy.y + 0][local_xy.x + 0];
    const V4 inp_1_1_0 = inp[1][local_xy.y + 0][local_xy.x + 1];
    const V4 inp_1_2_0 = inp[1][local_xy.y + 0][local_xy.x + 2];
    const V4 inp_1_0_1 = inp[1][local_xy.y + 1][local_xy.x + 0];
    const V4 inp_1_1_1 = inp[1][local_xy.y + 1][local_xy.x + 1];
    const V4 inp_1_2_1 = inp[1][local_xy.y + 1][local_xy.x + 2];
    const V4 inp_1_0_2 = inp[1][local_xy.y + 2][local_xy.x + 0];
    const V4 inp_1_1_2 = inp[1][local_xy.y + 2][local_xy.x + 1];
    const V4 inp_1_2_2 = inp[1][local_xy.y + 2][local_xy.x + 2];
    result0 += M4(0.005329317, -0.13242136, -0.010552362, 0.018781466, 0.008546257, -0.05032879, -0.005982476, -0.004990239, -0.03708657, 0.49421433, -0.17296791, 0.15103576, 0.0112127215, 0.1708534, 0.01957326, -0.051982127) * inp_1_0_0;
    result0 += M4(0.00851825, -0.18391661, 0.08685146, -0.028312096, -0.07096112, -0.013334997, -0.17452927, 0.18908009, -0.024458205, 0.107826404, 0.27964893, -0.26156005, -0.018722916, 0.018790359, 0.015743338, 0.024643673) * inp_1_1_0;
    result0 += M4(-0.0036181407, 0.095871046, 0.020146934, -0.021182863, 0.034869842, 0.058317482, -0.046261728, 0.07728979, -0.040010013, -0.03414635, -0.03948085, 0.1822004, 0.009228917, 0.01830126, -0.02510828, -0.0023113957) * inp_1_2_0;
    result0 += M4(0.042000037, -0.23751411, -0.029734325, 0.03299162, -0.040858094, -0.087271035, -0.087896354, 0.099608, -0.007504975, -0.1266076, -0.049889505, 0.0032889352, -0.024780726, 0.1215271, 0.022269681, -0.044727582) * inp_1_0_1;
    result0 += M4(-0.051806428, -0.011021911, -0.18112822, 0.06086856, -0.088399746, -0.037054267, -0.23177111, 0.20172429, 0.106980555, 0.14548035, 0.008509349, -0.026894696, 0.09095819, -0.11835633, -0.08553476, 0.12524477) * inp_1_1_1;
    result0 += M4(0.048545532, 0.023003362, -0.021437893, 0.004261904, 0.017902315, -0.02324728, -0.04481129, 0.07294409, 0.09043482, 0.32322237, 0.0633803, -0.06504991, -0.041102875, 0.012104429, 0.040694475, -0.069592364) * inp_1_2_1;
    result0 += M4(-0.044248868, -0.15412936, 0.02876211, -0.018510235, -0.055332858, -0.21192427, -0.032142, 0.007836899, 0.053781196, 0.33446124, 0.0073003806, -0.0015566132, 0.00012728697, 0.18407612, -0.007886496, -0.013486074) * inp_1_0_2;
    result0 += M4(0.06973543, 0.12528186, 0.038508996, -0.05323347, 0.14359052, 0.09610524, 0.048163347, -0.002059335, 0.01905866, 0.035430193, 0.055276543, -0.06484083, -0.10024506, -0.25495702, -0.037038144, -0.0043856343) * inp_1_1_2;
    result0 += M4(-0.07757766, -0.008818811, 0.0074654575, -0.015568997, -0.10279715, -0.056674838, -0.0025651266, -0.00252437, -0.010864563, -0.016005266, 0.02522421, -0.03512261, 0.026418896, 0.15856667, 0.04550463, -0.038648825) * inp_1_2_2;
    result1 += M4(0.023462832, -0.023125581, -0.009340163, 0.21668334, -0.0609667, 0.020087093, 0.004269428, -0.0007824506, 0.09413692, 0.23303466, -0.010342923, -0.06614156, -0.032078136, -0.022276364, 0.016298749, 0.12877037) * inp_1_0_0;
    result1 += M4(0.13169684, -0.05062656, 0.0032842057, 0.11452489, -0.24199529, -0.030549, -0.010607242, -0.1891294, -0.24369127, -0.14263216, 0.03212152, 0.15330125, 0.016991274, -0.03518911, -0.003207921, -0.20327619) * inp_1_1_0;
    result1 += M4(0.0077356496, 0.045145743, 0.0014451006, 0.16113515, -0.030541286, -0.037954845, -0.009195149, -0.029591234, 0.07959423, -0.051752333, 0.0056157717, -0.4362475, 0.025556942, 0.030288678, -0.0051703644, 0.12742078) * inp_1_2_0;
    result1 += M4(0.018151114, 0.02771338, -0.0061311806, -0.03365979, -0.004550767, 0.044031143, 0.08574897, 0.012864213, 0.043164745, -0.14568032, -0.11114666, -0.12678342, -0.05505124, -0.08934526, 0.03717927, -0.016625118) * inp_1_0_1;
    result1 += M4(-0.2200578, 0.019644156, -0.024385793, -0.46904108, -0.28718457, -0.07463039, 0.24589056, -0.13290164, -0.16937198, -0.5445812, 0.15059617, -0.4189226, 0.12311164, 0.103810534, 0.041002363, 0.01790104) * inp_1_1_1;
    result1 += M4(-0.0008569555, 0.166866, 0.007901791, 0.03412956, -0.049666207, -0.085347846, 0.0117134685, 0.052575376, -0.0057194554, 0.06266638, -0.027596014, 0.2724205, -0.10106052, -0.080710575, -0.031989668, -0.051749717) * inp_1_2_1;
    result1 += M4(0.01644107, 0.065068334, -0.01850454, -0.050233517, -0.011907598, -0.052099258, 0.008241535, -0.10459472, -0.0028079154, 0.047797978, -0.039115015, 0.08862588, 0.0139735695, -0.003149048, 0.04003738, -0.00083403965) * inp_1_0_2;
    result1 += M4(0.032088093, 0.18714423, 0.07332316, 0.05286256, 0.04230213, -0.1338335, 0.22606222, 0.00568258, 0.029097939, 0.28835127, 0.08352123, 0.17742038, -0.026423337, -0.3027621, -0.09815802, -0.12391558) * inp_1_1_2;
    result1 += M4(0.0037633856, 0.057075102, 0.0058142943, 0.00430708, 0.0063289986, -0.024755033, 0.03377933, 0.026835939, -0.0064972155, -0.066024154, 0.036749903, 0.016566137, 0.0128148, -0.03235214, 0.073360875, 0.045273907) * inp_1_2_2;
    result2 += M4(0.014016943, -0.12743215, -0.010945598, -0.019382909, 0.052788936, -0.13422684, 0.002541578, 0.036412213, -0.18032119, 0.030070022, -0.0130178705, -0.14414588, -0.037223484, 0.03191226, 0.0018325712, -0.025944335) * inp_1_0_0;
    result2 += M4(0.07788964, -0.03410432, -0.018836858, 0.10177099, -0.23687315, -0.12662949, -0.017433645, -0.16017352, -0.117296234, -0.034491535, -0.057491682, 0.094986126, 0.08456458, -0.007040941, 0.010563394, -0.06228655) * inp_1_1_0;
    result2 += M4(0.026463652, -0.04424498, 0.14118946, 0.012351859, 0.009280108, -0.059207395, -0.28331944, 0.11807152, 0.15703729, 0.08805436, -0.0051381597, 0.27615944, 0.015527002, 0.07078105, -0.00060363533, 0.04984551) * inp_1_2_0;
    result2 += M4(0.0069356365, -0.0008893516, 0.0067370743, 0.009252868, -0.048433855, -0.081931636, -0.021812357, -0.09040224, 0.023266582, -0.10179525, -0.013272354, 0.0056890384, 0.08229546, -0.010544881, 0.010477689, 0.013679947) * inp_1_0_1;
    result2 += M4(0.11654036, -0.10809044, -0.025788795, -0.036745384, 0.14555581, -0.103599206, -0.05777618, 0.1781434, 0.08701717, 0.05238135, 0.035325557, 0.15949579, -0.0752643, -0.07345153, 0.005564169, -0.24127355) * inp_1_1_1;
    result2 += M4(-0.08576266, -0.11508344, 0.064357825, 0.000671142, -0.1633961, -0.13757628, 0.15311137, -0.01972939, -0.14007318, 0.04223555, -0.0032132363, -0.2280471, -0.10939017, 0.0076631764, -0.06535637, -0.124021426) * inp_1_2_1;
    result2 += M4(-0.01856057, -0.0464524, 0.003839621, 0.009705399, -0.03546576, -0.10996895, 0.00081714947, -0.009519358, 0.025522701, -0.11192086, -0.0049980935, 0.0535725, -0.025612378, 0.0670123, -0.009887235, -0.093577) * inp_1_0_2;
    result2 += M4(-0.0416461, -0.045315273, 0.018787574, -0.03765086, 0.006836204, -0.05423035, -0.00011602409, 0.033707708, -0.07805369, -0.05911674, 0.0130333705, -0.14484124, -0.015440869, 0.035525113, -0.020453807, 0.014926797) * inp_1_1_2;
    result2 += M4(0.010239921, -0.12451302, -0.037106443, 0.0032555966, 0.041961372, 0.029223412, -0.045725774, -0.002997588, -4.4420114e-05, -0.021935593, 0.060710657, -0.034719724, 0.045542307, 0.05088089, -0.021443307, -0.039438315) * inp_1_2_2;
    result3 += M4(-0.024731776, 0.0863286, 0.07828913, -0.005804616, 0.039446305, -0.09772292, 0.005565851, -0.053618964, 0.08358239, -0.32783553, 0.25703552, -0.11990023, -0.06666212, 0.21550985, -0.16125375, 0.07992591) * inp_1_0_0;
    result3 += M4(0.06731591, -0.15717305, -0.11945998, 0.0046255486, 0.083188504, -0.13796763, -0.11093196, 0.061360903, -0.24570227, 1.1417055, -0.38621476, 0.18851383, -0.097234614, -0.18033893, 0.17043121, -0.007009546) * inp_1_1_0;
    result3 += M4(0.028797716, 0.009794528, 0.008418702, 0.04777346, -0.019827515, 0.058683388, -0.02562251, -0.03869531, 0.048097502, 0.81019634, 0.387308, 0.00987272, -0.0256936, 0.025464362, 0.0031654073, 0.0132522) * inp_1_2_0;
    result3 += M4(0.033374507, 0.081313476, -0.071162336, -0.23004021, 0.09543018, 0.00067721936, 0.08177029, 0.06951663, -0.02627348, -0.12327848, 0.09184569, -0.1105876, -0.016256776, 0.06326062, -0.023691053, -0.07072089) * inp_1_0_1;
    result3 += M4(-0.05102221, -0.27473658, -0.04577147, 0.005590317, -0.20566772, -0.15821657, -0.13085014, -0.12290452, 0.032381706, 0.24196947, 0.30381823, 0.111095905, -0.07445761, -0.050279748, 0.050115254, -0.066328615) * inp_1_1_1;
    result3 += M4(-0.02693789, -0.13276944, 0.038188525, 0.005117786, 0.03697442, -0.0096774, 0.02001577, 0.052284215, 0.20854239, 0.23419403, 0.056916595, 0.0017487163, 0.044432588, 0.11578862, -0.21687566, 0.00392049) * inp_1_2_1;
    result3 += M4(0.0065315794, -0.022161864, -0.021094937, -0.02234495, -0.08650564, -0.12457403, -9.42043e-05, -0.01686362, 0.024606789, -0.08454033, 0.030263063, 0.20736167, 0.033475272, 0.031313367, 0.026480515, -0.124536954) * inp_1_0_2;
    result3 += M4(-0.0016484469, -0.044828117, 0.02176577, -0.0052064154, 0.06635475, 0.14836265, 0.007450012, -0.00073925225, 0.033923887, 0.03368222, -0.019116314, 0.057725735, -0.105187066, -0.0131477965, 0.032612637, 0.056636844) * inp_1_1_2;
    result3 += M4(0.0041958834, -0.024554847, 0.014511748, 0.02547535, -0.004198961, -0.09333159, 0.007977506, 0.0056364103, -0.049746435, 0.2037584, 0.0062683183, 0.024267362, -0.07001044, 0.19838491, 0.009720727, -0.035638276) * inp_1_2_2;
    const V4 inp_2_0_0 = inp[2][local_xy.y + 0][local_xy.x + 0];
    const V4 inp_2_1_0 = inp[2][local_xy.y + 0][local_xy.x + 1];
    const V4 inp_2_2_0 = inp[2][local_xy.y + 0][local_xy.x + 2];
    const V4 inp_2_0_1 = inp[2][local_xy.y + 1][local_xy.x + 0];
    const V4 inp_2_1_1 = inp[2][local_xy.y + 1][local_xy.x + 1];
    const V4 inp_2_2_1 = inp[2][local_xy.y + 1][local_xy.x + 2];
    const V4 inp_2_0_2 = inp[2][local_xy.y + 2][local_xy.x + 0];
    const V4 inp_2_1_2 = inp[2][local_xy.y + 2][local_xy.x + 1];
    const V4 inp_2_2_2 = inp[2][local_xy.y + 2][local_xy.x + 2];
    result0 += M4(-0.012481143, 0.31521723, 0.042676754, -0.0848501, 0.00072220183, -0.53581387, 0.015255826, -0.0025278209, -0.002535244, 0.019064913, 0.019993553, -0.013842314, -6.869425e-05, -0.060400456, 0.0014216909, -0.015260996) * inp_2_0_0;
    result0 += M4(0.017553847, -0.07963805, 0.07018409, -0.13429487, -0.0109709995, 0.035457443, -0.05627238, -0.07837508, 0.020933187, -0.058895554, 0.021882752, -0.054472517, -0.0007830742, -0.07422378, 0.052734803, -0.07129891) * inp_2_1_0;
    result0 += M4(-0.01858166, -0.0242081, 0.03626152, -0.0525898, 0.007493116, 0.04871221, -0.00630761, -0.005301393, -0.01330486, 0.009914781, 0.10128703, -0.11118565, -0.0039331876, -0.0257123, 0.0040309113, -0.0061319293) * inp_2_2_0;
    result0 += M4(0.015077345, 0.30718213, 0.003436073, -0.015983455, -0.012184672, -0.4688598, 0.0032059178, 0.008946932, -0.020532733, 0.082675405, 0.07657846, -0.06395961, 0.040656656, 0.052100502, -0.1190253, 0.06180562) * inp_2_0_1;
    result0 += M4(-0.032751463, -0.07509426, 0.06426651, 0.32170236, 0.017242413, -0.120037764, -0.071521945, -0.16398685, 0.019809958, 0.11479866, 0.19989656, -0.31991628, 0.05169097, 0.011446836, 0.105729796, 0.103270024) * inp_2_1_1;
    result0 += M4(0.0066835126, -0.033356354, 0.06565345, -0.10349114, -0.07017044, -0.17755622, -0.06147706, -0.030719614, -0.033623517, 0.041101463, 0.251385, -0.2501293, 0.017351607, -0.025477096, -0.04156778, 0.010217302) * inp_2_2_1;
    result0 += M4(-0.03909857, 0.29608443, 0.014895965, -0.019962683, 0.03813169, -0.52586097, -0.023002991, 0.0065637813, 0.06466231, 0.19930261, 0.043046843, -0.043836985, -0.013423637, 0.08253657, -0.027780948, -0.0079420945) * inp_2_0_2;
    result0 += M4(-0.13075222, -0.028095476, 0.010940923, -0.015795998, -0.24322627, 0.04368644, -0.015341331, -0.0026037626, -0.21044268, -0.074238785, 0.107441776, -0.05739648, 0.33052304, -0.02311016, 0.0629396, -0.08199512) * inp_2_1_2;
    result0 += M4(-0.002561258, 0.06770208, 0.012556659, -0.006475768, -0.06969654, 0.11345904, -0.012051016, 0.03275989, 0.024557674, -0.012412383, 0.042963486, -0.021574715, 0.023352668, -0.024901848, -0.01771074, -0.011906475) * inp_2_2_2;
    result1 += M4(-0.02889716, 0.08882555, 0.023897301, 0.11450569, -0.0015583568, 0.054813102, -0.0016863006, -0.0055602686, 0.0028885624, -0.011541355, -0.0007235809, 0.021537615, 0.016854865, 0.054648176, -0.0029008258, 0.07493788) * inp_2_0_0;
    result1 += M4(0.06619792, -0.019792175, 0.017466044, 0.25269723, -0.07270827, 0.11060116, 0.015241047, -0.6069879, 0.10561826, 0.10868134, -0.0004240162, 0.085064, 0.09442224, 0.010543892, 0.012112714, 0.040046565) * inp_2_1_0;
    result1 += M4(-0.030390088, -0.038252056, 0.0065994803, -0.0029986117, 0.010778333, 0.01239366, 0.004243638, -0.09593556, -0.07651766, -0.0046194345, 0.023233818, -0.011720407, 0.00989245, 0.0084379595, 0.005411958, -0.0009242879) * inp_2_2_0;
    result1 += M4(-0.042810924, -0.1389655, -0.032439668, 0.025330843, 0.005716716, -0.07676118, -0.0090604, -0.15006648, 0.02035056, -0.033195592, -0.008485441, -0.08267622, 0.038913827, -0.032953992, -0.034490213, -0.019945227) * inp_2_0_1;
    result1 += M4(0.15242498, -0.12927866, -0.15496221, 0.03219992, -0.11356346, -0.30696243, -0.019886177, -0.5533016, 0.096652314, -0.035363954, -0.07962227, -0.18125618, -0.029253606, -0.10437644, -0.06311607, -0.006692171) * inp_2_1_1;
    result1 += M4(-0.076735355, -0.009677146, -0.0065715974, 0.024459783, 0.0108385105, -0.42566434, -0.011052651, -0.28289515, -0.105628096, 0.15804234, 0.091344595, 0.06931753, 0.032662246, -0.033643182, -0.011349973, -0.054653317) * inp_2_2_1;
    result1 += M4(-0.018533546, 0.3184509, 0.044713892, 0.020322785, -0.005541064, 0.01542648, 0.02461944, 0.04019267, 0.0042239283, 0.021849588, -0.029024106, 0.07861339, -0.0073936703, 0.08992099, -0.06340416, 0.033811428) * inp_2_0_2;
    result1 += M4(0.018242266, 0.3405832, 0.15986447, -0.13639857, -0.027049929, -0.60539323, -0.12927705, 0.016950045, 0.016508993, -0.23076822, -0.17160428, 0.0030204062, 0.018716948, 0.3744862, 0.2256612, 0.19641177) * inp_2_1_2;
    result1 += M4(0.0069831046, 0.113954306, 0.04166619, -0.10530802, -0.009816665, -0.45743725, -0.047987774, -0.0009156036, 0.0016582372, -0.16881073, 0.12898178, -0.17786913, -0.016756924, 0.10968159, -0.056484308, 0.049106307) * inp_2_2_2;
    result2 += M4(-0.08385598, -0.12469029, 0.011337473, 0.0169146, -0.0029605713, -0.1418278, 0.0016128449, 0.04919147, -0.033824194, -0.0243648, -0.007389767, 0.007177954, 0.022481924, -0.01786712, -0.003919717, -0.02413851) * inp_2_0_0;
    result2 += M4(0.03699028, -0.053254854, -0.022647513, -0.102571644, -0.087209195, -0.101136684, -0.040829018, -0.22214235, 0.048992153, -0.101883896, -0.018975992, -0.02549263, 0.10323023, -0.08030079, 0.05081067, -0.008202298) * inp_2_1_0;
    result2 += M4(-0.05804994, -0.04130827, 0.08809505, 0.001801192, 0.018272536, -0.10678644, -0.35630587, -0.122403175, -0.069683686, -0.060928125, 0.13327596, -0.008846438, 0.013749538, 0.08066963, 0.03454773, -0.07026672) * inp_2_2_0;
    result2 += M4(0.04241757, -0.06578893, -0.020673994, -0.044773426, 0.01047926, -0.12622774, -0.013204758, -0.011080564, -0.027410708, -0.08946524, 0.0014008901, 0.035314597, 0.025508532, -0.08429895, -0.011967442, -0.07163338) * inp_2_0_1;
    result2 += M4(-0.02560329, -0.016801028, -0.0012842936, 0.16813317, -0.34404308, 0.08473595, 0.10094715, -0.23437452, -0.0965601, -0.050689727, 0.058765322, -0.045994863, 0.29627392, -0.12363357, -0.030318193, -0.04527172) * inp_2_1_1;
    result2 += M4(-0.029334873, 0.071963124, -0.07596973, -0.08879494, -0.08112009, -0.020500043, -0.9172963, -0.335421, -0.036721665, -0.1044699, -0.34002525, -0.087141596, 0.11351868, -0.07443912, 0.3635662, 0.02322045) * inp_2_2_1;
    result2 += M4(-0.06329991, -0.06829474, 0.008036754, -0.012587295, 0.0079039475, -0.14092277, 0.0071420064, -0.051276587, 0.07571945, -0.12597264, 0.0035755, -0.004240258, -0.0018841808, -0.016152704, -0.0021741118, 0.041746523) * inp_2_0_2;
    result2 += M4(-0.10644888, -0.1522611, -0.016861336, -0.08039406, 0.013148572, -0.12554488, -0.029444637, 0.02397505, -0.043938212, 0.02103618, 0.005394584, -0.07285762, 0.09463563, 0.012903805, 0.057164077, -0.052073274) * inp_2_1_2;
    result2 += M4(0.0718688, -0.114693016, -0.021131532, 0.026094275, -0.07137397, -0.108627506, -0.01874101, -0.0166992, 0.10634022, -0.0010840255, 0.031245567, -0.010223992, 0.03023888, -0.007174503, 0.055954415, -0.059030943) * inp_2_2_2;
    result3 += M4(-0.051556196, 0.2784841, -0.093836464, -0.053244773, 0.047047377, 0.08427207, 0.09915348, 0.0024126, -0.03502865, 0.09973701, -0.022595625, 0.06959558, -0.022952134, -0.2429935, 0.008981696, 0.021103729) * inp_2_0_0;
    result3 += M4(-0.051570855, -0.07099915, 0.32005402, 0.0012965199, -0.044817947, -0.5088035, -0.23073418, -0.0058745085, 0.05349447, -0.17238359, 0.057481125, -0.032583583, 0.009614873, 0.11052963, 0.07543467, -0.018522015) * inp_2_1_0;
    result3 += M4(-0.009499766, -0.017441632, -0.090262614, -0.002919949, -0.0668217, -0.11442871, -0.07215791, 0.017054817, -0.12139265, 0.08371835, -0.060436904, 0.0041512777, -0.003267229, 0.018268894, -0.02803038, 0.0057189204) * inp_2_2_0;
    result3 += M4(0.037139107, -0.035376623, -0.1615535, -0.09669893, -0.017864564, -0.07376631, 0.044955995, -0.30223823, 0.018316051, 0.0353756, -0.07958158, -0.19892475, 0.018546069, -0.27117923, 0.092502594, 0.21218623) * inp_2_0_1;
    result3 += M4(0.0036372629, -0.11417982, 0.096765324, -0.049795613, -0.20601109, -0.4739876, -0.28615537, -0.16382656, -0.28676632, -0.14687468, -0.08521161, -0.17157494, -0.046923626, 0.38955557, 0.0074998997, 0.021023197) * inp_2_1_1;
    result3 += M4(-0.008220962, -0.060936857, -0.1015842, 0.004844548, 0.10561369, -0.2620141, 0.031002896, -0.036568724, 0.115316674, 0.08611245, -0.08817998, 0.004936024, -0.09291608, -0.13794792, -0.008805619, -0.0068718344) * inp_2_2_1;
    result3 += M4(0.03986052, 0.20297159, -0.05419844, 0.049981534, 0.016018521, 0.05735573, -0.012475528, 0.071479365, -0.021883596, 0.10531945, -0.0229483, 0.0041540978, -0.078901395, -0.11216805, 0.029449308, 0.01613385) * inp_2_0_2;
    result3 += M4(-0.010973043, 0.006609275, 0.047641024, -0.04720258, -0.0041357297, -0.058547053, 0.056530934, -0.0009270721, 0.10126444, 0.008054347, 0.0056126276, 0.016096525, 0.025288016, 0.054096576, -0.02882759, -0.023373276) * inp_2_1_2;
    result3 += M4(-0.061097674, 0.02715009, -0.006347917, 0.015120349, -0.0021842297, 0.11336553, -0.0034326036, 0.021302499, -0.035077702, 0.14275092, 0.01444396, 0.012384522, -0.02063487, -0.098031074, 0.019599212, -0.0153060015) * inp_2_2_2;
    const V4 inp_3_0_0 = inp[3][local_xy.y + 0][local_xy.x + 0];
    const V4 inp_3_1_0 = inp[3][local_xy.y + 0][local_xy.x + 1];
    const V4 inp_3_2_0 = inp[3][local_xy.y + 0][local_xy.x + 2];
    const V4 inp_3_0_1 = inp[3][local_xy.y + 1][local_xy.x + 0];
    const V4 inp_3_1_1 = inp[3][local_xy.y + 1][local_xy.x + 1];
    const V4 inp_3_2_1 = inp[3][local_xy.y + 1][local_xy.x + 2];
    const V4 inp_3_0_2 = inp[3][local_xy.y + 2][local_xy.x + 0];
    const V4 inp_3_1_2 = inp[3][local_xy.y + 2][local_xy.x + 1];
    const V4 inp_3_2_2 = inp[3][local_xy.y + 2][local_xy.x + 2];
    result0 += M4(0.01282038, 0.104323156, 0.040741827, -0.106786005, -0.024201967, -0.21462068, -0.065910295, 0.017227542, 0.0015165944, -0.23781483, 0.065571316, -0.016006911, 0.03446742, 0.18480563, -0.018944543, -0.0136736315) * inp_3_0_0;
    result0 += M4(0.002666418, 0.1547811, -0.044648215, 0.021298964, 0.017067017, -0.17599508, 0.040581208, 0.051383544, -0.032344993, -0.12182156, -0.048848916, 0.09932641, -0.076651484, -0.24818742, -0.10339473, 0.08191357) * inp_3_1_0;
    result0 += M4(-0.00407582, -0.07181571, -0.022713177, -0.017234381, -0.002277652, 0.11323404, -0.008138081, 0.010995255, 0.032919504, -0.008280195, -0.1078897, 0.118060224, 0.062750466, 0.17924608, -0.0056137852, -0.013928221) * inp_3_2_0;
    result0 += M4(0.07578442, -1.279203, 0.09035477, 0.06997464, -0.109975986, 0.00843393, 0.010027981, 0.032852564, 0.019252058, -0.15999773, 0.003848507, -0.026035637, -0.16918992, 0.023075389, 0.07314427, -0.109878846) * inp_3_0_1;
    result0 += M4(0.024673795, 0.010700823, 0.15829346, -0.24548991, -0.1040415, -0.2372235, -0.09628459, -0.05969596, 0.23338436, -0.055344056, -0.24424618, 0.2950089, 0.22816664, -0.18277152, 0.098567404, 0.0979368) * inp_3_1_1;
    result0 += M4(0.009589173, -0.0027522398, -0.011904049, 0.031086367, 0.0126828, 0.03522836, 0.016257523, -0.019741077, -0.013229874, -0.071305774, -0.19484685, 0.16136295, -0.17913051, 0.025888555, 0.08504547, -0.07468046) * inp_3_2_1;
    result0 += M4(0.091786645, -0.33991146, -0.03115393, 0.03426861, 0.09581911, 0.09033348, -0.003894332, -0.000559933, -0.03305638, -0.14172664, -0.012562768, 0.02663931, -0.4234537, 0.18014123, -0.0017761767, -0.15635344) * inp_3_0_2;
    result0 += M4(0.00018134774, 0.13291784, 0.02495913, -0.03712755, -0.16021422, -0.03743476, 0.03253465, -0.009645785, -0.15650311, 0.0474563, -0.1039441, 0.07253995, -0.30614242, 0.015795916, -0.04308155, 0.10227587) * inp_3_1_2;
    result0 += M4(-0.01976844, -0.08799449, -0.016672472, 0.057812363, -0.08279472, 0.056365952, 0.012346301, -0.0035311724, 0.035580672, -0.009065657, -0.0070961467, -0.01639773, 0.13343401, 0.0551132, 0.0010134104, -0.021949526) * inp_3_2_2;
    result1 += M4(-0.020879423, 0.08287338, -0.010189936, 0.035505805, -0.033170182, 0.08182467, 0.0020801092, -0.1978547, -0.0036640782, -0.12409183, -0.008565238, -0.03321708, -0.035088595, -0.1418135, -0.008453326, -0.29184973) * inp_3_0_0;
    result1 += M4(0.044889916, 0.08339381, 0.00038151842, 0.10191319, -0.1301964, -0.02581314, -0.017403847, -0.25607666, 0.27806175, -0.1890092, -0.031902116, -0.28012943, 0.010824996, 0.05608654, -0.02196897, -0.3134388) * inp_3_1_0;
    result1 += M4(0.00015140735, -0.07436349, -0.012961133, -0.11401508, 0.07083975, -0.02405564, -0.027219957, 0.09522456, 0.14381652, 0.004422452, -0.021045456, -0.1260824, -0.054365683, 0.00012051023, 0.019824838, -0.10299211) * inp_3_2_0;
    result1 += M4(0.043723296, -0.5171344, -0.022437181, 0.11074987, 0.07833145, -0.0013359813, -0.021510683, 0.017280156, -0.0661217, 0.12560861, 0.023367146, 0.053464185, 0.021259641, 0.35256, 0.042829197, 0.2759816) * inp_3_0_1;
    result1 += M4(-0.2993479, -0.11716344, -0.032506317, -0.21525353, -0.083556615, -0.10460349, 0.14367804, -0.31622106, 0.24726759, 0.30587995, -0.21422641, 0.34403253, 0.17673561, 0.12715329, 0.043244462, 0.51254225) * inp_3_1_1;
    result1 += M4(0.08162276, -0.073183976, -0.0064677396, 0.08821014, -0.044044953, -0.098425664, -0.055480827, -0.19790581, 0.21199912, -0.20604166, -0.16348217, -0.03315996, -0.007093997, 0.15986332, -0.0036362694, 0.3127999) * inp_3_2_1;
    result1 += M4(-0.033495534, -0.030697992, 0.08693825, -0.2402799, -0.05213938, -0.12930927, -0.08511894, 0.04052441, 0.026399441, -0.05005065, 0.022602407, 0.00080625224, -0.06887806, -1.2435035, -0.01609218, -0.22904168) * inp_3_0_2;
    result1 += M4(0.020166604, -0.008571629, 0.14110637, 0.15153901, 0.02769738, -0.109195754, -0.12518945, 0.05077185, -0.033785738, -0.23644333, -0.16653061, -0.19544752, 0.051180437, -0.14296766, -0.0785997, -0.33069196) * inp_3_1_2;
    result1 += M4(-0.010809319, 0.02497572, -0.036686264, 0.05202573, -0.0015311851, 0.07783247, 0.03237919, -0.032047473, 0.0100705745, 0.05940575, -0.18860345, -0.07400613, -0.03322407, 0.092271134, 0.05570481, -0.12833449) * inp_3_2_2;
    result2 += M4(0.016838128, -0.09029363, 0.038174864, 0.074941054, -0.045607418, -0.046145044, -0.0006090128, -0.22564782, -0.0052205566, -0.023319896, 0.006836351, 0.025221787, 0.015645104, -0.12171858, -0.006305686, -0.090015166) * inp_3_0_0;
    result2 += M4(0.035534397, -0.095425844, 0.026766399, 0.07670465, -0.11216501, 0.051409062, 0.024490308, 0.116436064, 0.25167575, 0.008299382, 0.00081848796, -0.035157498, 0.106892735, 0.055229917, -0.049473997, -0.1404251) * inp_3_1_0;
    result2 += M4(0.027238937, -0.08880219, 0.2131754, -0.021543222, 0.014272474, 0.08849524, -0.093622774, 0.023919389, 0.08592217, -0.021451741, 0.076138325, -0.022083916, -0.15056652, -0.042514678, -0.0937535, 0.039163448) * inp_3_2_0;
    result2 += M4(0.14290932, -0.019165302, -0.024499165, 0.015969077, -0.050049916, -0.14027317, -0.0012370863, 0.0986368, 0.044681735, -0.016165746, 0.02043992, 0.052353922, -0.17300646, -0.056296535, -0.010780408, -0.21930481) * inp_3_0_1;
    result2 += M4(-0.24844493, -0.061925545, 0.2710037, -0.052859534, -0.26341143, 0.02999184, -0.033204667, -0.2927425, -0.0666211, 0.06606149, 0.016130788, -0.093274854, -0.2654675, 0.030103646, 0.17637734, -0.29877546) * inp_3_1_1;
    result2 += M4(0.060471438, -0.090872526, -0.27419016, 0.06967339, -0.14968191, 0.011757043, -0.075944535, 0.007870341, 0.1263092, 0.05739353, 0.0046754717, 0.08936171, 0.02680164, 0.07553416, -0.16857375, -0.037143413) * inp_3_2_1;
    result2 += M4(-0.036442466, -0.10034777, 0.012945365, -0.020788023, 0.083039194, 0.09296839, 0.010375911, -0.010772362, -0.009385317, 0.024035638, -0.00605227, -0.034929343, -0.36324453, -0.10597313, -0.014808772, -0.41314456) * inp_3_0_2;
    result2 += M4(0.3444922, -0.02953694, 0.061821014, 0.0950365, -0.10843715, -0.051238656, 0.023985231, 0.043131847, -0.103369854, 0.024598842, -0.03976237, 0.08555405, -0.20907624, 0.027357707, 0.062725425, 0.26396555) * inp_3_1_2;
    result2 += M4(-0.09190178, 0.0033644354, -0.02895618, 0.021702213, 0.0039990847, -0.13937712, 0.018887043, -0.0045989538, -0.12503403, 0.0009834645, -0.10894817, -0.0013918006, 0.12057438, 0.10120096, 0.24521899, -0.108054735) * inp_3_2_2;
    result3 += M4(-0.013156316, 0.1323609, -0.07585561, -0.0231491, 0.08128796, -0.2092193, 0.0149743445, 0.08586884, -0.0017344055, 0.07491893, -0.15135002, 0.00032879313, 0.007493465, -0.17211355, -0.06809404, 0.0060745687) * inp_3_0_0;
    result3 += M4(-0.0063978797, -0.09394135, 0.0775869, 0.0075085294, 0.021638833, -0.24423027, -0.10371579, 0.052286096, 0.010058135, -0.33507663, 0.25579938, 0.015636005, 0.052850023, 0.27752683, 0.23786005, 0.03650997) * inp_3_1_0;
    result3 += M4(0.069430836, -0.044742126, 0.033781733, -0.027716191, -0.031976175, 0.011420458, -0.032206208, -0.042625256, 0.08183041, -0.13294661, -0.052631985, -0.039903294, -0.03859323, 0.2665061, -0.07334259, -0.012085594) * inp_3_2_0;
    result3 += M4(-0.06951011, 0.27330557, -0.07199145, -0.11655269, 0.0035203826, -0.18955836, 0.03408908, -0.10213885, -0.050003275, -0.06771572, 0.014048617, -0.070353575, -0.2947612, 0.15052913, -0.52356267, -0.29361847) * inp_3_0_1;
    result3 += M4(0.030052241, -0.076202855, -0.6359141, 0.06056431, -0.07587521, -0.22375534, -0.04267691, 0.01685298, 0.21890585, -0.18227519, 0.14138332, 0.21793096, 0.09467205, -0.21391802, 0.32901114, 0.047246575) * inp_3_1_1;
    result3 += M4(-0.14263412, -0.26432985, 0.102503724, 0.024124144, 0.0067676394, 0.04958111, -0.049782623, 0.010956462, -0.18124746, -0.08721215, 0.097131796, -0.026236873, 0.08259075, 0.15259224, -0.22785243, 0.01054385) * inp_3_2_1;
    result3 += M4(-0.095984206, -0.08084348, -0.0063223457, -0.23484197, 0.0011304608, 0.092439175, -0.07541214, -0.102286026, 0.06417324, 0.082391545, -0.0032656444, -0.05559519, -0.30509508, -0.42590508, -0.17122662, -0.21620691) * inp_3_0_2;
    result3 += M4(-0.016696313, 0.112812184, -0.036556944, -0.023114046, 0.05702134, -0.14915366, 0.043968122, -0.008738891, -0.093584426, -0.18830685, -0.0015878103, 0.029878734, -0.14851467, -0.029290024, 0.11276463, -0.095566295) * inp_3_1_2;
    result3 += M4(0.09268439, -0.079204075, 0.047643736, 0.024187412, -0.04145879, 0.038290635, -0.009389669, 0.017867299, 0.03832458, -0.07454059, -0.017087575, -0.032951023, -0.04918135, 0.3105907, 0.03671803, -0.043262683) * inp_3_2_2;
    const ivec2 output_base = ivec2(gl_GlobalInvocationID) * ivec2(2, 2);
    imageStore(out_image, output_base + ivec2(0, 0), max(result0, V4(0.0)));
    imageStore(out_image, output_base + ivec2(1, 0), max(result1, V4(0.0)));
    imageStore(out_image, output_base + ivec2(0, 1), max(result2, V4(0.0)));
    imageStore(out_image, output_base + ivec2(1, 1), max(result3, V4(0.0)));
}

//!DESC ArtCNN C4F16 (Conv2D-5)
//!COMPUTE 24 32 12 16
//!HOOK LUMA
//!BIND conv2d_4
//!SAVE conv2d_5
//!WIDTH LUMA.w 2.0 *
//!HEIGHT LUMA.h 2.0 *
//!COMPONENTS 4
//!WHEN OUTPUT.w LUMA.w / 1.3 > OUTPUT.h LUMA.h / 1.3 > *
#extension GL_EXT_shader_explicit_arithmetic_types_float16 : enable
#ifdef GL_EXT_shader_explicit_arithmetic_types_float16
#	define V4 f16vec4
#	define M4 f16mat4
#	define F float16_t
#else
#	define V4 vec4
#	define M4 mat4
#	define F float
#endif

const ivec2 ksize = ivec2(3, 3);
const ivec2 offset = ksize / 2;
const ivec2 wg_size = ivec2(gl_WorkGroupSize);
const ivec2 isize = wg_size + ksize - 1;
shared V4 inp[4][isize.y][isize.x];
void hook() {
    const uvec2 local_xy = gl_LocalInvocationID.xy;
    ivec2 base = ivec2(gl_WorkGroupID) * wg_size;
    for (uint y = local_xy.y; y < isize.y; y += wg_size.y) {
        for (uint x = local_xy.x; x < isize.x; x += wg_size.x) {
            const ivec2 input_base = (base + ivec2(x,y) - offset) * ivec2(2, 2);
            inp[0][y][x] = V4(conv2d_4_mul * texelFetch(conv2d_4_raw, input_base + ivec2(0, 0), 0));
            inp[1][y][x] = V4(conv2d_4_mul * texelFetch(conv2d_4_raw, input_base + ivec2(1, 0), 0));
            inp[2][y][x] = V4(conv2d_4_mul * texelFetch(conv2d_4_raw, input_base + ivec2(0, 1), 0));
            inp[3][y][x] = V4(conv2d_4_mul * texelFetch(conv2d_4_raw, input_base + ivec2(1, 1), 0));
        }
    }

    barrier();
    V4 result0 = V4(-0.003419612, 0.0031810359, 0.012244314, -0.019287683);
    V4 result1 = V4(-0.0042031603, 0.0034102919, -0.001976941, 0.0015454179);
    V4 result2 = V4(0.007563332, 0.0087442, 0.006735593, -0.001782947);
    V4 result3 = V4(-0.004989177, -0.0008201201, 0.037449505, -0.021043144);
    const V4 inp_0_0_0 = inp[0][local_xy.y + 0][local_xy.x + 0];
    const V4 inp_0_1_0 = inp[0][local_xy.y + 0][local_xy.x + 1];
    const V4 inp_0_2_0 = inp[0][local_xy.y + 0][local_xy.x + 2];
    const V4 inp_0_0_1 = inp[0][local_xy.y + 1][local_xy.x + 0];
    const V4 inp_0_1_1 = inp[0][local_xy.y + 1][local_xy.x + 1];
    const V4 inp_0_2_1 = inp[0][local_xy.y + 1][local_xy.x + 2];
    const V4 inp_0_0_2 = inp[0][local_xy.y + 2][local_xy.x + 0];
    const V4 inp_0_1_2 = inp[0][local_xy.y + 2][local_xy.x + 1];
    const V4 inp_0_2_2 = inp[0][local_xy.y + 2][local_xy.x + 2];
    result0 += M4(0.18699104, -0.24139585, -0.24896945, 0.026301727, 0.0022144734, 0.09478859, 0.08808014, -0.062207434, 0.027473073, -0.0037456613, -0.10432886, 0.053142976, -0.14115171, -0.06557961, 0.16430509, -0.043910883) * inp_0_0_0;
    result0 += M4(-0.5094404, -1.0766953, -0.21730156, -0.33023974, 0.19314432, 0.16284409, -0.0027547502, -0.004745783, 0.024156282, -0.04810491, -0.082843445, -0.0044194562, -0.09573677, 0.06179776, 0.06608144, 0.050180443) * inp_0_1_0;
    result0 += M4(0.68064696, -0.3359522, -0.7873262, -0.28116488, 0.1819739, 0.08259724, -0.032724123, -0.11931496, -0.044169642, -0.09249885, -0.03708014, 0.02502958, 0.035268657, 0.054354362, 0.0112144975, -0.0014783241) * inp_0_2_0;
    result0 += M4(0.0067332243, 0.09562089, 0.09003319, 0.12581642, -0.0064558997, 0.15098877, 0.043069653, -0.011137447, -0.114652, -0.094839305, -0.08917321, -0.059147257, 0.014994582, 0.053808056, -0.11264113, 0.044379596) * inp_0_0_1;
    result0 += M4(0.15482035, 0.15818407, 0.20898944, 0.28850505, 0.1701553, 0.1375543, 0.7074903, 0.17596489, 0.30497006, -0.7590351, -0.016040614, -0.17208098, -0.5623388, 0.74178034, -0.14564455, 0.040457174) * inp_0_1_1;
    result0 += M4(0.17681955, -0.0051314123, -0.12031283, 0.06429513, 0.05183927, 0.39880008, -0.102822855, -0.0035744365, -0.17645377, -0.16119501, 0.075871006, 0.11381812, 0.24705504, 0.19271693, -0.046336368, -0.1241353) * inp_0_2_1;
    result0 += M4(-0.0054467265, -0.012336399, -0.0073796096, -0.013349973, -0.0031310476, 0.107057676, 0.051281802, -0.027046388, -0.014276544, -0.08366936, 0.14183637, 0.00758542, -0.056402154, 0.022724915, -0.20046027, -0.02531961) * inp_0_0_2;
    result0 += M4(0.1188401, -0.12839267, 0.21334788, 0.05522577, 0.1550114, 0.04328618, -0.18347627, -0.013813318, -0.027130088, -0.0760328, 0.009500778, 0.029842086, -0.3837575, 0.15866068, -0.5164384, -0.013990489) * inp_0_1_2;
    result0 += M4(-0.022684257, 0.005683135, -0.08261278, -0.01960146, -0.1169538, 0.12637202, 0.024347283, -0.0033098138, 0.112701625, 0.013861147, -0.0651479, 0.02195987, -0.27973315, 0.098148644, -0.078623444, -0.008307146) * inp_0_2_2;
    result1 += M4(0.34717703, 0.1637595, -0.035274576, 0.41332543, -0.10034099, 0.0037727104, -0.0431565, -0.028616434, 0.041735988, 0.079701304, -0.024043163, 0.06421868, -0.0055025676, -0.14979272, 0.18874688, -0.069427125) * inp_0_0_0;
    result1 += M4(-0.11195045, -0.28250962, -0.15218331, 1.9048951, -0.19389981, -0.04451061, -0.14480557, -0.0045754574, 0.036451597, 0.021420646, -0.07407903, 0.05861825, 0.03800415, 0.056069802, 0.17741296, 0.023328189) * inp_0_1_0;
    result1 += M4(-0.89973, -0.40054026, 0.800494, 0.6398091, -0.18345094, -0.1808604, -0.19003862, 0.051605154, 0.068613075, 0.0006553399, 0.0063738436, 0.014133365, -0.043214813, -0.0009155344, -0.01514873, -0.0083357105) * inp_0_2_0;
    result1 += M4(0.10973752, 0.0086522475, 0.06515667, 0.02877633, -0.19655876, 0.020104172, -0.05974758, -0.12227463, 0.09466703, -0.093304045, 0.14972803, -0.0184324, -0.08135119, -0.0058969283, -0.124293216, 0.06509594) * inp_0_0_1;
    result1 += M4(0.23423024, 0.004543015, -0.27542746, -0.082390055, -0.2743947, 0.008958286, -0.04946229, 0.16547252, 0.46817783, 0.18254772, 0.025777066, -0.1616192, -0.35940608, -0.21957313, -0.03274785, 0.1482947) * inp_0_1_1;
    result1 += M4(0.09765816, -0.27117798, 0.14693609, 0.15557314, -0.49778017, -0.17876674, -0.08560098, -0.05313512, 0.02262665, -0.09665016, -0.20814627, 0.07836359, -0.0024692747, 0.07978387, 0.3013264, 0.19606206) * inp_0_2_1;
    result1 += M4(-0.02674979, 0.025425099, 0.013895904, -0.0035568662, -0.082992546, -0.015613537, 0.0411524, -0.04790881, 0.030303163, 0.09342048, 0.09527553, 0.024228048, 0.023374582, -0.14296114, -0.08522297, -0.08536491) * inp_0_0_2;
    result1 += M4(0.039036345, -0.002844229, 0.14698085, 0.18666184, -0.18431553, -0.11720831, -0.26250714, -0.11954186, 0.033200916, -0.19088991, 0.05553948, -0.06222971, 0.013560291, -0.017417366, -0.08496361, -0.2949058) * inp_0_1_2;
    result1 += M4(0.009749827, -0.0009555946, 0.021596314, -0.114622846, -0.117800795, -0.024716413, 0.06735355, -0.099683024, -0.076146774, -0.038943477, 0.02040532, -0.07720869, 0.12697837, -0.015599515, -0.107746914, -0.14728872) * inp_0_2_2;
    result2 += M4(0.17541042, -0.12990507, -0.48895225, -0.05066317, -0.011372722, 0.040241342, 0.028723883, -0.04669753, 0.009683243, -0.03551621, 0.04751963, 0.0018155063, 0.04801682, 0.012474274, -0.16448043, 0.057075787) * inp_0_0_0;
    result2 += M4(-0.62751615, 0.36787468, -1.8147321, -0.6930983, -0.12008013, 0.016041655, 0.14364325, 0.078844875, 0.023469133, -0.040387746, -0.10161594, -0.021544166, 0.04202897, 0.056441743, 0.24615198, 0.073743366) * inp_0_1_0;
    result2 += M4(-0.7185479, -0.04590294, -0.7799426, -0.1686073, -0.19913787, -0.009095788, 0.29651195, 0.20284894, 0.086505085, 0.0140350815, -0.052897245, -0.026492339, -0.05823152, -0.015742034, 0.03965679, 0.0043007354) * inp_0_2_0;
    result2 += M4(0.085954666, 5.174861e-05, 0.01631823, 0.072778255, -0.05961832, -0.008321308, 0.1606908, 0.10124074, 0.13440531, -0.043514773, -0.060589477, 0.017699292, -0.14344187, 0.0036292956, -0.11383593, -0.017406246) * inp_0_0_1;
    result2 += M4(-0.0052151224, -0.032456208, -0.05958809, -0.27611598, -0.2549485, -0.072265804, 0.15425713, 0.30294335, 0.4824953, -0.13928907, -0.2317277, 0.042920046, -0.67610306, 0.21620247, 0.0020749825, 0.3677462) * inp_0_1_1;
    result2 += M4(-0.17550258, -0.016343432, -0.027120817, 0.09757695, -0.26458263, 0.0018154739, -0.3300143, -0.1272244, 0.047860138, 0.104429595, 0.06195147, -0.03828585, -0.10943277, -0.11983236, -0.06353165, 0.18613374) * inp_0_2_1;
    result2 += M4(-0.03746584, -0.0003508457, 0.03274189, -0.00252705, -0.028535038, -0.0034422898, -0.02071133, -0.025232771, 0.015911931, 0.009093007, 0.057826225, 0.08738494, -0.049285855, -0.08105574, -0.071918435, -0.0619456) * inp_0_0_2;
    result2 += M4(0.0693301, 0.12606353, 0.013456621, -0.11732889, -0.18974644, -0.031424135, 0.11108336, -0.17087105, 0.12721433, 0.0636031, 0.09507127, 0.068634324, -0.1542001, -0.15891545, -0.22532117, -0.15731914) * inp_0_1_2;
    result2 += M4(-0.007495416, -0.046923187, -0.048539575, 0.09239625, -0.09932008, -0.033532366, 0.15666355, -0.0008981039, -0.11703698, -0.024474528, -0.031085724, -0.0356718, 0.12278259, -0.048928283, -0.0062645487, 0.15817015) * inp_0_2_2;
    result3 += M4(0.013668056, 0.7214471, -0.21191056, -0.16701035, -0.023382597, 0.051679194, -0.027063565, -0.06670422, 0.03675203, -0.009007149, -0.02051509, 0.04014224, -0.009012907, -0.058106825, 0.016478311, 0.08279812) * inp_0_0_0;
    result3 += M4(-0.14000404, 0.94238234, -0.052508105, -0.28353372, 0.19778816, 0.19327673, -0.003869404, -0.059458815, 0.19741933, -0.046610784, -0.028355338, -0.023203991, -0.4071549, -0.0025566744, -0.037481446, 0.09415881) * inp_0_1_0;
    result3 += M4(-0.11247576, 0.77270526, 0.23623492, -0.18337682, -0.080218986, 0.13819677, -0.02147667, -0.09180573, 0.099187315, 0.021113776, -0.049043763, 0.008284934, -0.04579817, 0.008671706, 0.021118488, -0.0042332574) * inp_0_2_0;
    result3 += M4(-0.06297913, -0.0066042338, -0.06272068, 0.09470357, 0.0465466, 0.20402685, -0.013773133, -0.031757254, 0.037289005, -0.25191078, 0.0005588864, 0.032091994, -0.032958727, 0.15154196, 0.046848554, 0.08843568) * inp_0_0_1;
    result3 += M4(0.16479051, -0.12832132, -0.28112137, -0.08708238, -0.14619349, 0.63102233, -0.0053177015, -0.028376553, 0.5072955, 0.1050169, -0.051789418, 0.18828084, -0.62508684, -0.11164792, 0.1109839, -0.06914796) * inp_0_1_1;
    result3 += M4(-0.14832018, 0.022522176, 0.024648678, 0.07151621, 0.15925153, 0.36609882, 0.020259116, -0.10937334, 0.1181563, 0.15012929, -0.0909262, 0.23492283, -0.32748315, -0.18530336, 0.17216982, -0.1878258) * inp_0_2_1;
    result3 += M4(-0.01921203, 0.01510937, 0.021818046, -0.012331354, 0.007992077, 0.1386034, 0.004539646, -0.022360442, 0.056215234, 0.040504064, 0.00569367, 0.039027665, -0.022500439, 0.0028370533, 0.0027523416, -0.04961926) * inp_0_0_2;
    result3 += M4(0.0065429197, -0.068281345, -0.03586063, 0.049815394, -0.08311441, 0.23733743, 0.025419397, -0.0062988778, 0.3014843, -0.229385, -0.057525568, 0.062655434, -0.08911853, 0.15749043, 0.08062588, -0.15877163) * inp_0_1_2;
    result3 += M4(-0.035527956, -0.034773346, 0.012084704, -0.07848056, 0.11232928, 0.15913069, -0.0025134054, -0.017307254, 0.062792316, -0.047661647, 0.029775454, 0.019229569, -0.009258666, -0.01804531, -0.063762456, -0.117606275) * inp_0_2_2;
    const V4 inp_1_0_0 = inp[1][local_xy.y + 0][local_xy.x + 0];
    const V4 inp_1_1_0 = inp[1][local_xy.y + 0][local_xy.x + 1];
    const V4 inp_1_2_0 = inp[1][local_xy.y + 0][local_xy.x + 2];
    const V4 inp_1_0_1 = inp[1][local_xy.y + 1][local_xy.x + 0];
    const V4 inp_1_1_1 = inp[1][local_xy.y + 1][local_xy.x + 1];
    const V4 inp_1_2_1 = inp[1][local_xy.y + 1][local_xy.x + 2];
    const V4 inp_1_0_2 = inp[1][local_xy.y + 2][local_xy.x + 0];
    const V4 inp_1_1_2 = inp[1][local_xy.y + 2][local_xy.x + 1];
    const V4 inp_1_2_2 = inp[1][local_xy.y + 2][local_xy.x + 2];
    result0 += M4(-0.011605958, 0.069055066, -0.0005902279, -0.044997443, -0.035366766, 0.05514872, -0.05791906, 0.085005686, -0.05826083, -0.10286574, -0.16246957, -0.0055166376, 0.073874354, 0.045941606, -0.07501035, -0.0017012611) * inp_1_0_0;
    result0 += M4(0.17255639, 0.094867595, -0.17827436, -0.04864334, -0.2165837, 0.44220838, 0.6478128, 0.1198616, -0.17565428, -0.20000643, 0.26170844, 0.013920035, 0.10587253, -0.0070884665, -0.24162942, -0.0104509825) * inp_1_1_0;
    result0 += M4(0.07545419, 0.12254515, 0.10056529, 0.044771798, 0.22064345, 0.14609884, 0.017206706, -0.06088542, -0.18014218, -0.1667692, -0.10934917, 0.06896286, -0.014029902, -0.047442365, -0.0138598075, 0.017100424) * inp_1_2_0;
    result0 += M4(0.011501001, 0.046904862, 0.1759369, 0.020986464, -0.006094345, 0.059811555, -0.07393731, -0.0052073356, 0.03685765, -0.034716986, -0.10954513, 0.00016229766, -0.071775, -0.07108814, 0.02376565, -0.1040457) * inp_1_0_1;
    result0 += M4(0.47409466, 0.28378922, 0.17012356, 0.07149077, 0.38495982, 0.12777284, 0.46586785, 0.027640067, 0.463552, -0.23053566, 0.44350225, -0.09001633, 0.6923674, -0.36555472, 0.006443946, 0.23054649) * inp_1_1_1;
    result0 += M4(0.012068739, 0.079469055, -0.023580274, -0.0638359, -0.0857168, 0.022460015, 0.050700136, -0.12633866, 0.01447873, 0.0004650306, 0.088273324, 0.017371444, -0.06467962, -0.12067208, 0.05502919, -0.0008520475) * inp_1_2_1;
    result0 += M4(0.017780315, 0.040183228, -0.013692512, -0.04925086, 0.03267463, 0.08840923, -0.0010809225, -0.018149577, -0.0028703625, -0.0030485794, 0.03341303, 0.01560222, 0.021015912, -0.115338765, 0.26683345, -0.024050964) * inp_1_0_2;
    result0 += M4(0.13890254, -0.026290057, 0.17617379, 0.09219101, 0.21513829, 0.010463244, 0.12386225, 0.034954756, 0.07028193, 0.13798654, 0.16678284, -0.020474138, -0.09173621, -0.27168262, -0.034977548, -0.032405607) * inp_1_1_2;
    result0 += M4(0.07376587, -0.0012028794, -0.032929078, -0.025709344, 0.050092604, -0.02615846, 0.11149683, -0.013620816, -0.064827755, -0.03732833, -0.045336507, 0.0024399746, 0.02679602, -0.00055029563, -0.11955333, -0.030653207) * inp_1_2_2;
    result1 += M4(-0.07418294, 0.035583675, -0.093546726, -0.050808683, 0.18579248, 0.14199235, -0.016755953, -0.015616846, 0.20700367, 0.067478605, -0.006418628, -0.020176105, -0.05343589, 0.060336053, -0.19071506, 0.021328606) * inp_1_0_0;
    result1 += M4(-0.081282996, -0.0083056325, 0.067296974, -0.22250816, -0.06505881, -0.13861515, -0.252091, 0.033389837, 0.21462637, 0.22315934, -0.29173142, -0.13935287, -0.035122067, 0.00045254204, 0.115392536, -0.049770083) * inp_1_1_0;
    result1 += M4(-0.13401683, -0.035993543, -0.076798186, -0.16723634, -0.044224802, 0.16732745, 0.30618206, -0.08712809, 0.17087997, 0.14041266, 0.1440123, 0.0026227743, 0.016330903, 0.03135374, 0.11677394, -0.03087554) * inp_1_2_0;
    result1 += M4(-0.20987362, 0.086015806, 0.16573507, 0.13532837, 0.037925616, 0.082636, -0.012734595, -0.060741976, 0.10794493, -0.032664604, -0.0034955537, 0.07014368, -0.0748581, -0.14033586, 0.15444544, 0.012182199) * inp_1_0_1;
    result1 += M4(-0.4477855, -0.14874569, -0.054571398, 0.22330952, 0.002162006, 0.1820848, -0.27403718, 0.13583405, 0.13848545, 0.3820598, 0.4307994, 0.47459233, -0.01806473, 0.3472622, 0.26645133, -0.20778516) * inp_1_1_1;
    result1 += M4(-0.13678406, -0.25348282, -0.12792149, -0.046153463, 0.04261807, 0.076797165, 0.20044535, 0.18460637, -0.045965638, 0.14507824, 0.09810943, 0.13402638, -0.12356418, -0.2908382, -0.34687355, 0.04249522) * inp_1_2_1;
    result1 += M4(-0.10938959, -0.020689404, -0.05353587, -0.001790801, -0.04339454, -0.00381414, -0.0017553122, -0.0101997955, 0.053238675, -0.0013741944, 0.005566785, -0.029397696, 0.030760828, 0.10561862, 0.1270299, 0.10115634) * inp_1_0_2;
    result1 += M4(-0.088591434, -0.024869349, 0.010826063, 0.116406865, 0.044033747, 0.10543256, 0.015029554, -0.0033278035, 0.0020175723, 0.022698361, -0.051112622, -0.10107659, -0.15929016, -0.32109076, 0.118677825, 0.09219449) * inp_1_1_2;
    result1 += M4(-0.07101569, -0.051717088, 0.03980882, 0.11135175, 0.011693298, 0.03147888, 0.051415425, 0.17941648, 0.01881776, -0.015766442, 0.009222179, -0.064641595, -0.03495431, -0.03803284, -0.061173756, -0.30436796) * inp_1_2_2;
    result2 += M4(-0.049848516, 0.017997524, 0.1402556, -0.06968437, 0.17472431, 0.05722095, 0.10756891, -0.012223965, 0.18064755, -0.1160409, 0.06464365, 0.031755358, -0.08345746, -0.034787282, 0.13896024, -0.05747125) * inp_1_0_0;
    result2 += M4(0.06325935, -0.09635311, 0.09629046, 0.05348618, -0.211664, 0.2757697, -0.12665582, 0.007013639, 0.08920072, -0.06544342, -0.12477721, -0.44114116, 0.06253461, -0.06178789, -0.17469543, -0.08278693) * inp_1_1_0;
    result2 += M4(-0.17905268, -0.03082958, 0.04352002, -0.052269552, -0.052674055, -0.02504488, 0.040164832, -0.10914211, 0.21874844, 0.08609912, 0.06376577, -0.08403975, 0.0316657, -0.006323756, -0.13113879, -0.10850653) * inp_1_2_0;
    result2 += M4(-0.042780936, 0.06711073, 0.093643926, 0.1811952, 0.114691384, 0.0051838215, 0.016134342, 0.08593217, 0.048336264, 0.032325055, -0.024737822, -0.03689259, 0.020984253, -0.003207626, 0.09282577, 0.1237281) * inp_1_0_1;
    result2 += M4(0.18804754, -0.0044000763, 0.12418769, -0.065394625, -0.05372256, 0.20298226, 0.10307108, -0.22914639, -0.17444235, 0.12347518, -0.14013973, 0.03368572, 0.38372472, -0.118264094, -0.16945893, -0.35682207) * inp_1_1_1;
    result2 += M4(-0.16310951, -0.057509176, -0.07737626, -0.028210124, 0.058445144, -0.02130581, 0.02272376, -0.09925141, 0.019639006, 0.01041116, -0.0010658462, 0.039700665, -0.15228236, 0.0009376916, -0.018852482, 0.10008903) * inp_1_2_1;
    result2 += M4(-0.044143174, -0.029213272, 0.06741563, -0.03211617, -0.03743896, -0.003908591, -0.042570833, -0.05088393, 0.016984759, 0.016049534, -0.022871934, 0.013346697, 0.026697757, 0.0022608358, 0.11836686, 0.15133852) * inp_1_0_2;
    result2 += M4(-0.01838769, 0.09779283, 0.110270664, -0.10078769, 0.016315937, 0.042249393, 0.06414118, 0.105662934, -0.036277846, -0.035054162, 0.023899462, -0.0036453204, 0.05507237, 0.13259324, 0.10334727, -0.33546096) * inp_1_1_2;
    result2 += M4(-0.05178188, -0.0021746054, -0.074274965, 0.00047434276, 0.023905614, 0.010961156, -0.011370467, 0.047059257, 0.015958095, 0.010235832, 0.06544991, -0.00042713742, -0.028050542, -0.004372415, -0.014579301, -0.04023361) * inp_1_2_2;
    result3 += M4(-0.00025197637, -0.08395988, 0.010011956, -0.05673863, -0.15105726, 0.021781653, -0.07362527, -0.0070147295, -0.06501005, -0.098779894, -0.0027658688, 0.07321338, 0.038528886, -0.013053793, 0.036503196, -0.028871868) * inp_1_0_0;
    result3 += M4(0.24461533, -0.048073318, 0.007636533, -0.061706852, -0.5756223, 0.365962, 0.059510723, 0.117221825, -0.45344195, 0.18537274, -0.05929065, 0.10892711, 0.3858194, -0.051253058, 0.0060377545, -0.08853076) * inp_1_1_0;
    result3 += M4(-0.008584127, -0.009878779, -0.002513496, 0.015551828, -0.38418382, -0.19074234, 0.05756109, -0.082246155, -0.13036059, -0.047520943, -0.10611172, 0.11846529, 0.039147086, -0.051378407, -0.0057960353, -0.0026406515) * inp_1_2_0;
    result3 += M4(0.18786277, 0.10129827, 0.029474773, -0.009971201, -0.1483456, 0.061687257, -0.020450586, 0.018828059, -0.16692519, -0.28867015, 0.0026411354, 0.043466944, 0.13680299, -0.29882997, 0.051741965, -0.034532543) * inp_1_0_1;
    result3 += M4(0.8349413, -0.41545478, -0.08094926, -0.07404127, -0.74229366, 0.0787508, -0.11427056, -0.002706571, -0.3981995, -0.11980079, 0.20338805, 0.23802362, 0.81933683, -0.18514164, 0.08690578, 0.113931544) * inp_1_1_1;
    result3 += M4(0.435525, 0.17976871, 0.059649605, -0.08883184, -0.01350688, 0.0810993, 0.042798262, -0.16943458, -0.16767356, -0.027734222, -0.021835888, 0.012448411, 0.41840604, 0.24633926, 0.11835795, 0.09311133) * inp_1_2_1;
    result3 += M4(0.016602071, -0.010595553, 0.028131584, 0.011109982, -0.08270415, 0.04808592, 0.0113531435, -0.013369341, -0.027581882, 0.018985702, -0.017392334, -0.023175225, 0.09487507, 0.063118935, 0.02277301, 0.02680198) * inp_1_0_2;
    result3 += M4(0.16194181, 0.039088834, -0.019284323, 0.080153845, -0.28610137, -0.015327348, -0.051967543, 0.0028522024, -0.17820273, 0.22560632, -0.035244692, -0.08987136, 0.6931679, -0.0896239, 0.07650005, 0.1104373) * inp_1_1_2;
    result3 += M4(0.03109162, 0.08288582, 0.030577466, -0.030368721, -0.038988665, 0.076482326, 0.007838253, -0.0028364162, -0.017558891, -0.004909578, -0.01420761, -0.0029062666, 0.051373273, -0.1453593, 0.012594313, -0.03359566) * inp_1_2_2;
    const V4 inp_2_0_0 = inp[2][local_xy.y + 0][local_xy.x + 0];
    const V4 inp_2_1_0 = inp[2][local_xy.y + 0][local_xy.x + 1];
    const V4 inp_2_2_0 = inp[2][local_xy.y + 0][local_xy.x + 2];
    const V4 inp_2_0_1 = inp[2][local_xy.y + 1][local_xy.x + 0];
    const V4 inp_2_1_1 = inp[2][local_xy.y + 1][local_xy.x + 1];
    const V4 inp_2_2_1 = inp[2][local_xy.y + 1][local_xy.x + 2];
    const V4 inp_2_0_2 = inp[2][local_xy.y + 2][local_xy.x + 0];
    const V4 inp_2_1_2 = inp[2][local_xy.y + 2][local_xy.x + 1];
    const V4 inp_2_2_2 = inp[2][local_xy.y + 2][local_xy.x + 2];
    result0 += M4(-0.020781126, 0.0039215623, -0.05358959, 0.030895088, 0.012277233, 0.111308426, -0.11057776, -0.045353487, -0.07362006, 0.04361646, 0.38865963, 0.0041727717, 0.07431197, 0.004969771, 0.015723784, -0.019070368) * inp_2_0_0;
    result0 += M4(-0.001697355, -0.014587706, 0.030361751, 0.018777851, -0.035263017, -0.010499301, -0.0490207, -0.07924089, -0.23503995, 0.0017109617, -0.11620699, 0.19404936, 0.08115145, -0.036662925, -0.12729898, 0.07224637) * inp_2_1_0;
    result0 += M4(-0.10262417, -0.002246206, 0.060095794, 0.0569853, -0.057804942, 0.050657745, 0.063266374, 0.09983722, 0.008858097, -0.03901383, -0.09210412, -0.02978267, 0.15219325, 0.07140588, -0.099738024, -0.045775406) * inp_2_2_0;
    result0 += M4(-0.07006821, -0.09484151, 0.071844496, -0.027020289, -0.032018457, -0.013623103, -0.02078636, 0.015785372, -0.69551337, 0.29303977, 0.17793041, -0.59631187, 0.23202439, -0.26869762, 0.11304583, -0.093427174) * inp_2_0_1;
    result0 += M4(-0.004042872, -0.20849815, 0.117328756, -0.01614481, -0.04100062, -0.009562164, 0.02691783, 0.013694118, -0.023525892, 0.09541213, -0.12027022, 0.23628068, -0.00065809384, 0.27097923, -0.120097406, 0.03799294) * inp_2_1_1;
    result0 += M4(0.055786207, 0.01760269, 0.030678311, -0.02699119, 0.053003665, 0.025658386, -0.09312239, 0.010609375, -0.032431446, 0.005782783, 0.10305423, 0.026854405, 0.1389563, 0.2534142, 0.22944139, -0.029323496) * inp_2_2_1;
    result0 += M4(-0.073251836, 0.0432114, -0.08360312, 0.0028655082, 0.0038083605, -0.019377138, 0.09603022, 0.08938707, -0.8271021, 0.043458305, -0.56355405, -0.2284856, -0.035534874, -0.051917784, -0.0551608, 0.061664335) * inp_2_0_2;
    result0 += M4(-0.22596887, 0.028107489, -0.31801066, -0.0388395, -0.07430329, 0.05056333, 0.05092499, -0.06305214, 0.054007467, -0.07934577, 0.013766908, 0.20792466, 0.1714287, 0.0699981, 0.1683591, 0.028329024) * inp_2_1_2;
    result0 += M4(-0.09589311, 0.08735668, -0.0943602, -0.00969096, 0.09290861, 0.038708605, -0.022175971, -0.032633994, 0.051199324, -0.016938705, -0.05544689, 0.04657782, 0.39255348, -0.08333683, 0.12074344, 0.009467807) * inp_2_2_2;
    result1 += M4(0.058603417, 0.06525766, 0.051097855, 0.017553937, 0.080726765, 0.09938812, 0.02076528, -0.052360065, -0.107043535, -0.2625482, -0.054854903, -0.5444765, -0.1999874, -0.12856303, -0.26354423, -0.082286716) * inp_2_0_0;
    result1 += M4(0.092291355, 0.032263443, -0.076533616, -0.03299023, -0.079130486, 0.007838541, -0.019738926, -0.05165259, 0.061396275, 0.13578337, -0.007046471, 0.14921547, 0.011427929, -0.021585925, 0.22571723, -0.26443717) * inp_2_1_0;
    result1 += M4(0.04734863, 0.020630324, -0.049790766, -0.052073583, 0.094782665, -0.10744584, -0.03484139, 0.102741405, -0.005150887, -0.011716023, 0.068252504, 0.13387641, -0.11492871, -0.023424521, 0.10432183, 0.097516306) * inp_2_2_0;
    result1 += M4(0.095425256, -0.0037132448, 0.101758026, -0.0300043, 0.004396561, 0.103734545, 0.0061144223, -0.10197404, 0.15707153, -0.44029102, -0.097254075, -1.0213073, 0.078238584, -0.09308874, -0.044841576, 0.5363863) * inp_2_0_1;
    result1 += M4(0.10178995, -0.18944122, 0.084010616, -0.34223008, -0.10257453, -0.06536093, 0.009514987, -0.03724412, 0.045459546, 0.30206254, -0.24250174, -0.2532572, 0.11975649, 0.25757632, -0.24049897, 1.1284809) * inp_2_1_1;
    result1 += M4(0.112088114, -0.0030380192, 0.006073777, 0.08742572, -0.05801644, -0.11594626, -0.10064246, 0.095155366, 0.022487324, 0.03557598, -0.07562791, -0.0014704281, -0.056188505, 0.16364557, -0.13210127, -0.17933495) * inp_2_2_1;
    result1 += M4(-0.031230992, 0.0065619373, 0.0145883905, -0.08422845, 0.04900275, -0.013400688, -0.115882784, 0.011171607, -0.15672065, -0.32715365, -0.099497564, -1.4045142, 0.09229748, -0.06841625, -0.03403513, -0.03903172) * inp_2_0_2;
    result1 += M4(0.12509371, -0.040192638, -0.1879411, -0.32889184, 0.013178422, -0.08541778, 0.056325503, -0.082247585, -0.014639387, 0.16188149, 0.090260774, -0.015553039, -0.10388009, 0.17918831, -0.08060421, 0.5021723) * inp_2_1_2;
    result1 += M4(2.4456851e-05, -0.016075645, -0.020684045, -0.06737728, -0.05720766, -0.042635866, 0.0058698254, -0.04913229, -0.050549958, -0.0034746104, 0.069938324, -0.106019385, -0.298161, -0.10073321, 0.18169858, 0.32479817) * inp_2_2_2;
    result2 += M4(0.073569074, -0.008315585, 0.071881965, 0.02997888, -0.032199204, 0.0026771263, 0.08021383, -0.010534363, -0.058794945, -0.13401361, 0.43729118, 0.2742167, -0.31201825, -0.037027813, 0.042132024, -0.094861545) * inp_2_0_0;
    result2 += M4(0.106030315, -0.035510488, 0.03724655, 0.03309249, -0.112997025, -0.063592434, 0.08836523, 0.08505274, 0.04534045, 0.0827088, 0.17017174, -0.12325677, -0.00055545795, 0.0012473617, -0.2299288, -0.15374668) * inp_2_1_0;
    result2 += M4(0.06457714, 0.027879557, 0.06520866, -0.033877715, -0.03148696, -0.09449877, 0.081271626, 0.11096066, 0.006206519, -0.0053266524, -0.07769302, 0.025108399, -0.13797654, -0.03252909, -0.12504631, -0.0014129386) * inp_2_2_0;
    result2 += M4(0.039435256, -0.018358674, -0.03490009, 0.0340632, 0.10335158, -0.03901455, -0.05868434, -0.056201525, 0.08598752, -0.37543833, 0.38128638, -0.15866528, -0.009245795, -0.06918121, -0.16961068, 0.11706862) * inp_2_0_1;
    result2 += M4(-0.18075877, 0.14363274, 0.13252458, -0.13489196, 0.067519255, 0.034406025, 0.1190439, 0.103735, -0.13108243, -0.06683418, -0.36791077, 0.39801556, 0.72170293, 0.22245398, -0.08256388, 0.032801576) * inp_2_1_1;
    result2 += M4(-0.015210569, -0.0269615, 0.03263442, 0.21277925, -0.040280145, 0.100722216, -0.11172514, -0.10314405, 0.048583608, 0.017905124, -0.039888754, 0.033786174, -0.009555773, -0.044398196, -0.13471802, 0.014015145) * inp_2_2_1;
    result2 += M4(0.009361669, -0.02354833, -0.02731131, -0.005511429, 0.030626046, -0.07355115, 0.003416846, 0.034288786, -0.14603977, -0.372668, 0.24293767, 0.21624947, -0.026152687, -0.050020564, -0.088730015, 0.0073661637) * inp_2_0_2;
    result2 += M4(0.07166348, -0.062765524, -0.031674564, 0.2064977, -0.07492866, 0.10786763, -0.051235665, 0.05436895, -0.212011, -0.037428282, 0.08446917, -0.3843653, -0.0015011498, -0.002614855, 0.058323022, 0.09605936) * inp_2_1_2;
    result2 += M4(0.01762758, -0.02266397, -0.0072801528, 0.023813505, 0.10508039, -0.0237568, 0.051718827, -0.07165135, -0.05163613, -0.004022114, 0.065033354, -0.05524917, -0.21380451, 0.050022006, 0.0097336285, -0.33159164) * inp_2_2_2;
    result3 += M4(-0.027648509, -0.10229111, 0.0051753507, 0.053881075, 0.09692229, -0.09860646, -0.021051718, -0.10449973, -0.20719871, -0.025359029, 0.03378565, 0.36159262, 0.13663855, 0.015768379, 0.06796739, -0.046100702) * inp_2_0_0;
    result3 += M4(0.018037874, 0.036050636, -0.04142377, 0.037060954, 0.10781158, -0.104985386, -0.07675715, 0.05281334, -0.0028003103, 0.043335184, -0.10979918, 0.17950904, 0.3124988, -0.23414958, 0.026014589, -0.093366966) * inp_2_1_0;
    result3 += M4(0.017715896, -0.005655425, -0.034722324, 0.06668212, -0.029482463, -0.062327463, 0.12133075, 0.060901415, 0.025968814, 0.040994063, 0.015748337, -0.027641052, 0.006673477, -0.0003246621, 0.09438318, -0.050303403) * inp_2_2_0;
    result3 += M4(-0.06564701, -0.018687341, -0.005251354, 0.037905354, -0.097269975, -0.0064242785, -0.043865312, 0.09054098, -0.75107384, -0.554778, 0.13765809, 0.38934, 0.03245161, 0.108771354, 0.008501348, -0.068879835) * inp_2_0_1;
    result3 += M4(-0.2543942, -0.09248515, 0.03638499, 0.12258872, -0.10214197, 0.021696953, 0.06022899, 0.051528774, 0.15599547, -0.0075189993, -0.25308886, 0.1807396, 0.3566574, 0.45617583, -0.28430024, 0.021146879) * inp_2_1_1;
    result3 += M4(-0.13201568, -0.10792738, 0.12671404, 0.028728707, 0.115597665, 0.030421544, -0.013066618, 0.048596192, -0.0014962299, -0.030903509, -0.03034687, 0.020403901, 0.09275357, -0.03966221, -0.10839919, -0.16302639) * inp_2_2_1;
    result3 += M4(0.032108083, 0.040957652, -0.009003815, 0.024135754, 0.02856018, -0.046500497, -0.068546936, -0.0214667, 0.15636425, 0.3509622, -0.05374837, -0.16363966, 0.06742827, 0.122813456, -0.031311702, 0.0037532444) * inp_2_0_2;
    result3 += M4(-0.012024136, -0.13858168, -0.037115686, -0.045491025, -0.041479558, -0.10664583, -0.092188515, -0.0741275, -0.10067221, -0.113467775, 0.031429768, 0.38875622, -0.17970715, -0.23987241, 0.027060654, 0.137429) * inp_2_1_2;
    result3 += M4(-0.039036304, 0.009581273, -0.0130922515, -0.006046095, -0.05517492, -0.09299222, -0.07857994, 0.12361635, -0.041727167, -0.0038955978, -0.010746291, 0.05046811, 0.116061375, 0.3312999, 0.11515362, 0.15248583) * inp_2_2_2;
    const V4 inp_3_0_0 = inp[3][local_xy.y + 0][local_xy.x + 0];
    const V4 inp_3_1_0 = inp[3][local_xy.y + 0][local_xy.x + 1];
    const V4 inp_3_2_0 = inp[3][local_xy.y + 0][local_xy.x + 2];
    const V4 inp_3_0_1 = inp[3][local_xy.y + 1][local_xy.x + 0];
    const V4 inp_3_1_1 = inp[3][local_xy.y + 1][local_xy.x + 1];
    const V4 inp_3_2_1 = inp[3][local_xy.y + 1][local_xy.x + 2];
    const V4 inp_3_0_2 = inp[3][local_xy.y + 2][local_xy.x + 0];
    const V4 inp_3_1_2 = inp[3][local_xy.y + 2][local_xy.x + 1];
    const V4 inp_3_2_2 = inp[3][local_xy.y + 2][local_xy.x + 2];
    result0 += M4(0.16896772, 0.10150995, -0.19371673, 0.024610432, 0.08929694, -0.06487027, -0.16950712, 0.111816466, 0.02542465, 0.09659725, -0.01660316, -0.036389813, 0.044224158, -0.037670497, -0.10063316, 0.05830266) * inp_3_0_0;
    result0 += M4(-0.21073923, 0.049929045, 0.25074244, -0.011862997, -0.27586737, -0.19249856, 0.23618637, 0.06579623, 0.1410232, 0.23119323, -0.028773054, -0.022958955, -0.21713759, -0.17930508, 0.08348024, -0.03925745) * inp_3_1_0;
    result0 += M4(0.112582505, 0.10532116, 0.09865395, -0.0065506008, -0.06303363, -0.21442533, -0.08681799, -0.051282287, 0.0026183552, 0.14185321, 0.087311134, 0.03179515, -0.14548196, -0.12791981, 0.112943515, 0.041108694) * inp_3_2_0;
    result0 += M4(-0.13586439, 0.16541654, 0.20916457, -0.0032965816, 0.21162637, -0.23327264, 0.12089291, -0.05428697, -0.22794862, 0.23270874, -0.03506246, -0.0010409391, -0.039470125, -0.09515601, 0.08108345, 0.0339552) * inp_3_0_1;
    result0 += M4(0.47835934, -0.81039613, 0.15926978, -0.026459564, -0.31486458, -0.68013394, -0.4499803, -0.31855863, 0.40810576, 0.60632616, 0.3587756, 0.24879968, -0.33831075, -0.2590128, -0.38506007, 0.16408302) * inp_3_1_1;
    result0 += M4(-0.32288015, -0.043840643, -0.2331249, 0.07026603, -0.09251654, -0.04574656, 0.16976203, 0.08213094, 0.23220618, 0.11806604, -0.042935766, -0.037535585, -0.16690816, -0.7120235, -0.31481323, -0.2016924) * inp_3_2_1;
    result0 += M4(-0.090075284, -0.03641257, 0.17522272, -0.053273343, -0.12294699, -0.2730577, 0.22907414, 0.11054985, 0.1512089, 0.10332229, -0.2528515, -0.06418072, -0.024211174, -0.08748274, -0.06801307, 0.012531863) * inp_3_0_2;
    result0 += M4(0.17334518, -0.2513392, 0.18410385, 0.026910504, -0.28489715, -0.15982321, -0.2816297, -0.00993995, 0.2119885, 0.11294427, 0.29578844, -0.046507187, -0.026416183, 0.012834664, 0.13767204, 0.033629607) * inp_3_1_2;
    result0 += M4(-0.14058824, 0.030040804, 0.034915406, -0.0029026796, 0.27668726, -0.06744849, 0.1246069, 0.07660879, -0.08698772, 0.06257902, 0.11980389, -0.019246245, -0.023585599, -0.05827242, -0.17510451, -0.08086669) * inp_3_2_2;
    result1 += M4(0.12231969, 0.30409506, -0.076282375, 0.14668477, 0.10174429, 0.04108572, 0.10240263, 0.1503571, -0.08532997, 0.0377526, -0.06495831, -0.016578652, 0.050462827, 0.021542793, 0.03191273, 0.04426113) * inp_3_0_0;
    result1 += M4(0.015592002, -0.12802982, -0.28124458, -0.09201621, 0.19376364, 0.049652003, -0.3471193, 0.05005454, 0.04964692, 0.11216147, 0.06823739, 0.043766808, 0.26274228, -0.03155342, 0.31292614, 0.13600653) * inp_3_1_0;
    result1 += M4(0.017464174, 0.0076749115, -0.120535284, -0.15762505, 0.14190337, -0.07341798, -0.037680816, 0.10671535, 0.015145264, 0.10551151, 0.006130938, -0.07881988, 0.27042672, 0.17737274, 0.20095754, -0.046643946) * inp_3_2_0;
    result1 += M4(0.06324335, 0.113832004, 0.016117347, -0.4316106, 0.4284449, 0.028329322, -0.29759955, -0.05559112, -0.30506092, -0.0570435, 0.32673457, -0.10788156, 0.19596824, 0.080345154, 0.17983921, 0.10170992) * inp_3_0_1;
    result1 += M4(-0.16226533, -0.20085669, 0.18212813, -0.98090583, 0.7436089, 0.25520852, 0.22677216, 0.08316007, -0.7651473, -0.14947078, -0.015795385, -0.5515884, 0.52111214, 0.09154088, -0.051681116, -0.6108806) * inp_3_1_1;
    result1 += M4(0.09765378, -0.13567026, -0.1630423, -0.07535937, 0.015086634, 0.060088057, -0.1109025, -0.12248732, -0.1632698, -0.014668931, 0.07092175, 0.043434653, 0.5215624, -0.35618448, 0.02702022, 0.04376996) * inp_3_2_1;
    result1 += M4(-0.11623957, 0.1425275, 0.13067375, -0.116925664, 0.32191816, 0.008251049, 0.24042338, -0.04805746, -0.21023902, -0.0034481292, -0.22279663, 0.22283545, -0.0023537872, 0.064675726, 0.03801733, 0.052731667) * inp_3_0_2;
    result1 += M4(0.06423142, -0.0523615, -0.0148753235, -0.06437915, 0.17171486, -0.0655782, -0.045296855, -0.07163561, -0.08421242, 0.16907294, 0.090674266, 0.37022197, 0.2274459, 0.04613818, 0.09532158, 0.121991925) * inp_3_1_2;
    result1 += M4(0.16364807, 0.20489338, -0.03700591, -0.10116881, -0.14940609, -0.008729296, 0.12568495, 0.08886033, 0.123641185, 0.120030485, -0.10262215, 0.04142356, 0.12631288, -0.20613806, -0.10370183, -0.030111833) * inp_3_2_2;
    result2 += M4(0.16581358, 0.009435019, 0.23461585, -0.01202958, 0.03829091, -0.03908276, -0.10918261, 0.090727635, -0.004782589, 0.040668633, 0.043790735, -0.07533452, 0.00038733173, -0.019427506, 0.0229304, 0.037488367) * inp_3_0_0;
    result2 += M4(0.040661804, 0.12056046, 0.0006211558, 0.059421968, 0.005191181, 0.067515485, -0.04964025, -0.12362957, 0.181556, -0.04011241, 0.09021521, 0.16503619, 0.094757944, 0.063951485, -0.18487304, 0.13447888) * inp_3_1_0;
    result2 += M4(-0.028233774, -0.04009694, 0.26424792, 0.12099691, 0.13428842, 0.029218007, -0.1427801, 0.103725314, 0.029537916, 0.007465631, 0.21026419, -0.017151466, 0.20680392, -0.0037215245, -0.17314681, -0.13309091) * inp_3_2_0;
    result2 += M4(0.046561696, -0.063086525, 0.25246075, -0.118450455, -0.004287783, -0.14807174, 0.057299346, -0.19392335, 0.07866226, 0.10301641, -0.121036395, -0.0032807277, 0.10556569, -0.018250212, -0.1850608, -0.11105928) * inp_3_0_1;
    result2 += M4(-0.37344295, -0.13078989, 0.3929708, -0.62795085, 0.41554746, 0.18800843, 0.7386814, 0.16892818, -0.4528407, -0.1963698, -0.44354475, -0.31940398, -0.12136622, 0.09269381, 0.10605715, -0.33921722) * inp_3_1_1;
    result2 += M4(0.13166422, 0.042736527, 0.05342391, -0.14425245, 0.18040207, 0.14544229, 0.24860857, -0.3057986, -0.1271276, -0.078677036, -0.25719154, 0.052071918, 0.027944589, -0.06192943, 0.105531804, 0.16879013) * inp_3_2_1;
    result2 += M4(-0.045222566, 0.0018496171, 0.1320605, 0.079490334, 0.08614907, -0.012566033, -0.13489494, 0.22493261, 0.04575799, 0.07011136, 0.12464771, -0.13740899, 0.0392151, 0.041216824, 0.035092607, 0.035535786) * inp_3_0_2;
    result2 += M4(0.12157231, 0.114400044, 0.14339347, -0.14964163, 0.06986519, -0.109808505, -0.14463042, 0.18734732, -0.010580413, 0.047829386, -0.041399874, -0.15598533, 0.27271393, 0.1629265, -0.1693891, 0.11566658) * inp_3_1_2;
    result2 += M4(0.10768487, -0.02052652, -0.011842692, 0.16399764, -0.12996168, 0.04603194, 0.09512789, -0.21042432, 0.091901384, -0.017899165, -0.027728068, 0.12602215, 0.13607998, 0.010383803, -0.16323668, 0.15168875) * inp_3_2_2;
    result3 += M4(-0.1736935, 0.100206934, -0.13180715, -0.11291573, 0.059565, 0.091169156, 0.002508591, 0.063708365, 0.0146997245, 0.0038057298, -0.0072021387, -0.08396387, -0.016440524, -0.056835055, -0.015095022, 0.046338625) * inp_3_0_0;
    result3 += M4(0.23913297, -0.045274723, 0.018362975, 0.08016596, -0.01302117, -0.1408134, 0.031853136, 0.05833693, -0.092140965, 0.09744137, -0.028788527, -0.019403135, -0.3027105, -0.17553318, -0.07923436, -0.01020648) * inp_3_1_0;
    result3 += M4(-0.15476406, -0.06714258, -0.0038071587, -0.033488303, 0.16288348, 0.031211225, 0.020442385, -0.0009814595, -0.14323267, -0.08790412, -0.09505886, -0.022834912, -0.25674075, -0.17109355, -0.0016950369, 0.028910547) * inp_3_2_0;
    result3 += M4(-0.24970563, 0.062185984, -0.04057969, -0.050663333, -0.32046154, 0.13310446, -0.10137342, -0.09217439, 0.32266176, -0.13494276, 0.028543526, 0.015735745, -0.039920263, -0.082518846, 0.016480818, 0.08397351) * inp_3_0_1;
    result3 += M4(0.00025232937, -0.3320595, 0.062337283, 0.053761315, -0.5063921, 0.83886486, -0.26438108, 0.20139761, 0.3873732, -0.6148231, 0.2558275, -0.112645015, 0.1794499, -0.2255858, 0.10699971, 0.0048527485) * inp_3_1_1;
    result3 += M4(0.19383949, 0.08603463, 0.05050096, 0.09857143, -0.09976706, 0.044483963, -0.22936198, 0.113902435, 0.14494307, 0.086936295, 0.077301264, -0.10323868, 0.03150394, -0.23504852, 0.19975154, -0.057953883) * inp_3_2_1;
    result3 += M4(0.061037693, 0.18669659, 0.028061438, 0.010672895, 0.14346209, 0.2287497, -0.07856213, 0.023983764, -0.0958144, -0.5405376, 0.058171436, 0.044684067, 0.073997416, -0.14109549, 0.01941637, 0.0304208) * inp_3_0_2;
    result3 += M4(-0.04348302, -0.010686952, -0.08568931, 0.15279059, 0.0044829184, -0.052459706, 0.029188339, 0.007831237, 0.050094403, -0.031420432, 0.06200746, 0.0053869574, 0.037488922, -0.12906475, -0.07277732, -0.101579726) * inp_3_1_2;
    result3 += M4(-0.121611126, -0.2381362, -0.03144868, 0.014862302, 0.0077338372, 0.13567099, 0.013352451, 0.15516987, -0.08669054, -0.16729672, -0.023141567, -0.06861888, 0.0038949763, -0.0828744, -0.020694101, -0.17354397) * inp_3_2_2;
    const ivec2 output_base = ivec2(gl_GlobalInvocationID) * ivec2(2, 2);
    imageStore(out_image, output_base + ivec2(0, 0), result0);
    imageStore(out_image, output_base + ivec2(1, 0), result1);
    imageStore(out_image, output_base + ivec2(0, 1), result2);
    imageStore(out_image, output_base + ivec2(1, 1), result3);
}

//!DESC ArtCNN C4F16 (Conv2D-6)
//!COMPUTE 12 16 12 16
//!HOOK LUMA
//!BIND conv2d
//!BIND conv2d_5
//!SAVE conv2d_6
//!WIDTH LUMA.w 1.0 *
//!HEIGHT LUMA.h 1.0 *
//!COMPONENTS 4
//!WHEN OUTPUT.w LUMA.w / 1.3 > OUTPUT.h LUMA.h / 1.3 > *
#extension GL_EXT_shader_explicit_arithmetic_types_float16 : enable
#ifdef GL_EXT_shader_explicit_arithmetic_types_float16
#	define V4 f16vec4
#	define M4 f16mat4
#	define F float16_t
#else
#	define V4 vec4
#	define M4 mat4
#	define F float
#endif

const ivec2 ksize = ivec2(3, 3);
const ivec2 offset = ksize / 2;
const ivec2 wg_size = ivec2(gl_WorkGroupSize);
const ivec2 isize = wg_size + ksize - 1;
shared V4 inp[4][isize.y][isize.x];
void hook() {
    const uvec2 local_xy = gl_LocalInvocationID.xy;
    ivec2 base = ivec2(gl_WorkGroupID) * wg_size;
    for (uint y = local_xy.y; y < isize.y; y += wg_size.y) {
        for (uint x = local_xy.x; x < isize.x; x += wg_size.x) {
            const ivec2 input_base = (base + ivec2(x,y) - offset) * ivec2(2, 2);
            inp[0][y][x] = V4(conv2d_5_mul * texelFetch(conv2d_5_raw, input_base + ivec2(0, 0), 0) + conv2d_mul * texelFetch(conv2d_raw, input_base + ivec2(0, 0), 0));
            inp[1][y][x] = V4(conv2d_5_mul * texelFetch(conv2d_5_raw, input_base + ivec2(1, 0), 0) + conv2d_mul * texelFetch(conv2d_raw, input_base + ivec2(1, 0), 0));
            inp[2][y][x] = V4(conv2d_5_mul * texelFetch(conv2d_5_raw, input_base + ivec2(0, 1), 0) + conv2d_mul * texelFetch(conv2d_raw, input_base + ivec2(0, 1), 0));
            inp[3][y][x] = V4(conv2d_5_mul * texelFetch(conv2d_5_raw, input_base + ivec2(1, 1), 0) + conv2d_mul * texelFetch(conv2d_raw, input_base + ivec2(1, 1), 0));
        }
    }

    barrier();
    V4 result0 = V4(0.097070925, 0.09134238, 0.09622096, 0.088523135);
    const V4 inp_0_0_0 = inp[0][local_xy.y + 0][local_xy.x + 0];
    const V4 inp_0_1_0 = inp[0][local_xy.y + 0][local_xy.x + 1];
    const V4 inp_0_2_0 = inp[0][local_xy.y + 0][local_xy.x + 2];
    const V4 inp_0_0_1 = inp[0][local_xy.y + 1][local_xy.x + 0];
    const V4 inp_0_1_1 = inp[0][local_xy.y + 1][local_xy.x + 1];
    const V4 inp_0_2_1 = inp[0][local_xy.y + 1][local_xy.x + 2];
    const V4 inp_0_0_2 = inp[0][local_xy.y + 2][local_xy.x + 0];
    const V4 inp_0_1_2 = inp[0][local_xy.y + 2][local_xy.x + 1];
    const V4 inp_0_2_2 = inp[0][local_xy.y + 2][local_xy.x + 2];
    result0 += M4(-0.07065219, -0.011663893, -0.0234423, -0.026282923, -0.045255058, -0.013367124, -0.040817235, -0.028050791, 0.017383505, 0.030827532, 0.0031975147, 0.017695965, 0.16205716, 0.104110345, 0.06398513, 0.09537519) * inp_0_0_0;
    result0 += M4(-0.07097137, -0.11986478, 0.03952961, 0.045754798, 0.03429822, -0.031014498, -0.0837831, -0.007267948, 0.008541953, -0.1290175, 0.09753615, 0.036104333, 0.005100076, 0.14605524, 0.048437208, -0.006361441) * inp_0_1_0;
    result0 += M4(0.008804284, -0.033684876, -0.010256633, -0.019521879, -0.019345079, 0.011668923, -0.031287234, -0.052657247, -0.023467256, 0.003366381, -0.004543862, 0.035580814, 0.09739045, 0.036231026, 0.061550036, 0.023594629) * inp_0_2_0;
    result0 += M4(0.13480166, -0.04941942, -0.020716684, 0.02045679, -0.014272143, -0.09713315, 0.1180261, -0.06841911, 0.0066892924, 0.029536411, 0.07115692, 0.00077125244, 0.18284932, 0.11113256, 0.1773523, 0.12590006) * inp_0_0_1;
    result0 += M4(0.07969308, 0.21704292, -0.10678385, -0.15455039, -0.17913209, 0.18110125, -0.12829682, 0.30405745, -0.06776743, 0.030906728, -0.059741598, -0.1185361, 0.21605152, 0.21417765, 0.16045712, 0.26464763) * inp_0_1_1;
    result0 += M4(-0.008528118, 0.079684295, 0.03311614, 0.02239262, 0.060281243, -0.057770275, 0.039854836, -0.086347766, -0.018493263, 0.004434984, -0.039386988, 0.06067434, 0.16465884, 0.20472194, 0.1640717, 0.24151482) * inp_0_2_1;
    result0 += M4(-0.02558809, -0.007566972, 0.018342476, 0.011518076, -0.01461069, -0.0052542584, -0.030571997, 0.0039171255, 0.035322282, -0.0008812215, 0.033649787, -0.012990422, 0.10851967, 0.010960436, 0.21001059, -0.011446746) * inp_0_0_2;
    result0 += M4(-0.040330976, -0.055836443, 0.063723795, 0.052755337, 0.08533373, 0.04363491, 0.08456279, -0.052242324, 0.009572355, 0.017058665, -0.09073573, 0.057673294, 0.023301791, 0.062793784, 0.058429282, 0.19439486) * inp_0_1_2;
    result0 += M4(-0.00988376, -0.019396463, 0.0038498107, 0.050561592, 0.033189405, 0.014046828, 0.060585897, 0.024449775, 0.010583148, 0.010071337, -0.00598279, -0.06280827, 0.054703973, 0.141159, 0.07269774, 0.11088917) * inp_0_2_2;
    const V4 inp_1_0_0 = inp[1][local_xy.y + 0][local_xy.x + 0];
    const V4 inp_1_1_0 = inp[1][local_xy.y + 0][local_xy.x + 1];
    const V4 inp_1_2_0 = inp[1][local_xy.y + 0][local_xy.x + 2];
    const V4 inp_1_0_1 = inp[1][local_xy.y + 1][local_xy.x + 0];
    const V4 inp_1_1_1 = inp[1][local_xy.y + 1][local_xy.x + 1];
    const V4 inp_1_2_1 = inp[1][local_xy.y + 1][local_xy.x + 2];
    const V4 inp_1_0_2 = inp[1][local_xy.y + 2][local_xy.x + 0];
    const V4 inp_1_1_2 = inp[1][local_xy.y + 2][local_xy.x + 1];
    const V4 inp_1_2_2 = inp[1][local_xy.y + 2][local_xy.x + 2];
    result0 += M4(-0.116462894, -0.01987778, -0.071911, -0.064693674, -0.016404387, -0.0911334, 0.045587383, -0.0017813098, -0.018470071, 0.03654106, 0.0007525871, -0.0040984903, 0.031717233, 0.05047806, -0.013141388, 0.010363486) * inp_1_0_0;
    result0 += M4(0.049597915, -0.11670185, -0.14564888, -0.0010881675, 0.013913164, 0.031124324, 0.14652559, -0.0020587835, 0.024377698, -0.07261145, 8.7159075e-05, 0.011898939, 0.014701627, -0.094264135, 0.041889533, 0.024678888) * inp_1_1_0;
    result0 += M4(-0.0568602, 0.057451032, -0.01269537, -0.0053679426, -0.06233792, 0.04745888, -0.012897273, 0.08552925, -0.051216792, 0.046408158, -0.006914922, 0.028748984, 0.030767707, -0.04420185, 0.014233757, -0.006960851) * inp_1_2_0;
    result0 += M4(-0.06913542, -0.11510174, 0.02207034, -0.07711598, -0.02598517, -0.04149908, -0.05549385, -0.11676805, 0.06252621, -0.0014458718, -0.071204424, 0.022997253, -0.0805946, 0.0040637953, 0.032782923, 0.018965213) * inp_1_0_1;
    result0 += M4(0.19105302, 0.06215937, 0.250276, 0.08585055, 0.084923126, -0.00816266, -0.12880671, 0.022868657, -0.04227994, 0.06154295, -0.004874041, 0.0012794605, 0.10022242, -0.009952638, -0.05975893, 0.13410415) * inp_1_1_1;
    result0 += M4(0.04621354, 0.09572977, 0.022385782, 0.04664212, 0.010879071, 0.029857503, -0.029276557, -0.070980445, 0.009449085, -0.046990637, 0.016640345, 0.043162666, 0.0092492085, 0.014441819, 0.030278318, -0.006700238) * inp_1_2_1;
    result0 += M4(-0.05194911, -0.009573284, -0.07567581, 0.025853543, -0.00054839224, -0.01366632, -0.024363855, -0.023077946, -0.0022231229, -0.019909091, 0.020556858, 0.008236489, -0.0048643015, 0.0011821137, -0.033554498, -0.0069660526) * inp_1_0_2;
    result0 += M4(0.016356869, 0.08197528, 0.052851174, -0.058048584, -0.01618895, -0.050625365, 0.12560786, 0.029592032, -0.005217629, -0.0005495741, 0.016006665, -0.046285443, -0.026895177, -0.00064058206, -0.017293971, -0.10482619) * inp_1_1_2;
    result0 += M4(0.027113568, -0.043111496, 0.030824948, 0.040768817, -0.013136749, -0.016369503, 9.023036e-05, 0.07836876, 0.029315298, -0.0072017876, 0.029034678, -0.06781749, -0.011473227, -0.013297197, -0.010789622, -0.008249525) * inp_1_2_2;
    const V4 inp_2_0_0 = inp[2][local_xy.y + 0][local_xy.x + 0];
    const V4 inp_2_1_0 = inp[2][local_xy.y + 0][local_xy.x + 1];
    const V4 inp_2_2_0 = inp[2][local_xy.y + 0][local_xy.x + 2];
    const V4 inp_2_0_1 = inp[2][local_xy.y + 1][local_xy.x + 0];
    const V4 inp_2_1_1 = inp[2][local_xy.y + 1][local_xy.x + 1];
    const V4 inp_2_2_1 = inp[2][local_xy.y + 1][local_xy.x + 2];
    const V4 inp_2_0_2 = inp[2][local_xy.y + 2][local_xy.x + 0];
    const V4 inp_2_1_2 = inp[2][local_xy.y + 2][local_xy.x + 1];
    const V4 inp_2_2_2 = inp[2][local_xy.y + 2][local_xy.x + 2];
    result0 += M4(0.06733523, 0.053057518, 0.016113115, 0.04054219, -0.10265127, -0.08324126, -0.041312393, -0.071838744, 0.010931242, 0.06793353, -0.019293735, -0.0006940696, 0.036142644, -0.0622728, -0.0035641915, 0.0039909277) * inp_2_0_0;
    result0 += M4(-0.084842026, 0.031684127, 0.01790862, 0.0046205507, -0.061902728, 0.020915696, 0.051853657, 0.02638373, 0.051950574, -0.0762869, 0.024596227, 0.02739792, -0.06215455, 0.104968056, 0.028318625, -0.055805873) * inp_2_1_0;
    result0 += M4(0.051692817, -0.06416246, -0.0111430315, -0.052655745, 0.032263204, 0.10284373, 0.030376805, 0.03606572, -0.006517942, 0.009414327, 0.02070862, 0.027674422, -0.028872034, 0.032257773, -0.01123441, 0.032392956) * inp_2_2_0;
    result0 += M4(0.060601898, 0.118135214, 0.06720645, 0.1221639, -0.16926898, 0.005357109, -0.20393252, -0.017324625, -0.043202598, 0.02164394, -0.027334498, 0.07990986, 0.060282074, -0.041250978, 0.053067543, -0.083700664) * inp_2_0_1;
    result0 += M4(-0.05460226, -0.26006982, -0.36719805, -0.3231482, -0.33449653, -0.33804578, -0.23916622, -0.22477204, 0.012989004, -0.059003815, -0.0648437, -0.12805755, -0.014554313, -0.06987357, -0.016865863, 0.042093) * inp_2_1_1;
    result0 += M4(-0.118843675, -0.00019465493, -0.0748153, -0.055504784, 0.41959026, 0.090896085, 0.39779606, 0.14299196, -0.010454983, -0.014060063, 0.019677052, 0.030845348, -0.00941234, -0.0071338126, 0.02571525, 0.07544947) * inp_2_2_1;
    result0 += M4(0.044658933, 0.016711937, 0.13471091, 0.01780316, -0.07349163, 0.022445781, -0.14202268, 0.031031378, -0.019843744, -0.0069384184, 0.001640753, 0.021628188, -0.013728896, 0.020965056, -0.02992976, -0.0073232087) * inp_2_0_2;
    result0 += M4(0.0172803, -0.031438075, 0.15360637, 0.04625525, 0.13661344, 0.044906102, -0.05532937, -0.09086305, -0.0025072403, 0.08129791, 0.051083893, -0.103401646, 0.03699029, -0.011850713, -0.054527707, -0.042834364) * inp_2_1_2;
    result0 += M4(-0.001976308, 0.043014314, 0.012022742, 0.010493147, 0.08602418, 0.112041965, 0.14050722, 0.13396339, -0.007482028, -0.009471982, 0.0042000553, 0.03432741, -0.0024071566, 0.03482213, 0.009048037, 0.033657685) * inp_2_2_2;
    const V4 inp_3_0_0 = inp[3][local_xy.y + 0][local_xy.x + 0];
    const V4 inp_3_1_0 = inp[3][local_xy.y + 0][local_xy.x + 1];
    const V4 inp_3_2_0 = inp[3][local_xy.y + 0][local_xy.x + 2];
    const V4 inp_3_0_1 = inp[3][local_xy.y + 1][local_xy.x + 0];
    const V4 inp_3_1_1 = inp[3][local_xy.y + 1][local_xy.x + 1];
    const V4 inp_3_2_1 = inp[3][local_xy.y + 1][local_xy.x + 2];
    const V4 inp_3_0_2 = inp[3][local_xy.y + 2][local_xy.x + 0];
    const V4 inp_3_1_2 = inp[3][local_xy.y + 2][local_xy.x + 1];
    const V4 inp_3_2_2 = inp[3][local_xy.y + 2][local_xy.x + 2];
    result0 += M4(-0.03918379, 0.009098322, -0.039462436, -0.022193765, -0.01032757, 0.0076186187, 0.0026933833, -0.009317338, 0.013838859, 0.0045098136, 0.028272001, 0.010904951, -0.117415704, -0.07987902, -0.025227664, -0.0677506) * inp_3_0_0;
    result0 += M4(0.022676937, -0.06889561, 0.035327464, 0.0096505545, 0.014738305, 0.007837108, -0.035385467, -0.008749418, -0.04527591, -0.08157673, -0.06776462, -0.051177908, -0.03946744, -0.08789977, 0.020583116, 0.0316028) * inp_3_1_0;
    result0 += M4(-0.040209047, 0.028671369, -0.0037295504, 0.035284206, -0.06536039, 0.060902175, -0.028321985, 0.021963472, 0.019541897, 0.05621873, 0.034790926, 0.042478077, -0.061474536, -0.08838922, -0.058418952, -0.04909292) * inp_3_2_0;
    result0 += M4(-0.046517383, -0.06601049, 0.055833112, -0.016368248, -0.027547818, 0.01987186, -0.029930523, 0.059080854, 0.038761385, -0.01787377, 0.050003607, 0.0547758, -0.061703574, 0.008907221, -0.082675256, 0.035077404) * inp_3_0_1;
    result0 += M4(0.18162024, 0.2527517, -0.21579134, -0.07247963, 0.11848205, -0.20162761, 0.10018069, -0.09811246, -0.57933766, -0.45075446, -0.43273753, -0.39501557, 0.4252008, 0.35930482, 0.40905216, 0.29434642) * inp_3_1_1;
    result0 += M4(0.019839523, -0.0058999676, 0.048005294, -0.007531861, -0.04728464, 0.102750875, -0.08581256, 0.04020687, 0.08465677, 0.014314979, 0.036121465, 0.03747917, -0.13995022, -0.1809669, -0.13336948, -0.21019109) * inp_3_2_1;
    result0 += M4(-0.01210766, -0.012568644, -0.031498667, -0.004476038, -0.020814354, 0.014891924, -0.01123974, 0.01721853, 0.08384392, 0.049571123, 0.20545426, 0.054904517, -0.054188423, 0.020780163, -0.072191596, 0.029960258) * inp_3_0_2;
    result0 += M4(-0.018778477, -0.03890412, 0.05916686, 0.013805215, 0.034367844, -0.008606872, 0.069904484, -0.06478689, 0.18717088, 0.18597163, 0.04252837, 0.16390371, 0.15218253, 0.05261694, 0.08924662, -0.025937825) * inp_3_1_2;
    result0 += M4(-0.0022027625, -0.017379563, 0.006151329, 0.00419493, -0.0025602637, -0.0037047477, 0.003626615, 0.0611165, 0.08386118, 0.16603702, 0.112646766, 0.146994, -0.026453521, -0.021629032, -0.03479915, -0.049909778) * inp_3_2_2;
    const ivec2 output_base = ivec2(gl_GlobalInvocationID) * ivec2(1, 1);
    imageStore(out_image, output_base + ivec2(0, 0), result0);
}

//!DESC ArtCNN C4F16 (Depth-To-Space)
//!COMPUTE 12 16 12 16
//!HOOK LUMA
//!BIND conv2d_6
//!WIDTH LUMA.w 2.0 *
//!HEIGHT LUMA.h 2.0 *
//!COMPONENTS 4
//!WHEN OUTPUT.w LUMA.w / 1.3 > OUTPUT.h LUMA.h / 1.3 > *
#extension GL_EXT_shader_explicit_arithmetic_types_float16 : enable
#ifdef GL_EXT_shader_explicit_arithmetic_types_float16
#	define V4 f16vec4
#	define M4 f16mat4
#	define F float16_t
#else
#	define V4 vec4
#	define M4 mat4
#	define F float
#endif

void hook() {
    vec4 result = vec4(0.0, 0.0, 0.0, 1.0);
    vec2 f0 = fract(conv2d_6_pos * conv2d_6_size);
    ivec2 i0 = ivec2(f0 * vec2(2.0));
    result.x = conv2d_6_tex((vec2(0.5) - f0) * conv2d_6_pt + conv2d_6_pos)[i0.y * 2 + i0.x];
    imageStore(out_image, ivec2(gl_GlobalInvocationID), clamp(result, 0.0, 1.0));
}
