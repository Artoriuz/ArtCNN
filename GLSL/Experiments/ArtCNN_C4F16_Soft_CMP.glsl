// MIT License

// Copyright (c) 2024 Joao Chrisostomo, Kacper MichajÅ‚ow

// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the "Software"), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:

// The above copyright notice and this permission notice shall be included in all
// copies or substantial portions of the Software.

// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
// SOFTWARE.

//!DESC ArtCNN C4F16 Soft (Conv2D)
//!COMPUTE 24 32 12 16
//!HOOK LUMA
//!BIND LUMA
//!SAVE conv2d
//!WIDTH LUMA.w 2.0 *
//!HEIGHT LUMA.h 2.0 *
//!COMPONENTS 4
//!WHEN OUTPUT.w LUMA.w / 1.3 > OUTPUT.h LUMA.h / 1.3 > *
#extension GL_EXT_shader_explicit_arithmetic_types_float16 : enable
#ifdef GL_EXT_shader_explicit_arithmetic_types_float16
#	define V4 f16vec4
#	define M4 f16mat4
#	define F float16_t
#else
#	define V4 vec4
#	define M4 mat4
#	define F float
#endif

const ivec2 ksize = ivec2(3, 3);
const ivec2 offset = ksize / 2;
const ivec2 wg_size = ivec2(gl_WorkGroupSize);
const ivec2 isize = wg_size + ksize - 1;
shared F inp[1][isize.y][isize.x];
void hook() {
    const uvec2 local_xy = gl_LocalInvocationID.xy;
    ivec2 base = ivec2(gl_WorkGroupID) * wg_size;
    for (uint y = local_xy.y; y < isize.y; y += wg_size.y) {
        for (uint x = local_xy.x; x < isize.x; x += wg_size.x) {
            const ivec2 input_base = (base + ivec2(x,y) - offset) * ivec2(1, 1);
            inp[0][y][x] = F(LUMA_mul * texelFetch(LUMA_raw, input_base + ivec2(0, 0), 0).x);
        }
    }

    barrier();
    V4 result0 = V4(-0.0027484552, -0.009141141, -0.009450876, -0.07031537);
    V4 result1 = V4(-0.028911548, -0.002494318, 0.001333069, -2.381339e-05);
    V4 result2 = V4(0.028204003, -0.0039821197, -0.0057616974, 0.003975604);
    V4 result3 = V4(0.0025009753, -0.0039904714, 0.0093273865, -0.05874238);
    const F inp_0_0_0 = inp[0][local_xy.y + 0][local_xy.x + 0];
    const F inp_0_1_0 = inp[0][local_xy.y + 0][local_xy.x + 1];
    const F inp_0_2_0 = inp[0][local_xy.y + 0][local_xy.x + 2];
    const F inp_0_0_1 = inp[0][local_xy.y + 1][local_xy.x + 0];
    const F inp_0_1_1 = inp[0][local_xy.y + 1][local_xy.x + 1];
    const F inp_0_2_1 = inp[0][local_xy.y + 1][local_xy.x + 2];
    const F inp_0_0_2 = inp[0][local_xy.y + 2][local_xy.x + 0];
    const F inp_0_1_2 = inp[0][local_xy.y + 2][local_xy.x + 1];
    const F inp_0_2_2 = inp[0][local_xy.y + 2][local_xy.x + 2];
    result0 += V4(-0.04674684, -0.17402385, 0.036697496, 0.008367647) * inp_0_0_0;
    result0 += V4(0.011540262, 0.18019812, 0.15253782, 0.13165875) * inp_0_1_0;
    result0 += V4(-0.005028991, 0.09563727, -0.14434633, 0.049073286) * inp_0_2_0;
    result0 += V4(0.011983171, 0.09892545, 0.015654119, 0.17468297) * inp_0_0_1;
    result0 += V4(-0.03450317, -0.08790951, -0.39110884, 0.3260811) * inp_0_1_1;
    result0 += V4(-0.24797215, -0.150555, 0.13757421, 0.111725956) * inp_0_2_1;
    result0 += V4(0.014532872, 0.18764527, -0.031880792, 0.095441595) * inp_0_0_2;
    result0 += V4(0.09397166, -0.14855511, 0.25435907, -0.04510185) * inp_0_1_2;
    result0 += V4(0.22664824, 0.017414996, -0.025125263, 0.0959675) * inp_0_2_2;
    result1 += V4(0.09479573, -0.11037843, -0.07774042, 0.035487026) * inp_0_0_0;
    result1 += V4(-0.0941018, -0.023266308, 0.032717343, -0.2035536) * inp_0_1_0;
    result1 += V4(0.07544566, 0.13300847, 0.07333994, 0.18708536) * inp_0_2_0;
    result1 += V4(-0.08165069, 0.10728436, 0.076664746, -0.044308335) * inp_0_0_1;
    result1 += V4(0.08477244, -0.19664824, 0.1141366, 0.1965859) * inp_0_1_1;
    result1 += V4(-0.1178433, 0.29692793, -0.19424736, -0.16735053) * inp_0_2_1;
    result1 += V4(0.062007047, -0.0034961689, 0.02812386, 0.01485607) * inp_0_0_2;
    result1 += V4(0.10866307, -0.276702, -0.13852508, 0.02250575) * inp_0_1_2;
    result1 += V4(-0.05440543, 0.07071438, 0.09465566, -0.040350977) * inp_0_2_2;
    result2 += V4(-0.0692125, 0.1082168, -0.1683088, -0.06778358) * inp_0_0_0;
    result2 += V4(0.12527901, -0.03379979, 0.16987959, 0.018778807) * inp_0_1_0;
    result2 += V4(0.08100426, -0.00811567, 0.015086499, 0.024382403) * inp_0_2_0;
    result2 += V4(-0.19863679, 0.32731903, 0.3831788, 0.12874265) * inp_0_0_1;
    result2 += V4(-0.32020456, -0.8161641, -0.31794462, -0.09902763) * inp_0_1_1;
    result2 += V4(0.18358274, 0.17914999, -0.07280312, -0.0032957925) * inp_0_2_1;
    result2 += V4(0.065940976, 0.11279115, -0.16914895, -0.06956769) * inp_0_0_2;
    result2 += V4(0.27132753, 0.11579958, 0.14010312, 0.122503795) * inp_0_1_2;
    result2 += V4(-0.2090321, -0.007297756, 0.022341387, -0.059413448) * inp_0_2_2;
    result3 += V4(0.088877365, -0.12646839, 0.2369359, -0.13146512) * inp_0_0_0;
    result3 += V4(-0.18900125, 0.20736967, 0.41166264, 0.21637927) * inp_0_1_0;
    result3 += V4(0.013679785, -0.040710684, 0.04626463, 0.07276982) * inp_0_2_0;
    result3 += V4(0.03782649, 0.010659639, 0.048984546, -0.2582167) * inp_0_0_1;
    result3 += V4(0.010652441, -0.13238238, -0.46070495, -0.08346132) * inp_0_1_1;
    result3 += V4(0.04596495, 0.158136, -0.18093696, 0.25023684) * inp_0_2_1;
    result3 += V4(-0.09360445, 0.12325795, -0.057324737, -0.11209479) * inp_0_0_2;
    result3 += V4(0.11768915, -0.08441287, -0.16901492, 0.032633323) * inp_0_1_2;
    result3 += V4(-0.023949893, -0.11364018, 0.0149697885, 0.20585236) * inp_0_2_2;
    const ivec2 output_base = ivec2(gl_GlobalInvocationID) * ivec2(2, 2);
    imageStore(out_image, output_base + ivec2(0, 0), result0);
    imageStore(out_image, output_base + ivec2(1, 0), result1);
    imageStore(out_image, output_base + ivec2(0, 1), result2);
    imageStore(out_image, output_base + ivec2(1, 1), result3);
}

//!DESC ArtCNN C4F16 Soft (Conv2D-1-ReLU)
//!COMPUTE 24 32 12 16
//!HOOK LUMA
//!BIND conv2d
//!SAVE conv2d_1
//!WIDTH LUMA.w 2.0 *
//!HEIGHT LUMA.h 2.0 *
//!COMPONENTS 4
//!WHEN OUTPUT.w LUMA.w / 1.3 > OUTPUT.h LUMA.h / 1.3 > *
#extension GL_EXT_shader_explicit_arithmetic_types_float16 : enable
#ifdef GL_EXT_shader_explicit_arithmetic_types_float16
#	define V4 f16vec4
#	define M4 f16mat4
#	define F float16_t
#else
#	define V4 vec4
#	define M4 mat4
#	define F float
#endif

const ivec2 ksize = ivec2(3, 3);
const ivec2 offset = ksize / 2;
const ivec2 wg_size = ivec2(gl_WorkGroupSize);
const ivec2 isize = wg_size + ksize - 1;
shared V4 inp[4][isize.y][isize.x];
void hook() {
    const uvec2 local_xy = gl_LocalInvocationID.xy;
    ivec2 base = ivec2(gl_WorkGroupID) * wg_size;
    for (uint y = local_xy.y; y < isize.y; y += wg_size.y) {
        for (uint x = local_xy.x; x < isize.x; x += wg_size.x) {
            const ivec2 input_base = (base + ivec2(x,y) - offset) * ivec2(2, 2);
            inp[0][y][x] = V4(conv2d_mul * texelFetch(conv2d_raw, input_base + ivec2(0, 0), 0));
            inp[1][y][x] = V4(conv2d_mul * texelFetch(conv2d_raw, input_base + ivec2(1, 0), 0));
            inp[2][y][x] = V4(conv2d_mul * texelFetch(conv2d_raw, input_base + ivec2(0, 1), 0));
            inp[3][y][x] = V4(conv2d_mul * texelFetch(conv2d_raw, input_base + ivec2(1, 1), 0));
        }
    }

    barrier();
    V4 result0 = V4(0.010730985, 0.014964985, 0.12938596, 0.0116292015);
    V4 result1 = V4(0.038365178, -0.007693905, -0.015203494, 0.0076659084);
    V4 result2 = V4(0.00815807, 0.03010485, 0.002530244, 0.027593054);
    V4 result3 = V4(0.011497733, -0.018370438, -0.0054285186, -0.03319473);
    const V4 inp_0_0_0 = inp[0][local_xy.y + 0][local_xy.x + 0];
    const V4 inp_0_1_0 = inp[0][local_xy.y + 0][local_xy.x + 1];
    const V4 inp_0_2_0 = inp[0][local_xy.y + 0][local_xy.x + 2];
    const V4 inp_0_0_1 = inp[0][local_xy.y + 1][local_xy.x + 0];
    const V4 inp_0_1_1 = inp[0][local_xy.y + 1][local_xy.x + 1];
    const V4 inp_0_2_1 = inp[0][local_xy.y + 1][local_xy.x + 2];
    const V4 inp_0_0_2 = inp[0][local_xy.y + 2][local_xy.x + 0];
    const V4 inp_0_1_2 = inp[0][local_xy.y + 2][local_xy.x + 1];
    const V4 inp_0_2_2 = inp[0][local_xy.y + 2][local_xy.x + 2];
    result0 += M4(-0.102112345, 0.3608574, -0.01147089, 0.058228333, 0.076983474, 0.07804419, 0.07020763, -0.030602748, -0.4448593, 0.22100163, -0.049628004, -0.09071807, 0.025001286, -0.07560829, -0.17178185, 0.025515756) * inp_0_0_0;
    result0 += M4(-0.41161487, -0.024625184, 0.037956264, 0.049902678, 0.73215616, 0.18375112, -0.016665487, 0.043359723, -0.9046431, -0.7191674, -0.06422575, -0.0832512, -0.43812987, 0.14228965, 0.049246456, 0.12715364) * inp_0_1_0;
    result0 += M4(0.42956775, -0.060663242, 0.1531796, -0.005682844, 0.13559812, -0.19721435, 0.15453833, -0.09266958, -0.4418163, -0.056553833, -0.0382023, 0.09870835, -0.09878572, -0.009749059, -0.11569801, -0.09051833) * inp_0_2_0;
    result0 += M4(-0.18877466, -0.046309337, -0.028536454, -0.17279343, -0.23349798, 0.0014814433, 0.28526652, -0.17867608, 0.26996276, 0.25617012, 0.022413999, 0.045190834, 0.05685502, 0.10886465, -0.018663606, 0.028879197) * inp_0_0_1;
    result0 += M4(-0.098735794, -0.13661477, -0.033572227, -0.10939288, -0.5429473, 0.42690438, 0.059816033, -0.078955404, -0.4846885, 0.8851877, -0.027376406, -0.44452083, 0.08050455, 0.04779, 0.14598604, 0.15708008) * inp_0_1_1;
    result0 += M4(-0.44876245, 0.055202268, -0.042295646, -0.07639056, -0.5146682, -0.08748903, -0.10217201, -0.002652235, 0.21504223, 0.23920381, 0.10760813, -0.16298127, -0.056407697, 0.09128913, 0.07456382, 0.044734996) * inp_0_2_1;
    result0 += M4(0.13938147, 0.053481895, 0.000112828246, 0.27858052, -0.129939, -0.2459979, -0.022348098, 0.3357246, 0.33590153, -0.29633966, 0.05258948, -0.16029312, -0.04390058, -0.086174056, -0.1442603, -0.030204033) * inp_0_0_2;
    result0 += M4(0.08772792, 0.013844006, 0.015101928, 0.078434825, 0.11825653, 0.06855742, -0.041327883, 0.4287412, 0.3910131, -0.23648705, -0.21828277, 0.9765936, 0.031923518, -0.059859484, -0.07098991, 0.026813012) * inp_0_1_2;
    result0 += M4(-0.15898567, -0.052670605, -0.037890695, -0.055360015, 0.17740119, -0.2515247, -0.17042384, -0.14715423, 0.08534302, -0.17489785, 0.1273166, -0.14558072, 0.071989946, -0.09772415, 0.057618394, -0.1034712) * inp_0_2_2;
    result1 += M4(-0.18390658, -0.10127215, -0.04762066, 0.23625445, -0.09160127, -0.08049879, -0.025364706, 0.07872333, 0.075248115, -0.06324295, -0.0219285, -0.00014167909, 0.07575357, -0.068539366, -0.07543354, -0.16277738) * inp_0_0_0;
    result1 += M4(0.07834797, -0.079820946, 0.103526406, -0.06732029, -0.22965261, 0.21146385, 0.22687922, 0.07677561, -0.08769271, -0.08361756, -0.036435124, 0.015416283, 0.15938132, -0.060253307, -0.13817851, -0.051046953) * inp_0_1_0;
    result1 += M4(0.04946749, 0.083613195, 0.0059464276, -0.10389057, -0.09867101, 0.315127, -0.01056445, -0.01200211, -0.027391024, 0.14596395, -0.12507837, 0.15414444, -0.15245453, -0.044362176, -0.07859855, 0.19476423) * inp_0_2_0;
    result1 += M4(-0.03789682, 0.16632956, -0.09176558, 0.5099201, -0.0608061, -0.07430148, 0.21204919, 0.2249915, -0.08146771, 0.31363443, -0.015101702, 0.080092564, 0.06621063, -0.06110793, -0.04338708, -0.1477192) * inp_0_0_1;
    result1 += M4(0.16309538, -0.19961086, 0.24523287, -0.08539415, 0.17400116, -0.29046562, -0.04085978, -0.039994203, -0.17917028, 0.2677848, 1.042464, -0.116109096, 0.21426497, 0.105484664, -0.13229166, -0.103886135) * inp_0_1_1;
    result1 += M4(0.21609338, -0.16439089, -0.0641606, -0.16496544, -0.04274483, -0.20517072, 0.30016312, -0.10394067, 0.5120397, -0.14944923, 0.13287547, 0.05258283, -0.24318407, 0.12518178, -0.03817597, 0.029593877) * inp_0_2_1;
    result1 += M4(0.05372447, 0.008232036, -0.045540225, -0.23064789, 0.18798313, -0.49410295, -0.21012105, -0.04197362, 0.15405795, -0.022760946, -0.08824464, 0.24898252, -0.050768986, -0.06346763, 0.16117969, -0.0608076) * inp_0_0_2;
    result1 += M4(0.026153006, -0.05197062, -0.099256694, -0.066126406, 0.04076965, 0.019204596, -0.51921475, -0.28946516, -0.0009086339, -0.4586512, -0.7378752, -0.19411395, 0.08958973, 0.08006722, 0.11298815, 0.09262165) * inp_0_1_2;
    result1 += M4(0.112367205, -0.013514195, -0.0055721793, -0.016187178, -0.0062959394, 0.07778117, -0.07118359, -0.07553534, 0.0025988002, -0.10142658, -0.10175152, -0.11351614, -0.13785362, -0.1369641, 0.086601436, 0.122190654) * inp_0_2_2;
    result2 += M4(-0.21107957, -0.16295768, -0.603525, -0.6473208, 0.116420545, -0.09294682, -0.040421177, -0.46219805, -0.26540455, -0.31440657, 0.34522212, -0.28706318, 0.010558829, -0.114774115, 0.041201733, 0.054262515) * inp_0_0_0;
    result2 += M4(0.16664752, 0.045398206, 0.19230318, 0.21327832, 0.035017766, -0.011558155, 0.05299697, -0.17514437, 0.20843916, 0.18773912, 0.07797573, -0.54105616, 0.07022285, 0.14838596, -0.07285085, -0.11870076) * inp_0_1_0;
    result2 += M4(0.16421416, 0.35356402, -0.10195643, -0.048138123, 0.0062952004, 0.12505993, 0.13034514, -0.4322117, 0.02452714, 0.22952208, -0.3432526, -0.18751946, -0.0694399, -0.20410572, -0.13968958, -0.025752906) * inp_0_2_0;
    result2 += M4(-0.059725415, -0.11666769, 0.6320221, -0.16793428, 0.07984179, -0.21800196, 0.45688504, -0.14851488, -0.0715294, -0.14964058, -0.63512266, 0.512541, 0.08654889, 0.11090801, -0.042871933, 0.119891316) * inp_0_0_1;
    result2 += M4(-0.12231403, 0.05989502, 0.1537234, 0.14084898, -0.15237734, 0.13380219, 0.21553558, 0.1056935, -0.48355383, -0.050657175, 0.14572473, 0.16194956, 0.29096225, 0.11664404, 0.16235037, 0.104174264) * inp_0_1_1;
    result2 += M4(-0.21251418, 0.026356231, 0.27452746, -0.05739188, -0.104070045, 0.43977782, -0.046506334, 0.15294248, -0.059039924, 0.29806817, -0.09800577, 0.20130463, 0.1236604, -0.03722983, 0.114750594, 0.19650045) * inp_0_2_1;
    result2 += M4(-0.1943746, 0.007586644, -0.41414046, 0.20310609, 0.08738211, -0.07828886, -0.5363779, 0.5317996, -0.04619396, 0.047833048, 0.6146923, -0.01169903, -0.08660651, -0.030450232, -0.0034697445, -0.10650182) * inp_0_0_2;
    result2 += M4(0.109069645, -0.09373444, 0.04723575, 0.12363184, 0.474856, 0.06867039, -0.09332842, 0.22051018, 0.5718281, 0.014397158, 0.019563321, 0.004739092, -0.24612358, 0.15122376, -0.031241203, -0.1734857) * inp_0_1_2;
    result2 += M4(-0.009949149, 0.111761786, -0.1358386, -0.14500296, -0.062167514, 0.06761039, -0.15524499, 0.05862255, -0.0070386883, -0.13687953, -0.19326167, -0.10638355, -0.08272055, -0.10284748, -0.047689278, -0.072670154) * inp_0_2_2;
    result3 += M4(0.1120971, 0.122039214, 0.24585229, -0.20550448, 0.07865686, -0.00095487374, 0.19798462, 0.07443297, 0.02171208, -0.15872577, -0.1027433, -0.023575315, -0.03872491, -0.04514015, 0.010531479, 0.20473109) * inp_0_0_0;
    result3 += M4(-0.16646567, -0.10071507, -0.10484398, -0.055171393, -0.044784587, 0.04566031, 0.22572127, 0.046388168, 0.16163382, -0.14633399, -0.44868693, 0.034924194, -0.017159916, 0.07128417, 0.016139487, -0.061596047) * inp_0_1_0;
    result3 += M4(-0.24844182, 0.06841705, 0.04635934, 0.091972, -0.09953195, -0.14508738, 0.16333115, 0.039122477, -0.25011662, -0.3874456, 0.17618817, 0.111612745, 0.0013538048, 0.07509716, 0.0052615544, -0.12302369) * inp_0_2_0;
    result3 += M4(0.27768552, 0.08905975, -0.3951611, 0.13891564, 0.2886662, -0.10638153, 0.12075283, 0.17609501, 0.15990135, -0.18162806, 0.12952448, -0.54723287, -0.1851196, -0.15734456, 0.048099823, 0.13002583) * inp_0_0_1;
    result3 += M4(-0.07881495, 0.03258237, -0.013943432, -0.050817527, -0.38397488, 0.043201633, -0.21103865, 0.15845463, 0.4969034, 0.16304485, 0.6139925, 0.2872251, -0.03341101, 0.1300307, -0.05541661, 0.028537028) * inp_0_1_1;
    result3 += M4(-0.039109424, 0.17112558, 0.0045782845, 0.07898179, -0.4037861, -0.23312174, -0.32914138, 0.036722936, -0.37668085, -0.39617458, 0.08489407, 0.04758985, 0.1753289, -0.14588144, -0.106212854, -0.035815947) * inp_0_2_1;
    result3 += M4(0.066615984, 0.110509306, 0.0324683, -0.028613165, 0.13224408, 0.43234184, 0.44411495, 0.039863057, -0.18071912, 0.052635532, 0.1667885, -0.07348784, -0.096814536, -0.049046878, -0.036884338, 0.06293807) * inp_0_0_2;
    result3 += M4(-0.03993675, -0.32839647, 0.057461713, -0.06435438, 0.020684535, -0.014163934, -0.74143964, -0.13925712, -0.004513793, 0.8808181, -0.37057054, 0.1488969, 0.015137717, 0.15781666, 0.022427728, -0.003510386) * inp_0_1_2;
    result3 += M4(-0.12417073, 0.25130218, -0.2802029, 0.11349413, 0.10484736, 0.00011258447, 0.17137434, -0.11762996, -0.08045391, 0.28182805, -0.3798346, 0.03187263, 0.051111612, 0.005481741, 0.005386398, -0.005162153) * inp_0_2_2;
    const V4 inp_1_0_0 = inp[1][local_xy.y + 0][local_xy.x + 0];
    const V4 inp_1_1_0 = inp[1][local_xy.y + 0][local_xy.x + 1];
    const V4 inp_1_2_0 = inp[1][local_xy.y + 0][local_xy.x + 2];
    const V4 inp_1_0_1 = inp[1][local_xy.y + 1][local_xy.x + 0];
    const V4 inp_1_1_1 = inp[1][local_xy.y + 1][local_xy.x + 1];
    const V4 inp_1_2_1 = inp[1][local_xy.y + 1][local_xy.x + 2];
    const V4 inp_1_0_2 = inp[1][local_xy.y + 2][local_xy.x + 0];
    const V4 inp_1_1_2 = inp[1][local_xy.y + 2][local_xy.x + 1];
    const V4 inp_1_2_2 = inp[1][local_xy.y + 2][local_xy.x + 2];
    result0 += M4(1.0918459, -0.06928077, -0.0052100327, 0.069854066, -0.32316992, 0.07575724, 0.24938437, -0.02148116, -1.0537019, 0.600244, -0.06962635, -0.023378517, -0.56179637, 0.56789124, -0.085602805, 0.030473527) * inp_1_0_0;
    result0 += M4(-0.3892482, 0.18930069, 0.14681798, -0.03389009, 0.7031985, -0.42402205, -0.033815425, -0.30067804, 1.2125885, -0.19790603, -0.00861637, -0.06832431, -0.282509, -0.1086517, -0.17652504, 0.00907177) * inp_1_1_0;
    result0 += M4(0.3701018, 0.27219868, -0.016031124, 0.074119255, 0.190488, 0.041223206, 0.044418037, 0.02107203, -0.52642274, -0.12581865, 0.086143136, 0.20648801, -0.048984427, -0.009089767, -0.2447864, -0.05038107) * inp_1_2_0;
    result0 += M4(-0.4014538, -0.14963764, 0.118281126, -0.0764957, -0.15071838, 0.07405787, -0.18035144, 0.017491557, 0.006049413, -0.34260246, -0.056932423, 0.2411233, -0.34659305, 0.4049877, 0.07022234, 0.24598794) * inp_1_0_1;
    result0 += M4(0.25316828, -0.39608812, 0.18845937, 0.080975935, -0.18964384, 0.35232937, -0.0047699288, 0.10441101, -0.00569897, 0.21257831, 0.29178476, -0.23012325, 0.9349916, -0.9559301, -0.12462299, 0.25386912) * inp_1_1_1;
    result0 += M4(-0.21723355, 0.12987146, -0.11918645, -0.14449422, -0.32954887, -0.099457175, -0.19700585, 0.11337505, -0.03942244, 0.045605388, -0.072197065, -0.26700237, 0.47824973, 0.4923007, -0.02297521, 0.17517334) * inp_1_2_1;
    result0 += M4(0.056114357, 0.15759867, 0.04905186, 0.14113356, 0.16920656, -0.18968147, -0.042914405, 0.0560493, 0.42068157, -0.011977921, -0.31011948, -0.07856484, 0.017947162, 0.08055513, -0.15012763, 0.2986071) * inp_1_0_2;
    result0 += M4(0.1336829, -0.03473288, 0.2195418, -0.28147656, 0.006908262, 0.054331664, -0.07658368, 0.26382193, 0.0077356896, 0.09065176, 0.13265158, 0.34448832, -0.21329528, 0.11335346, 0.38304165, -0.9063604) * inp_1_1_2;
    result0 += M4(-0.24206656, 0.18213184, -0.2252761, 0.0091295615, 0.22141397, 0.017278679, -0.052443065, -0.19218728, 0.34741315, -0.33496287, 0.050161533, -0.03733977, -0.17562307, -0.3207821, 0.1737521, -0.17134605) * inp_1_2_2;
    result1 += M4(-0.33573526, -0.20182203, 0.056817908, 0.029145226, 0.41130614, 0.5291095, 0.09647131, 0.09115632, 0.18142189, 0.024492338, 0.0778687, -0.18489386, 0.06272445, 0.02555539, -0.30952236, -0.17286266) * inp_1_0_0;
    result1 += M4(0.100729786, 0.082523756, -0.027581383, -0.012324997, -0.24851097, 0.18461658, 0.22067195, -0.14023836, 0.061603002, 0.08113594, 0.22837277, 0.3037084, 0.10229558, -0.17495608, -0.0021116158, 0.022506358) * inp_1_1_0;
    result1 += M4(0.035545994, 0.054204147, 0.16138051, -0.1078859, -0.025080586, -0.05988853, 0.14864089, 0.03198515, -0.14222898, 0.384228, -0.31444088, 0.06337829, 0.10024209, -0.1314505, -0.065494426, 0.032729797) * inp_1_2_0;
    result1 += M4(0.06120018, -0.6859267, 0.04028274, -0.36054513, 0.1495398, 0.50384957, 0.056775667, 0.40374422, -0.0068251165, -0.23145539, -0.08917123, 0.13297802, -0.2617969, -0.48096362, -0.08331488, -0.4541352) * inp_1_0_1;
    result1 += M4(0.36641786, 0.09860371, -0.17614439, 0.22324866, -0.31321228, 0.022592753, -0.17433363, -0.3755724, 0.11169867, -0.22200753, -0.30672225, -0.30346188, 0.20025578, 0.019909438, -0.2090787, 0.12577786) * inp_1_1_1;
    result1 += M4(0.21861802, 0.070266746, 0.1713355, -0.032952614, -0.14596005, 0.06288252, 0.03417087, -0.16549236, -0.062234737, -0.25892314, 0.22484975, 0.14643905, 0.15092605, 0.08171287, -0.22420566, -0.07359259) * inp_1_2_1;
    result1 += M4(-0.15870385, -0.4398722, -0.07812664, -0.24870087, 0.4244763, 0.43184957, -0.18427455, 0.9859866, -0.23775494, -0.02395883, -0.09339312, 0.013724059, 0.22727227, 0.19442903, -0.093803056, 0.49953282) * inp_1_0_2;
    result1 += M4(0.07886592, 0.08840896, 0.16831702, 0.29047754, -0.12395102, -0.100589685, -0.44427294, -0.15640904, 0.22907677, 0.1692199, 0.08959293, -0.35102025, 0.017641619, 0.60843945, 0.73802555, 0.16604604) * inp_1_1_2;
    result1 += M4(0.2562275, -0.011042295, -0.24344918, -0.20888816, -0.26944563, 0.1128575, -0.045633778, 0.051780246, -0.05543797, 0.10103238, 0.13521817, 0.03198946, -0.38922185, -0.083571486, 0.2548821, 0.053671084) * inp_1_2_2;
    result2 += M4(-0.075084835, 0.054237098, 0.73796594, -0.52512336, 0.24894263, 0.14730842, -0.33184242, 0.6200919, -0.10714474, -0.07619576, -1.1062405, -0.24646272, 0.12990034, -0.13069052, 0.42288354, -0.8430981) * inp_1_0_0;
    result2 += M4(-0.04797225, 0.10521263, 0.15865555, -0.032208182, -0.13402484, -0.26472005, 0.08442507, -0.26789865, -0.24889043, 0.21557872, 0.37663427, 0.1552995, -0.12873101, -0.048088837, -0.08756447, -0.02230762) * inp_1_1_0;
    result2 += M4(0.023090875, -0.07304176, 0.37989357, -0.12670445, -0.0055871084, 0.08437662, 0.14204359, -0.043848373, 0.12592548, -0.1232325, -0.20969822, 0.21430512, 0.031016061, 0.029327255, -0.15594852, 0.42766622) * inp_1_2_0;
    result2 += M4(-0.3614588, -0.034832325, -0.4231834, -0.39699462, 0.23081516, 0.046479143, 0.04156054, 0.53136843, 0.23719807, -0.07907434, 1.4336929, -0.08930354, -0.52995664, -0.11210479, 0.7361844, 0.27962962) * inp_1_0_1;
    result2 += M4(-0.029913737, 0.25202242, -0.4768765, -0.21743229, -0.07964829, -0.25428903, 0.0316825, 0.05586691, 0.35548148, -0.09053821, 0.37341172, 0.007965861, 0.24523358, -0.04075048, -0.3059913, -0.47878683) * inp_1_1_1;
    result2 += M4(-0.012434347, -0.17918473, -0.2717854, -0.042994987, 0.10316214, 0.2472226, 0.11827941, -0.121509135, -0.0045328634, 0.30384976, 0.2134369, 0.059716485, -0.082202315, 0.11527732, -0.05775023, 0.46639112) * inp_1_2_1;
    result2 += M4(-0.13969037, -0.17735824, 0.1240041, -0.097924195, 0.30365485, -0.12266379, -0.042455725, 0.50338596, -0.04568159, -0.065981045, -1.4529171, 0.0065390654, 0.8386723, -0.43953088, -0.8389885, -0.5033777) * inp_1_0_2;
    result2 += M4(0.30297947, 0.030139979, 0.06252157, 0.32865542, 0.2109768, -0.22147736, -0.17529756, 0.20323534, -0.08678327, -0.013340768, 0.20973006, -0.006046475, -0.29250708, 0.33462268, 0.37846524, -0.0104961945) * inp_1_1_2;
    result2 += M4(-0.03445332, 0.040840387, -0.06627571, 0.23082508, -0.07532054, -0.096491285, -0.082681395, -0.0033104012, -0.14158902, 0.03635397, 0.15213223, -0.035914194, -0.22030173, 0.09836781, -0.08029314, 0.53671217) * inp_1_2_2;
    result3 += M4(0.027452445, 0.16740726, 0.20186532, 0.13491373, 0.016292095, -0.057029977, -0.1987792, -0.22861092, -0.22488259, 0.24247178, 0.088755056, -0.068078816, 0.017140562, -0.13034312, -0.5417543, 0.19718067) * inp_1_0_0;
    result3 += M4(0.09552504, 0.153279, -0.106619835, 0.042831372, 0.122611724, -0.10835715, -0.05344376, 0.16945268, 0.23492447, 0.045135245, 0.6851459, -0.16978888, 0.16317998, 0.12007335, 0.026915448, -0.05945688) * inp_1_1_0;
    result3 += M4(-0.20917399, 0.02594714, -0.1694818, 0.07035741, -0.20276466, -0.063921206, 0.0064235586, 0.028566966, 0.2894837, -0.18130602, -0.1811381, 0.01820888, -0.0755438, -0.26743206, 0.25854167, 0.05458531) * inp_1_2_0;
    result3 += M4(0.12393342, 0.5180022, -0.00262646, 0.30066484, 0.063657455, -0.29238662, 0.2982597, -0.80825657, 0.24603121, -0.12087441, -0.6778328, 0.51576626, -0.037276454, 0.0027376786, -0.759943, 0.55291533) * inp_1_0_1;
    result3 += M4(-0.43296388, 0.012954005, -0.34957528, -0.058459986, 0.6564035, 0.11612119, 0.15461993, 0.34510332, -0.43413603, -0.074998625, -0.3017317, -0.18422647, -0.6517879, -0.060361218, -0.6694985, -0.6616518) * inp_1_1_1;
    result3 += M4(0.100279525, 0.12499666, 0.20534225, 0.09568277, -0.1593233, -0.14385217, -0.0656423, 0.06275086, -0.07837401, -0.15805288, -0.0021969231, 0.021964718, 0.28654635, -0.23477851, 0.5253377, -0.21147929) * inp_1_2_1;
    result3 += M4(0.10001459, 0.099793725, -0.15488292, -0.14869414, -0.18967065, -0.27813256, 0.05409036, 0.024930386, -0.11922401, 0.012359252, 0.3681051, -0.2300374, 0.040565558, 0.1693316, -0.006594827, 0.07863579) * inp_1_0_2;
    result3 += M4(-0.068376794, -0.33523923, -0.014142238, -0.1829128, 0.20741184, 0.11169374, -0.25908038, 0.11003763, -0.069575496, 0.09090714, -0.18710056, -0.087441444, 0.25417438, 0.111117065, 0.8499688, 0.06781064) * inp_1_1_2;
    result3 += M4(0.025969662, -0.13333787, 0.2760359, 0.17393833, 0.0068679014, -0.057986893, 0.0035206417, -0.030571248, 0.11900827, 0.12110641, 0.041050408, 0.047618344, -0.06383623, 0.40503708, 0.45850876, 0.07121302) * inp_1_2_2;
    const V4 inp_2_0_0 = inp[2][local_xy.y + 0][local_xy.x + 0];
    const V4 inp_2_1_0 = inp[2][local_xy.y + 0][local_xy.x + 1];
    const V4 inp_2_2_0 = inp[2][local_xy.y + 0][local_xy.x + 2];
    const V4 inp_2_0_1 = inp[2][local_xy.y + 1][local_xy.x + 0];
    const V4 inp_2_1_1 = inp[2][local_xy.y + 1][local_xy.x + 1];
    const V4 inp_2_2_1 = inp[2][local_xy.y + 1][local_xy.x + 2];
    const V4 inp_2_0_2 = inp[2][local_xy.y + 2][local_xy.x + 0];
    const V4 inp_2_1_2 = inp[2][local_xy.y + 2][local_xy.x + 1];
    const V4 inp_2_2_2 = inp[2][local_xy.y + 2][local_xy.x + 2];
    result0 += M4(0.06662347, -0.16953662, -0.07827083, 0.030418966, -0.17364056, 0.24123985, 0.046421997, -0.12592122, 0.4087618, 0.19091012, 0.079587415, -0.042607255, 1.1217779, 0.049990535, 0.032632094, -0.024760734) * inp_2_0_0;
    result0 += M4(-0.7791797, -0.29069415, -0.10116018, 0.10261794, -0.13076009, -0.59587514, 0.01918964, -0.037017584, -0.09310023, -0.4743212, 0.053550147, 0.059913777, -1.4176338, -0.08280745, 0.05222157, 0.12034709) * inp_2_1_0;
    result0 += M4(-0.3710569, 0.08190434, 0.100067325, -0.0042556394, -0.29220358, 0.18893304, 0.074686736, -0.012064496, -0.950283, -0.2005323, -0.12594044, -0.07224787, 0.53716415, 0.17071779, 0.08787491, -0.06597776) * inp_2_2_0;
    result0 += M4(0.11277999, 0.31525925, -0.0812603, -0.08061643, 0.27613088, 0.09691661, -0.14662589, -0.017222006, 0.073094875, -0.13737048, 0.17009565, -0.15472643, -0.30196843, 0.058449484, 0.19042204, -0.049825806) * inp_2_0_1;
    result0 += M4(-0.09787866, 0.6262948, 0.091800705, -0.39866355, -0.09534953, 0.25486177, 0.28247726, -0.71631366, -0.09641099, 0.8793185, 0.11101511, -0.40477777, 0.3661692, 0.16405785, -0.2658586, -0.22343633) * inp_2_1_1;
    result0 += M4(-0.14367412, 0.31038755, 0.110753305, -0.035786398, 0.21024212, -0.10009833, -0.09684159, -0.11901752, -0.007927481, -0.33682337, -0.074944936, 0.12802814, -0.10513093, -0.05477068, -0.09494928, -0.096095696) * inp_2_2_1;
    result0 += M4(0.24437481, 0.022506408, -0.29152006, 0.13659278, 0.08169666, -0.029777795, 0.061210476, 0.017965471, -0.09082223, -0.16743481, -0.041808035, 0.13019994, -0.21140379, 0.0045661074, -0.13404574, 0.27832103) * inp_2_0_2;
    result0 += M4(-0.4044506, 0.06287186, -0.21527563, 0.86745155, -0.33464393, 0.21114121, 0.1167167, 0.47445336, 0.11150079, -0.0520392, -0.16917598, 0.46838325, 0.2525921, -0.34247842, 0.18417974, -0.105376594) * inp_2_1_2;
    result0 += M4(0.1409602, -0.18614517, 0.05848484, -0.08061938, -0.073427446, 0.10658209, 0.05807574, 0.24078003, 0.2574425, 0.009684603, 0.03538265, -0.06683377, -0.15270807, -0.06975239, -0.069258, 0.1599791) * inp_2_2_2;
    result1 += M4(-0.12739104, -0.14496255, -0.262968, -0.19187391, 0.2904123, 0.4540565, 0.075122595, 0.12962511, -0.058702875, 0.17484362, 0.13874406, 0.10915801, -0.19743817, 0.0823088, -0.1267988, 0.24016127) * inp_2_0_0;
    result1 += M4(-0.12217406, 0.13973561, 0.025773088, 0.035072394, 0.12600902, 0.21292199, 0.27566567, -0.13730322, 0.07072835, -0.1875381, -0.1568747, -0.06902371, 0.07968062, 0.12742506, -0.16053204, -0.12484598) * inp_2_1_0;
    result1 += M4(-0.009237589, 0.03131475, -0.14711995, 0.06099855, -0.11748554, 0.18665558, -0.108540036, -0.028715994, -0.19627935, -0.3589552, 0.26680395, 0.10229031, -0.038077578, -0.31309912, 0.27020428, -0.11060485) * inp_2_2_0;
    result1 += M4(0.061791204, 0.24018149, -0.0023951323, -0.26659247, 0.25001705, 0.32625207, -0.07040671, -0.22978894, -0.1259304, 0.18859398, 0.0541043, 0.4385397, 0.07752837, 0.28605193, 0.08523257, -0.3691747) * inp_2_0_1;
    result1 += M4(-0.13652495, 0.52592415, 0.95718634, -0.101565294, -0.10979423, -0.029477235, 1.0862567, -0.11870986, 0.1812092, 0.25944254, 0.28410545, -0.4760166, 0.10379307, 0.04926346, 0.4201954, 0.39615178) * inp_2_1_1;
    result1 += M4(0.44338542, -0.016369214, -0.010826893, 0.1379253, -0.33732048, -0.07264288, 0.18797703, -0.1171176, -0.37007874, 0.3786221, 0.36902538, 0.32112896, -0.07969474, -0.112801395, -0.17898248, 0.070305474) * inp_2_2_1;
    result1 += M4(0.22234386, -0.14143763, -0.1519139, 0.6725299, 0.14059211, 0.5665891, -0.20894325, 0.83141613, -0.12237457, -0.11106547, -0.18815227, -0.02794982, 0.108979516, -0.48710665, -0.06078756, -0.09163994) * inp_2_0_2;
    result1 += M4(-0.16323681, -0.32245973, -0.54603034, -0.03255884, 0.1764092, -0.12100868, -0.65350544, -0.19637033, 0.60339904, 0.06576693, -0.47009382, -0.7030116, 0.057254132, 0.4556354, -0.23782569, -0.42754713) * inp_2_1_2;
    result1 += M4(0.20411918, -0.28141406, 0.06416643, 0.14335243, -0.27614948, -0.12055884, -0.16040748, 0.045630857, -0.15922661, -0.49308878, -0.21510114, 0.0019625076, 0.061503462, -0.010529189, 0.055166084, 0.1655365) * inp_2_2_2;
    result2 += M4(-0.047105685, -0.041992407, 0.42181066, -0.15635358, -0.019543905, 0.10162573, 0.1845662, -0.28198373, 0.09688012, 0.006491133, 0.4247398, -0.12384669, -0.00768672, 0.059215765, 0.96706104, -0.80823255) * inp_2_0_0;
    result2 += M4(0.2784867, -0.10838304, 0.35402253, -1.0541652, 0.19390091, -0.03801076, 0.07991069, -0.25974974, 0.10872271, -0.2263187, -0.5372929, 0.6861204, 0.07157428, 0.031911463, -0.5737756, 0.42176533) * inp_2_1_0;
    result2 += M4(0.11210753, -0.047336746, -0.25784963, -0.009420838, -0.036272142, -0.013975023, -0.15089263, 0.07172398, -0.044618327, 0.08871654, -0.3990414, -0.87012494, -0.036136586, -0.13488665, -0.071981125, -0.23394774) * inp_2_2_0;
    result2 += M4(0.030565973, -0.10517609, -0.26480326, 0.713618, -0.18545532, 0.06700731, -0.23124115, 0.6883585, -0.15858288, 0.104811564, 0.40654716, 0.16263305, -0.082466014, 0.03209393, -0.25382638, -0.15356451) * inp_2_0_1;
    result2 += M4(-0.3411799, -0.19153632, 0.037211206, 0.007280104, -0.5253279, -0.609128, -0.17346856, -0.107526235, -0.2711691, -0.64135355, 0.24468663, -0.08708951, -0.082642615, -0.021634156, 0.4315339, -0.26446155) * inp_2_1_1;
    result2 += M4(-0.20016485, -0.0922218, 0.025373455, -0.03755761, 0.035705335, 0.8185326, 0.25104135, 0.043827683, 0.066673964, 1.3583686, 0.55633676, -0.10183933, 0.083212115, 0.07161917, -0.1251162, 0.15227611) * inp_2_2_1;
    result2 += M4(0.24109942, -0.1207624, 0.46951878, 0.105564535, 0.2602223, 0.04079955, 0.24935438, 0.3968723, 0.05387858, -0.20621258, 0.061328214, 0.46958485, 0.2459745, -0.029196393, -0.22803521, 0.83322406) * inp_2_0_2;
    result2 += M4(0.2812818, -0.014164674, -0.1979097, -0.056474704, 0.3182952, -0.27459386, -0.06658153, 0.18438841, 0.52021074, 0.051875677, -0.7271148, 0.041138537, -0.0013590687, -0.24146909, -0.09408836, 0.13393325) * inp_2_1_2;
    result2 += M4(-0.026917359, -0.13766351, -0.19758584, -0.19689819, -0.01847791, -0.009108857, -0.14819783, 0.085514404, -0.1650951, -0.16975628, -0.1554076, -0.1726123, -0.2720278, 0.29560745, -0.16000654, 0.19280867) * inp_2_2_2;
    result3 += M4(0.03989315, -0.19060956, -0.7379339, -0.039921276, 0.012183788, -0.096936695, -0.3969391, -0.3737706, 0.10096615, -0.018930238, -0.009885345, -0.081152804, 0.19904666, -0.19056313, 0.016588114, -0.08083864) * inp_2_0_0;
    result3 += M4(0.19183941, -0.079567924, -0.3021954, 0.06519116, 0.3207664, -0.0018898682, -0.24487552, 0.21553087, 0.17359973, -0.11076489, 0.35155568, -0.26746783, 0.11579063, 0.05900306, -0.2909089, -0.09882306) * inp_2_1_0;
    result3 += M4(0.011138746, 0.14358512, 0.28511024, 0.07236647, -0.15266924, -0.07233541, 0.030262208, 0.13157256, -0.27334568, 0.098608345, -0.39720938, -0.055828076, -0.1937561, -0.06930827, 0.030532626, 0.12731004) * inp_2_2_0;
    result3 += M4(-0.023854708, -0.10203069, -0.0085740555, -1.0357915, 0.10881753, -0.050104644, -0.15064053, -0.580397, -0.0014722701, -0.10313829, 0.25775614, -0.33703598, -0.10325323, 0.34310052, -0.17792709, 0.2440329) * inp_2_0_1;
    result3 += M4(0.47069588, 0.086921625, 0.2250293, 0.18513848, 0.53418785, -0.4471009, 0.53324544, 0.89320755, 0.5251816, 0.19816798, 0.73714846, 1.2087286, -0.28498507, -0.00068319484, -0.054228235, 0.10286043) * inp_2_1_1;
    result3 += M4(-0.091990404, -0.15440388, -0.20676357, 0.17457719, -0.88503534, 0.097741716, -0.18781285, -0.102772266, -1.0094568, 0.22994034, 0.11483221, -0.087101996, -0.30505943, 0.309724, 0.249912, -0.16129228) * inp_2_2_1;
    result3 += M4(-0.044760045, -0.11363431, 0.19594541, -0.25559473, 0.053774394, -0.29181424, 0.09708013, -0.24392843, 0.004180545, -0.08134119, 0.1129191, -0.054005455, 0.22130962, -0.12560344, 0.34469193, -0.1356681) * inp_2_0_2;
    result3 += M4(0.15313303, 0.5720478, -0.031668257, 0.23864211, 0.27179882, 0.47467363, -0.30373442, 0.30377442, 0.059994847, 0.42126706, -0.9271609, -0.31824505, 0.34571964, 0.11721782, -0.313163, -0.123027235) * inp_2_1_2;
    result3 += M4(0.03468054, 0.22877386, -0.16801594, -0.09960991, -0.23010048, -0.151999, -0.11046334, 0.13299505, 0.45974708, -0.23648323, -0.42252448, -0.04762815, 0.06582479, -0.37082016, 0.36372843, 0.22245935) * inp_2_2_2;
    const V4 inp_3_0_0 = inp[3][local_xy.y + 0][local_xy.x + 0];
    const V4 inp_3_1_0 = inp[3][local_xy.y + 0][local_xy.x + 1];
    const V4 inp_3_2_0 = inp[3][local_xy.y + 0][local_xy.x + 2];
    const V4 inp_3_0_1 = inp[3][local_xy.y + 1][local_xy.x + 0];
    const V4 inp_3_1_1 = inp[3][local_xy.y + 1][local_xy.x + 1];
    const V4 inp_3_2_1 = inp[3][local_xy.y + 1][local_xy.x + 2];
    const V4 inp_3_0_2 = inp[3][local_xy.y + 2][local_xy.x + 0];
    const V4 inp_3_1_2 = inp[3][local_xy.y + 2][local_xy.x + 1];
    const V4 inp_3_2_2 = inp[3][local_xy.y + 2][local_xy.x + 2];
    result0 += M4(0.5542856, -0.066470385, 0.14072561, -0.050050005, 0.8120933, -0.39811432, 0.16505995, 0.0022971022, 0.18725915, 0.0005093194, 0.101757035, -2.4534318e-05, 0.018502416, 0.19766903, -0.0015643773, 0.0028732666) * inp_3_0_0;
    result0 += M4(-0.401641, -0.049213257, -0.019959567, 0.10717166, -0.48073536, 0.2716335, 0.049528122, 0.025037257, 0.27001068, -0.15232362, -0.042621113, -0.045695007, 0.07308654, -0.14544159, 0.0066580595, -0.022970514) * inp_3_1_0;
    result0 += M4(0.35945946, 0.07629598, 0.056996454, -0.08701407, 0.44799516, -0.27677652, 0.17028192, -0.12323842, -0.03929291, 0.05993738, 0.003452465, 0.022699261, 0.38956624, -0.06993995, 0.09647424, -0.016964367) * inp_3_2_0;
    result0 += M4(-0.0687614, -0.049487773, 0.03383282, 0.022865912, 0.25721732, -0.0503999, -0.011537609, -0.046673752, -0.28872713, 0.17989607, 0.009844204, -0.062019072, 0.041703597, -0.0735875, -0.0048808088, -0.0993371) * inp_3_0_1;
    result0 += M4(0.17609935, -0.22382493, 0.09357169, 0.061597724, -0.43454838, 0.4948224, 0.013771777, 0.09139746, -0.5514218, 0.6499831, 0.06632793, 0.0020013985, -0.20760292, 0.11951748, 0.07655525, 0.08961077) * inp_3_1_1;
    result0 += M4(0.13162278, -0.13331209, -0.1538647, 0.07041959, -0.6096247, -0.07894644, -0.25015086, -0.11509247, 0.020035794, 0.23524636, 0.023856161, 0.15369092, -0.22159736, 0.14749777, 0.09863914, -0.0030078962) * inp_3_2_1;
    result0 += M4(-0.07213791, 0.049135022, -0.032418966, 0.07465489, -0.22587277, 0.15658352, 0.16457614, -0.097196214, -0.13979429, -0.19845583, -0.08076481, 0.35443962, -0.091382995, 0.0840526, 0.020576099, 0.115398504) * inp_3_0_2;
    result0 += M4(0.050674535, 0.059685327, 0.05200941, -0.5761579, 0.14873224, -0.13723744, -0.047638267, 0.3198144, 0.39310372, -0.008560219, -0.16005546, 1.8131658, -0.0030076995, 0.099256046, -0.039783593, 0.44707203) * inp_3_1_2;
    result0 += M4(-0.002432413, 0.02958182, -0.06709104, -0.13316488, -0.022944333, -0.0063172127, -0.15856156, 0.084642634, -0.29369113, -0.009551593, 0.05465486, 0.26404372, -0.103956625, -0.008351752, -0.07780242, 0.206784) * inp_3_2_2;
    result1 += M4(0.07056863, 0.057224233, 0.10927382, 0.040594466, -0.17945121, -0.04802542, 0.14423226, 0.14250731, -0.102358215, 0.22065356, 0.16931781, 0.1267507, 0.050277542, 0.05935543, 0.073676534, -0.06096014) * inp_3_0_0;
    result1 += M4(-0.1396273, -0.04934901, -0.22129239, -0.025478017, 0.11550404, 0.1622642, 0.07552249, 0.17515528, 0.07445532, -0.23806715, -0.08198153, -0.054021984, -0.31124154, -0.14259861, 0.010385659, 0.09480572) * inp_3_1_0;
    result1 += M4(-0.24768513, -0.11103049, 0.11476549, -0.022592293, -0.12860762, 0.070431285, 0.095535725, -0.19348489, 0.08445343, -0.095247015, 0.008469933, -0.022698034, 0.199826, -0.002100017, -0.061213553, -0.11061293) * inp_3_2_0;
    result1 += M4(-0.011902163, 0.12086655, -0.08832672, -0.0713474, 0.30455032, 0.039872665, 0.18639661, -0.44268644, -0.36300233, 0.2038694, 0.0041093817, 0.409905, 0.2150617, 0.51944715, 0.0045776954, 0.52282) * inp_3_0_1;
    result1 += M4(0.025061516, 0.09124985, -0.016518144, 0.045561966, -0.07048375, -0.087218285, 0.026417766, 0.3145652, -0.014624634, -0.008632881, -0.1592829, -0.23270975, -0.3782273, -0.031342577, -0.01660545, 0.0738146) * inp_3_1_1;
    result1 += M4(0.0401503, -0.06513183, 0.006222545, -0.07233197, -0.018118553, -0.3456498, 0.049677547, -0.08370133, -0.05074073, -0.058884263, 0.058759656, -0.07766675, 0.48997092, -0.010064345, 0.074553296, -0.03481001) * inp_3_2_1;
    result1 += M4(0.37035072, 0.22965868, 0.034590825, 0.030355593, -0.10697932, 0.3104052, -0.11792152, 0.33073518, 0.013553213, -0.9355276, -0.283977, 0.34423384, 0.20728232, 0.15767524, -0.15639697, 0.47025093) * inp_3_0_2;
    result1 += M4(0.05896399, 0.26889822, 0.38133875, 0.059300087, -0.18721057, -0.16384175, -0.2650331, -0.28703317, 0.6755074, -0.6826616, -1.2694434, -0.28946373, -0.32160622, -0.17848924, -0.14809199, -0.03370348) * inp_3_1_2;
    result1 += M4(-0.2505038, -0.041835472, 0.16464333, 0.015602445, 0.040552985, 0.044173967, -0.124181874, -0.016204575, 0.1254064, -0.31024736, -0.28478682, -0.090209186, 0.23405464, -0.18358478, -0.1169424, -0.04882905) * inp_3_2_2;
    result2 += M4(0.07850491, 0.10085807, 0.45351064, 0.13559116, 0.16712326, 0.085747264, 0.5777628, 0.2463079, 0.048929833, 0.020513697, -0.21672195, 0.34201017, -0.025913322, 0.013768732, -0.041170742, 0.4610086) * inp_3_0_0;
    result2 += M4(0.25690222, -0.15531074, 0.061801836, -0.10257417, -0.21597514, 0.043632627, -0.05298144, -0.6781675, -0.13016093, -0.086729914, 0.096652135, 0.09990315, -0.042524133, -0.113546506, -0.033630274, -0.0021779116) * inp_3_1_0;
    result2 += M4(0.20549849, 0.35462147, 0.21888418, 0.020962263, -0.08747808, -0.122035205, 0.33989006, -0.07824485, 0.053433992, 0.16616526, -0.038165707, -0.08226763, 0.12285085, 0.14944544, 0.07114329, -0.15787284) * inp_3_2_0;
    result2 += M4(-0.07704949, 0.042117905, -0.43491414, -0.055900425, 0.035944477, 0.27419186, -0.72662336, 0.12348521, 0.104948446, -0.17315242, 0.037711788, -0.0429369, -0.011362416, 0.10518734, -0.018680632, -0.09768895) * inp_3_0_1;
    result2 += M4(0.0106119225, -0.15050048, -0.30829293, -0.4111012, 0.21050185, -0.2909591, 0.079973206, 0.0861432, -0.19623859, 0.11171609, -0.029110683, 0.036701407, 0.07954255, -0.33653575, -0.0027656788, 0.114559956) * inp_3_1_1;
    result2 += M4(-0.07609698, 0.04887519, 0.03861143, -0.11148407, -0.15268025, 0.0033880575, -0.4087634, 0.20641477, 0.15574582, 0.26534307, 0.1710048, -0.3019251, -0.17373204, -0.22878453, -0.15285178, 0.06294495) * inp_3_2_1;
    result2 += M4(0.0078103505, 0.0069806427, 0.07744665, 0.3251097, -0.05364601, 0.00802625, 0.5966897, 0.45338857, 0.11540865, -0.057112988, 0.20019162, 0.012531026, 0.12547825, -0.04106782, 0.14246681, 0.096400656) * inp_3_0_2;
    result2 += M4(-0.38571614, -0.17015652, -0.038670722, 0.20787221, 0.21211892, -0.07973649, -0.62196845, -0.11043, 0.75715566, 0.21445026, 0.012564827, 0.15478, 0.22214434, -0.12677939, 0.19648084, 0.0051860567) * inp_3_1_2;
    result2 += M4(-0.58123624, 0.011397906, 0.11244327, 0.18578388, 0.14330603, 0.082958296, 0.2762158, -0.04711354, 0.25745386, -0.17166337, -0.16928324, -0.054997228, 0.20810258, 0.14754958, -0.047278967, -0.0046892148) * inp_3_2_2;
    result3 += M4(0.03188387, -0.08186103, -0.17926632, 0.071093865, -0.06669736, -0.13950086, 0.22885855, 0.112849206, 0.025456397, -0.02660192, 0.09355071, -0.14548454, -0.029559605, -0.006801472, -0.07313867, -0.11429854) * inp_3_0_0;
    result3 += M4(0.14094645, -0.06269083, -0.14617036, 0.03493999, -0.16119581, -0.045287225, -0.28989783, 0.14031251, -0.06465132, 0.1494053, 0.22195569, 0.09548907, 0.21417959, -0.046049923, -0.12968081, 0.025842873) * inp_3_1_0;
    result3 += M4(-0.12108494, 0.07905613, -0.16786563, 0.010456226, -0.21662031, 0.13413861, 0.053224906, 0.08106367, -0.06274399, -0.04564134, -0.13318212, -0.010326566, 0.08303244, 0.0028915645, -0.15452458, 0.013883512) * inp_3_2_0;
    result3 += M4(-0.050541285, 0.3483815, 0.14247432, -0.008540892, -0.036513157, 0.29960528, 0.48776507, -0.382577, 0.19415578, -0.12383215, 0.020690791, -0.26467076, 0.14467244, 0.090409815, 0.085477315, -0.41503415) * inp_3_0_1;
    result3 += M4(0.18781036, 0.03236831, -0.1102473, 0.20247288, 0.5763456, -0.017443532, -0.009765391, -0.10470216, 0.14231426, 0.15481631, 0.347625, 0.27739108, 0.13106829, 0.05735459, 0.027734451, -0.72331125) * inp_3_1_1;
    result3 += M4(-0.10134468, 0.18399961, 0.3409771, 0.030657291, -0.0838054, 0.082721114, 0.000294818, 0.036296252, -0.38558072, -0.034446456, -0.4144446, 0.23166001, 0.17948464, 0.16538249, 0.31245846, 0.029911825) * inp_3_2_1;
    result3 += M4(0.0047396454, -0.2598611, -0.41629624, -0.12530783, 0.09408079, -0.35854605, 0.2078955, -0.20279294, 0.007899193, 0.3701198, -0.16655417, -0.10406832, 0.12415262, -0.26448715, -0.23156, -0.16529311) * inp_3_0_2;
    result3 += M4(0.09717148, -0.6830081, 0.36075354, -0.23915167, -0.117336035, -0.09008954, -0.76073605, 0.12874287, 0.176536, 0.66716963, -0.49204355, 0.14595175, 0.11040195, -0.016757008, 0.048781175, -0.0012583028) * inp_3_1_2;
    result3 += M4(-0.17763579, -0.30448344, 0.13218795, 0.05418703, -0.01212176, -0.01884496, 0.37958127, 0.22753584, -0.27402693, 0.07142252, -0.297597, -0.04484812, -0.031029083, 0.12476036, -0.132143, 0.07612778) * inp_3_2_2;
    const ivec2 output_base = ivec2(gl_GlobalInvocationID) * ivec2(2, 2);
    imageStore(out_image, output_base + ivec2(0, 0), max(result0, V4(0.0)));
    imageStore(out_image, output_base + ivec2(1, 0), max(result1, V4(0.0)));
    imageStore(out_image, output_base + ivec2(0, 1), max(result2, V4(0.0)));
    imageStore(out_image, output_base + ivec2(1, 1), max(result3, V4(0.0)));
}

//!DESC ArtCNN C4F16 Soft (Conv2D-2-ReLU)
//!COMPUTE 24 32 12 16
//!HOOK LUMA
//!BIND conv2d_1
//!SAVE conv2d_2
//!WIDTH LUMA.w 2.0 *
//!HEIGHT LUMA.h 2.0 *
//!COMPONENTS 4
//!WHEN OUTPUT.w LUMA.w / 1.3 > OUTPUT.h LUMA.h / 1.3 > *
#extension GL_EXT_shader_explicit_arithmetic_types_float16 : enable
#ifdef GL_EXT_shader_explicit_arithmetic_types_float16
#	define V4 f16vec4
#	define M4 f16mat4
#	define F float16_t
#else
#	define V4 vec4
#	define M4 mat4
#	define F float
#endif

const ivec2 ksize = ivec2(3, 3);
const ivec2 offset = ksize / 2;
const ivec2 wg_size = ivec2(gl_WorkGroupSize);
const ivec2 isize = wg_size + ksize - 1;
shared V4 inp[4][isize.y][isize.x];
void hook() {
    const uvec2 local_xy = gl_LocalInvocationID.xy;
    ivec2 base = ivec2(gl_WorkGroupID) * wg_size;
    for (uint y = local_xy.y; y < isize.y; y += wg_size.y) {
        for (uint x = local_xy.x; x < isize.x; x += wg_size.x) {
            const ivec2 input_base = (base + ivec2(x,y) - offset) * ivec2(2, 2);
            inp[0][y][x] = V4(conv2d_1_mul * texelFetch(conv2d_1_raw, input_base + ivec2(0, 0), 0));
            inp[1][y][x] = V4(conv2d_1_mul * texelFetch(conv2d_1_raw, input_base + ivec2(1, 0), 0));
            inp[2][y][x] = V4(conv2d_1_mul * texelFetch(conv2d_1_raw, input_base + ivec2(0, 1), 0));
            inp[3][y][x] = V4(conv2d_1_mul * texelFetch(conv2d_1_raw, input_base + ivec2(1, 1), 0));
        }
    }

    barrier();
    V4 result0 = V4(0.016097676, 0.023739167, -0.00184798, 0.029989548);
    V4 result1 = V4(-0.0199882, 0.043582104, 0.012388864, 0.028777342);
    V4 result2 = V4(0.056207005, 0.064986445, -0.08647692, 0.010542236);
    V4 result3 = V4(-0.024670629, 0.008248818, 0.0106254965, 0.0020576534);
    const V4 inp_0_0_0 = inp[0][local_xy.y + 0][local_xy.x + 0];
    const V4 inp_0_1_0 = inp[0][local_xy.y + 0][local_xy.x + 1];
    const V4 inp_0_2_0 = inp[0][local_xy.y + 0][local_xy.x + 2];
    const V4 inp_0_0_1 = inp[0][local_xy.y + 1][local_xy.x + 0];
    const V4 inp_0_1_1 = inp[0][local_xy.y + 1][local_xy.x + 1];
    const V4 inp_0_2_1 = inp[0][local_xy.y + 1][local_xy.x + 2];
    const V4 inp_0_0_2 = inp[0][local_xy.y + 2][local_xy.x + 0];
    const V4 inp_0_1_2 = inp[0][local_xy.y + 2][local_xy.x + 1];
    const V4 inp_0_2_2 = inp[0][local_xy.y + 2][local_xy.x + 2];
    result0 += M4(-0.03404036, 0.016996518, 0.024213793, 0.02568354, 0.014399246, -0.08418265, -0.053331565, -0.040334005, -0.17563048, 0.22755446, -0.056134712, -0.028595014, 0.11756084, -0.043201506, 0.018646978, -0.06062102) * inp_0_0_0;
    result0 += M4(-0.12858863, -0.09833873, 0.055351883, 0.035142753, -0.059044126, -0.038359575, -0.066536464, -0.025136719, 0.20581242, 0.0360119, -0.0754046, -0.07747402, -0.13001606, 0.5645004, 0.21867593, 0.23736788) * inp_0_1_0;
    result0 += M4(0.10735697, 0.16095483, 0.0043997974, -0.03540349, -0.0065552434, -0.029267715, -0.022700977, 0.012719552, 0.15008166, 0.07956868, 0.0918725, -0.028207054, -0.05874579, 0.030430647, 0.053333502, 0.0002703192) * inp_0_2_0;
    result0 += M4(-0.101948895, -0.19076942, 0.07407983, -0.007858852, -0.12994951, -0.020343034, -0.1381802, -0.03972988, 0.034581702, 0.16164853, 0.17523883, 0.07006845, 0.12414499, 0.025990551, -0.012463494, -0.035725474) * inp_0_0_1;
    result0 += M4(-0.14566225, 0.5772504, -0.3409879, -0.043852188, 0.05333617, -0.078241274, -0.17765114, -0.013922106, 0.055358354, 0.15064317, 0.051159017, 0.117737316, -0.8091143, -0.0077802823, -0.2503327, 0.03991784) * inp_0_1_1;
    result0 += M4(0.12030768, -0.28015116, 0.18856463, 0.08728978, -0.028973538, 0.44711146, -0.080633126, 0.016005933, -0.18451849, -0.3707772, -0.073393464, 0.009707516, -0.91699094, 0.1469193, 0.14812867, 0.12601267) * inp_0_2_1;
    result0 += M4(0.23511942, 0.23013848, 0.09433155, -0.0042547765, 0.17548396, -0.13742344, 0.09718434, -0.07099113, 0.10586615, 0.029423984, -0.11607119, -0.08425839, 0.110264726, -0.1972903, 0.06335745, -0.034508828) * inp_0_0_2;
    result0 += M4(0.698873, 0.2245201, 0.26740417, 0.11487995, 0.3586702, 0.053652048, 0.15695512, 0.0049583535, -0.32390592, -0.4499986, -0.07704724, -0.17343594, 0.22069298, -0.045739356, 0.0034867767, -0.015038482) * inp_0_1_2;
    result0 += M4(-0.20566796, -0.0047596446, -0.4063143, -0.18954834, 0.2306445, -0.1478441, -0.059349958, -0.13206021, 0.06221164, 0.1345533, 0.06481008, 0.11115511, -0.3104447, 0.09974515, 0.039209656, -0.004677852) * inp_0_2_2;
    result1 += M4(-0.022314696, -0.09695002, -0.04800148, 0.1482189, 0.05850747, 0.12842149, 0.05184336, 0.13676979, -0.3240042, -0.0031574962, 0.07048676, 0.030276429, -0.28257743, -0.455951, 0.019525437, 0.462049) * inp_0_0_0;
    result1 += M4(-0.055102754, -0.054939594, -0.02502912, -0.07447303, -0.050787576, -0.17140196, 0.013725847, 0.12605053, 0.4171207, -0.06780789, 0.27118948, -0.13784042, -0.94822884, -0.7348688, 0.053560253, -0.20175958) * inp_0_1_0;
    result1 += M4(0.1540503, 0.051356662, -0.039138652, 0.14071527, 0.06479822, -0.16165815, 0.057597667, 0.13448383, -0.024854818, 0.27222577, -0.16926697, 0.06686192, -0.23432867, -0.46836576, -0.3322994, 0.09129877) * inp_0_2_0;
    result1 += M4(0.13673028, 0.03509855, -0.15903594, 0.13870707, 0.07844609, 0.46814746, 0.27345648, -0.046251617, 0.076638535, -0.3981935, 0.17174843, -0.1533315, -0.31437936, -0.014723973, -0.0529076, 0.110291086) * inp_0_0_1;
    result1 += M4(0.010329971, -0.0007109044, 0.48863217, 0.08518619, -0.8962488, 0.2864528, 0.35685685, 0.22852355, 0.10158238, -0.07001365, -0.772205, -0.54909486, -0.042808127, -0.3899748, 0.1907957, 0.5833237) * inp_0_1_1;
    result1 += M4(-0.14986917, -0.038622115, -0.25864646, -0.08542596, 0.25610203, 0.09088409, 0.26335934, 0.16798002, -0.04670603, 0.27281857, 0.27157047, 0.55534685, -0.038193747, -0.21503884, -0.07273645, 0.17882787) * inp_0_2_1;
    result1 += M4(-0.21439944, 0.18975836, 0.42992932, 0.24375819, -0.0005200739, 0.16412337, 0.15050668, 0.14862119, 0.040480476, -0.19295901, -0.12598978, -0.10032754, -0.10367241, -0.059035093, 0.013989783, 0.14439724) * inp_0_0_2;
    result1 += M4(-0.23837613, -1.3014882, -1.206647, -1.3119099, -0.089421615, 0.053740557, 0.22561973, -0.029040406, 0.1074315, -0.32476035, -0.10152768, -0.23696561, -0.1700038, -0.0069991243, 0.023790846, -0.33990914) * inp_0_1_2;
    result1 += M4(0.059426665, 0.85633874, 0.31413728, 0.48246, 0.04688992, -0.10422022, 0.20477359, -0.22493477, 0.05869218, -0.0029414555, 0.06188414, 0.21979865, 0.021281704, -0.100446396, 0.0063309646, 0.27892897) * inp_0_2_2;
    result2 += M4(0.049511433, -0.020955792, -0.08822087, 0.008457163, 0.03282576, -0.041046206, 0.0119351875, 0.06633028, 0.007264736, 0.17281692, -0.04821383, -0.113585964, 0.30292875, 0.106685326, -0.17588109, -0.30295417) * inp_0_0_0;
    result2 += M4(0.07921651, 0.0033371795, -0.03327426, -0.13887659, -0.074735664, -0.045163035, 0.15040752, 0.021897089, 0.04651527, -0.050847106, -0.028050069, -0.08343897, 0.10010946, -0.05830485, -0.44347745, -0.12755543) * inp_0_1_0;
    result2 += M4(0.0572803, -0.062098257, -0.0071969023, 0.09876267, 0.023697367, -0.0060397424, 0.050753172, -0.0035123075, -0.101415105, 0.062188666, -0.13213266, 0.20824443, 0.081507094, -0.1743286, -0.17762394, -0.14457127) * inp_0_2_0;
    result2 += M4(0.17378855, 0.06975263, 0.08254804, -0.1526746, -0.19803418, -0.015072988, 0.17679997, 0.28519306, -0.39288563, -0.30454084, -0.31040803, -0.038018957, 0.18126372, 0.082374826, -0.40253326, -0.28410923) * inp_0_0_1;
    result2 += M4(-0.060019266, -0.328765, 0.100154966, -0.07755119, -0.12176308, 0.24464916, 0.1841196, 0.10707663, -0.069399126, -0.032425303, -0.8417588, -0.20712708, 0.30233982, -0.52582777, -3.2983944, -0.70457995) * inp_0_1_1;
    result2 += M4(-0.09670533, 0.20943072, -0.099021845, -0.13591062, -0.1563851, 0.12541384, 0.2884909, -0.007293912, 0.053334676, -0.050954595, -0.30464882, 0.041815106, 0.15835781, -0.06491943, 0.34734794, -0.32289425) * inp_0_2_1;
    result2 += M4(0.43598104, 0.20550524, -0.015845576, -0.50250775, -0.024888353, 0.005979975, -0.012915025, 0.65629464, 0.3298459, 0.11213437, 0.11579121, 0.23336564, -0.15914184, 0.029006395, 0.013214546, -0.10361492) * inp_0_0_2;
    result2 += M4(0.49893683, 1.5679971, -0.5037334, -0.76633644, -0.1067707, 0.21370572, -0.0708074, 0.9264875, -0.15690939, -0.43785542, 1.9472437, -0.21356815, 0.24439822, -0.31511933, -0.51471835, -0.51084405) * inp_0_1_2;
    result2 += M4(0.30085576, -0.71906865, -0.2031715, -0.22780594, 0.028392052, 0.0030420849, 0.25033063, 0.23538318, 0.03407571, 0.11288687, 0.12100534, 0.15178323, 0.17043674, 0.04523765, -0.034342922, -0.1588334) * inp_0_2_2;
    result3 += M4(0.03632103, 0.01079001, 0.041329287, -0.019821428, 0.015484509, 0.014504672, -0.015533198, -0.0067496253, 0.022925012, -0.083771095, -0.05135166, 0.13857032, -0.04663822, -0.016703853, 0.018045546, -0.06249905) * inp_0_0_0;
    result3 += M4(-0.0033178888, -0.043486807, 0.02541171, -0.027735291, -0.01836924, 0.01723482, -0.017233755, 0.00747477, 0.062695816, -0.04249808, -0.06147633, 0.023838496, -0.026113521, -0.033250432, -0.028135652, -0.27252272) * inp_0_1_0;
    result3 += M4(0.037330337, -0.042434357, -0.014540666, -0.06882116, 0.032248847, 0.041247666, -0.017039284, 0.007885247, -0.20926239, -0.09531445, 0.10201352, -0.20765233, 0.23547594, 0.17611319, 0.05874568, -0.010658094) * inp_0_2_0;
    result3 += M4(0.13491656, 0.20440146, -0.1215186, 0.23393317, -0.0015086109, -0.020390013, -0.10015979, 0.26854372, 0.049115147, 0.09831961, 0.004453407, -0.27458528, -0.10331698, 0.11756444, -0.06938729, 0.031747866) * inp_0_0_1;
    result3 += M4(0.42772803, -0.13507701, 0.05891622, -0.024728086, 0.0117539475, -0.14154892, -0.023031244, 0.43207073, 0.09949309, 0.007692661, 0.04022411, 0.1361884, -0.14770456, 0.39473894, 0.39764935, -0.36120152) * inp_0_1_1;
    result3 += M4(-0.6246694, 0.21053974, -0.0019289581, -0.20970745, 0.03779842, 0.02593707, -0.038507402, 0.22304124, 0.18188043, -0.01524065, -0.0649586, 0.24781784, -0.23246372, 0.2952369, 0.12614475, -0.12277675) * inp_0_2_1;
    result3 += M4(-0.1416178, -1.1681488, -0.012100982, -0.610033, -0.03397303, -0.39558122, -0.0012234661, -0.05281948, -0.004314965, -3.5439801, -0.05884005, 0.019943105, 0.023267172, 0.26616013, 0.045618676, 0.10126529) * inp_0_0_2;
    result3 += M4(0.10998593, -0.79233766, 0.19685264, 0.9878981, -0.06723962, -0.7918933, 0.21249776, 0.20059775, -0.037733972, -3.672699, -0.013746355, -0.14076091, 0.0068234857, 0.15011357, -0.046125773, -0.055590264) * inp_0_1_2;
    result3 += M4(0.12945393, 0.14436519, -0.28391656, -0.0016949297, 0.10139999, -0.23838817, -0.039746176, 0.29397818, 0.029272959, -3.1409063, 0.06537651, -0.14718585, -0.05456256, 0.33033374, -0.061179906, 0.076778844) * inp_0_2_2;
    const V4 inp_1_0_0 = inp[1][local_xy.y + 0][local_xy.x + 0];
    const V4 inp_1_1_0 = inp[1][local_xy.y + 0][local_xy.x + 1];
    const V4 inp_1_2_0 = inp[1][local_xy.y + 0][local_xy.x + 2];
    const V4 inp_1_0_1 = inp[1][local_xy.y + 1][local_xy.x + 0];
    const V4 inp_1_1_1 = inp[1][local_xy.y + 1][local_xy.x + 1];
    const V4 inp_1_2_1 = inp[1][local_xy.y + 1][local_xy.x + 2];
    const V4 inp_1_0_2 = inp[1][local_xy.y + 2][local_xy.x + 0];
    const V4 inp_1_1_2 = inp[1][local_xy.y + 2][local_xy.x + 1];
    const V4 inp_1_2_2 = inp[1][local_xy.y + 2][local_xy.x + 2];
    result0 += M4(-0.08717154, -0.109522, 0.016308134, -0.047612414, -0.021184282, -0.015428808, 0.06197475, 0.045957416, -0.01755057, -0.24055254, -0.03531002, 0.02352807, -0.061911974, 0.09940589, 0.03764961, 0.028086653) * inp_1_0_0;
    result0 += M4(0.09409548, 0.10283149, -0.08887267, 0.036795534, -0.030186525, 0.49598745, 0.12964238, 0.049990203, -0.1359623, -1.1570705, -0.24402075, -0.055917542, -0.07812552, 0.28946528, -0.10418228, -0.036554016) * inp_1_1_0;
    result0 += M4(0.27637875, 0.056424305, -0.00010527975, -0.04901916, -0.15826787, 0.16281961, 0.037633132, -0.0021329133, 0.25404546, -0.2103273, 0.013768, 0.0077329013, 0.114154875, 0.20975128, 0.15760045, 0.113815986) * inp_1_2_0;
    result0 += M4(-0.05640147, -0.04936732, 0.15629864, 0.0052304543, -0.18536878, 0.099537164, 0.019792456, 0.056422304, -0.018274153, -0.3075214, -0.022526722, 0.016925314, 0.13501254, -0.05792301, -0.016894445, -0.015707843) * inp_1_0_1;
    result0 += M4(0.16789311, 0.19260101, 0.04545233, -0.08703542, -0.120856516, 0.16484432, -0.032018475, 0.10647064, 0.44455692, -0.029596047, 0.79974544, 0.26111197, 0.12659122, -0.38402802, 0.14569299, 0.053095415) * inp_1_1_1;
    result0 += M4(-0.5586839, -0.037589338, -0.111605674, -0.009794417, -0.8779158, 0.039539803, 0.1328219, 0.076968975, 0.52127826, -0.022383435, -0.07370501, 0.014526922, 0.42765975, -0.2522882, -0.060342643, -0.014937356) * inp_1_2_1;
    result0 += M4(-0.15235162, -0.10622004, 0.059952434, 0.0535226, 0.0019711372, -0.07905683, -0.011203983, -0.0093680285, -0.056349892, 0.029613333, 0.023778742, 0.028694341, -0.03899617, -0.099658325, 0.041906644, 0.009351595) * inp_1_0_2;
    result0 += M4(-0.07167905, -0.060959917, 0.04596911, 0.09459598, -0.059428155, 0.058432583, -0.0125596, -0.009224949, 0.24624802, 0.12268664, -0.029141676, 0.0048754155, -0.070457794, -0.040086642, 0.019928956, 0.032198366) * inp_1_1_2;
    result0 += M4(0.3488512, -0.07017928, 0.008786533, 0.03186336, -0.14219697, 0.06428008, -0.030350387, 0.019802421, 0.05062082, -0.12516372, 0.01564624, 0.012581943, 0.11203139, 0.01662329, 0.022383817, -0.014049097) * inp_1_2_2;
    result1 += M4(0.4585978, 0.17200537, -0.3882455, -0.3265549, 0.028271826, 0.052585453, -0.0551599, 0.10635336, 0.0084951855, -0.03191846, -0.09248888, -0.2980533, 0.14138795, -0.0069596726, -0.04043377, -0.06293154) * inp_1_0_0;
    result1 += M4(-0.065170825, 0.18983722, 0.11568649, -0.29376602, 0.28539246, 0.2688998, 0.055319235, 0.08141603, -0.26875806, -1.135329, 0.21524441, 0.31875536, 0.044707663, -0.045922834, 0.044304114, -0.4438591) * inp_1_1_0;
    result1 += M4(0.030250499, -0.023158746, 0.034682397, -0.112929165, 0.21957588, 1.1234078, -0.19696864, 0.22539508, -0.0906426, -1.1694221, 0.16069414, -0.4632502, -0.2006187, -1.4163125, -0.13194613, 0.046198126) * inp_1_2_0;
    result1 += M4(0.15827636, 0.19986537, -0.30162922, 0.022716708, -0.066501245, -0.066630825, 0.0055021327, 0.11392914, -0.166979, 0.13020076, -0.05749343, 0.06683713, 0.055067502, -0.06911894, -0.07262234, -0.07042827) * inp_1_0_1;
    result1 += M4(0.34542644, -0.46795765, -0.07779071, -0.480248, 0.13567407, -0.13128889, -0.20879765, 0.11159877, -0.71922016, -0.30854067, 0.55696124, -0.07046585, 0.008917017, 0.08817065, -0.133302, 0.2979371) * inp_1_1_1;
    result1 += M4(-0.18504561, -0.011037036, -0.09400871, 0.4598878, 0.08589489, 0.5244247, -0.06357731, 0.9514285, -0.08562403, -0.18865299, -0.14159721, -0.9070715, -0.008212534, -0.5080479, -0.51702404, -0.62879777) * inp_1_2_1;
    result1 += M4(0.12520024, -0.11955214, -0.07392101, 0.17799988, 0.094442114, 0.1275268, -0.00461463, 0.03865941, -0.0321615, 0.097892046, 0.049385328, -0.10212909, -0.019583551, -0.015195727, -0.0009818318, -0.0748942) * inp_1_0_2;
    result1 += M4(-0.045223884, -0.28398862, 0.14073063, 0.2963246, 0.06383934, -0.14356486, 0.010563788, 0.48976195, -0.012115057, -0.050149694, 0.006401946, -0.38059074, 0.12767544, 0.09938811, -0.002737046, -0.10407454) * inp_1_1_2;
    result1 += M4(-0.059276205, 0.14721867, 0.16411948, -0.24520293, 0.030047212, -0.23493586, 0.0016487193, 0.563458, -0.075321555, 0.065031394, -0.06712261, -0.3349356, 0.05012256, -0.13100106, -0.06326148, -0.3928193) * inp_1_2_2;
    result2 += M4(-0.13272397, -0.27185938, 0.27029884, -0.07947936, 0.15770602, 0.013663313, 0.013270275, -0.10126362, -0.18401551, -0.012415757, 0.021680336, 0.030762421, -0.025063068, -0.13775642, -0.0035403594, 0.040439267) * inp_1_0_0;
    result2 += M4(-0.12495131, -0.02392713, -0.0350323, -0.13287719, 0.1717262, -0.029317489, -0.008962572, 0.0022740897, -0.48209697, -0.1903921, 0.08143252, 0.07020072, -0.13346463, -0.26398402, -0.14003792, -0.06351369) * inp_1_1_0;
    result2 += M4(0.015288586, -0.15709415, 0.054060634, 0.14754231, 0.195572, 0.06842661, 0.0010065248, -0.09416536, 0.023295088, 0.06467531, 0.016392633, 0.17871228, -0.33873165, -0.13542496, -0.24295591, 0.031907503) * inp_1_2_0;
    result2 += M4(-0.18601549, -0.31348023, 0.4242896, 0.12906976, 0.21121207, -0.00279882, -0.047612295, -0.2132685, -0.39733908, -0.017829757, 0.3094329, -0.3211026, -0.06548498, -0.084975675, 0.006859804, 0.12133511) * inp_1_0_1;
    result2 += M4(0.21850587, -0.13434435, -0.41443262, 0.5506765, 0.6931924, -0.20618618, -0.4847861, -0.8954906, -0.10064437, 0.50347835, 0.31470162, 0.076278634, -0.3887294, 0.09595911, 0.45804247, 0.25686803) * inp_1_1_1;
    result2 += M4(0.02309797, 0.098692805, -0.24387215, -0.025752382, 0.18711118, 0.068358846, 0.40820783, -0.40589565, -0.25140354, 0.09383917, -0.2725411, 0.048152085, 0.3315066, 0.30347067, -5.1860323, 0.29009026) * inp_1_2_1;
    result2 += M4(0.07453964, -0.22338216, 0.08254284, -0.22476879, 0.029470503, -0.008279453, -0.010869437, -0.1648119, -0.11759278, -0.021062203, -0.24539728, -0.1267329, -0.03639159, 0.0020784847, 0.030798718, -0.0178033) * inp_1_0_2;
    result2 += M4(-0.035344847, 0.3765225, 0.54810965, -0.29135057, 0.09591968, 0.0674363, 0.30427665, -0.33820745, -0.1055214, 0.13069862, -1.628493, 0.21048243, -0.18799356, -0.12170354, -0.23440768, 0.2942762) * inp_1_1_2;
    result2 += M4(-0.039714985, 0.043208092, 0.031345747, -0.20288414, 0.19418074, -0.0073519396, -2.057211, -0.35870004, -0.14409669, -0.03967853, 0.32836986, 0.008294149, -0.16031319, -0.12759961, 0.16963145, 0.3523331) * inp_1_2_2;
    result3 += M4(-0.039659455, 0.023570996, -0.1520978, -0.18764447, 0.038434613, 0.02504762, 0.05538146, -0.002341601, -0.04019537, -0.0072866194, -0.03442749, -0.05842938, -0.07159041, -0.00082655554, -0.012235899, 0.058741152) * inp_1_0_0;
    result3 += M4(0.21118903, 0.13073117, -0.00054988376, 0.06696288, 0.051194903, 0.027784364, 0.04472938, -0.09337812, 0.04360583, 0.13472763, -0.050394263, -0.04741572, -0.11914987, 0.28242564, 0.056376304, -0.018775692) * inp_1_1_0;
    result3 += M4(-0.73078215, 0.13600342, 0.033219595, -0.12824954, -0.22083437, -0.036486004, 0.05504122, -0.042184882, -0.46254453, -0.11871612, -0.0030219825, -0.17711674, -0.66021377, -0.22662696, -0.055904545, -0.054812927) * inp_1_2_0;
    result3 += M4(0.07823534, -0.55560005, 0.08055129, -0.13250232, -0.0030051419, 0.114661045, -0.0155807445, 0.0029649753, 0.03999361, -0.76953334, 0.0559126, -0.06535313, 0.044108953, -0.19702213, 0.008894378, -0.10429491) * inp_1_0_1;
    result3 += M4(0.5623419, 0.4866185, 0.10050307, -0.39279467, -0.0014607228, -0.0889967, 0.010034491, 0.06834625, -0.1282573, -0.7672274, -0.13095346, 0.098735474, 0.22642475, 0.7832792, -0.0047168136, 0.04921927) * inp_1_1_1;
    result3 += M4(-0.052946396, -0.035525765, -0.06491254, 0.03697233, 0.21997227, 0.0020029205, 0.020926569, 0.060624562, -0.1396766, -1.0187148, -0.019782968, -0.22868097, -0.11996371, -0.70360315, 0.02321011, -0.26243445) * inp_1_2_1;
    result3 += M4(-0.08403234, 0.946801, 0.009825389, 0.00084834837, 0.0038015312, -0.78028166, -0.0208881, 0.041678235, 0.018234678, 0.6420856, 0.010466501, 0.0021814336, 0.014795075, 0.03505503, 0.035758354, 0.007862037) * inp_1_0_2;
    result3 += M4(0.252014, -1.5267754, 0.0010976512, 0.23359196, -0.10422753, -0.91529465, 0.024538433, 0.014843296, 0.06555018, 0.8038799, -0.008938076, -0.054873906, 0.0061363196, -1.7891614, -0.020172764, 0.03668095) * inp_1_1_2;
    result3 += M4(0.07984128, -0.12098254, 0.011915424, 0.019441033, -0.02952453, 0.5274732, -0.051679097, -0.02227249, 0.0067817583, -2.3162594, 0.07232666, -0.017698625, -0.014669697, -1.626492, 0.01631946, 0.0911916) * inp_1_2_2;
    const V4 inp_2_0_0 = inp[2][local_xy.y + 0][local_xy.x + 0];
    const V4 inp_2_1_0 = inp[2][local_xy.y + 0][local_xy.x + 1];
    const V4 inp_2_2_0 = inp[2][local_xy.y + 0][local_xy.x + 2];
    const V4 inp_2_0_1 = inp[2][local_xy.y + 1][local_xy.x + 0];
    const V4 inp_2_1_1 = inp[2][local_xy.y + 1][local_xy.x + 1];
    const V4 inp_2_2_1 = inp[2][local_xy.y + 1][local_xy.x + 2];
    const V4 inp_2_0_2 = inp[2][local_xy.y + 2][local_xy.x + 0];
    const V4 inp_2_1_2 = inp[2][local_xy.y + 2][local_xy.x + 1];
    const V4 inp_2_2_2 = inp[2][local_xy.y + 2][local_xy.x + 2];
    result0 += M4(-0.037355583, -0.0014717986, 0.013674203, 0.043993283, -0.28982997, -0.0061616194, 0.18947561, -0.025045848, -0.06718394, -0.0571956, 0.0003316398, 0.022390239, 0.008338922, -0.09651973, -0.020428117, 0.033489794) * inp_2_0_0;
    result0 += M4(0.041555602, -0.35529637, -0.017520567, 0.011535748, -0.28757668, 0.20287381, -0.23850347, -0.06647627, -0.06520268, -0.08024754, 0.004334945, 0.044246275, 0.053383496, 0.009734688, 0.06097117, 0.030731216) * inp_2_1_0;
    result0 += M4(0.0013415855, -0.0155747365, 0.01636506, -0.0034928778, -0.108337276, -0.0024678947, 0.0764787, -0.028657118, 0.016617697, 0.0049423156, -0.02656208, 0.014250599, 0.09132447, -0.06888214, 0.059898753, 0.01622994) * inp_2_2_0;
    result0 += M4(-0.13839573, 0.32087725, 0.01550126, 0.0681077, 0.14030915, 0.20368947, -0.11361093, 0.60874224, -0.020335248, 0.055019595, -0.05198027, -0.00060400704, 0.04741243, -0.117527045, -0.027701393, -0.0009756207) * inp_2_0_1;
    result0 += M4(0.8170458, -0.38228244, 0.23838434, 0.063689254, 0.3585732, -0.35383496, 0.31914833, 0.14851408, -0.046952218, 0.07602904, -0.060820185, -0.101741366, 0.11835762, -0.40222958, 0.05462143, -0.009323229) * inp_2_1_1;
    result0 += M4(0.8399952, -0.09188771, -0.027510714, -0.047258884, 0.014191655, -0.025587799, -0.025092568, 0.0778709, 0.04345844, 0.029908938, -0.03485081, -0.00925932, 0.2851371, -0.40612677, -0.03989426, -0.038690124) * inp_2_2_1;
    result0 += M4(-0.13227104, 0.16470248, -0.050695878, 0.044409413, 0.09107857, 0.39198205, 0.21889573, 0.04287999, 0.053400975, 0.03592012, 0.033752553, 0.027114578, 0.15714897, -0.086948834, 0.06034861, 0.040445223) * inp_2_0_2;
    result0 += M4(-0.3934946, -0.15173702, 0.091869995, 0.03874531, -0.2672256, -0.04100988, -0.10339683, -0.13158125, 0.22372927, -0.001418496, 0.07651872, -0.017945549, 0.027249265, -0.49027184, 0.1818749, 0.16099112) * inp_2_1_2;
    result0 += M4(0.43656608, 0.0172203, -0.043620385, 0.0016813152, 0.06602583, 0.07393479, 0.06597167, -0.02001278, -0.15199938, -0.0320617, -0.0042903335, 0.0026619763, 0.59405637, -0.04770985, 0.1724021, 0.029190825) * inp_2_2_2;
    result1 += M4(-0.18038362, 0.06016157, -0.07046394, -0.12118364, 0.32253036, 0.06081652, -0.11132565, 0.83951616, -0.045579635, 0.07211532, 0.037794888, -0.03223932, 0.012667341, -0.016497234, 0.018148541, -0.10590828) * inp_2_0_0;
    result1 += M4(-0.29321787, -0.4767255, 0.14890625, -0.11662071, -0.3904683, 0.35958493, 0.029564785, 0.85241854, -0.19191833, 0.21502896, 0.09354512, -0.040846147, -0.072995216, -0.24425572, -0.0055257524, -0.14167622) * inp_2_1_0;
    result1 += M4(0.11431445, -0.09291484, 0.086223334, 0.15542783, 0.16678897, -0.09467054, -0.10125877, 0.25439775, -0.18190408, 0.22864899, 0.1576177, 0.007467013, 0.050773878, 0.26139674, 0.014447053, -0.26198804) * inp_2_2_0;
    result1 += M4(0.21594372, -0.20233695, 0.07099475, -0.16678369, 0.16125605, 0.70609015, 0.37815943, -0.58148646, -0.15555769, 0.16839392, 0.12821332, 0.12894167, -0.13073601, 0.090415336, 0.09987152, -0.14367141) * inp_2_0_1;
    result1 += M4(0.2280051, 0.8659097, -0.2836616, -0.7877456, -0.02225827, -0.62392956, 0.14788985, -1.6687547, 0.090042315, 0.087025784, 0.07268871, 0.22161418, -0.03348282, 0.3320322, 0.0045483736, -0.20577772) * inp_2_1_1;
    result1 += M4(-0.076875284, 0.043144193, 0.11146919, 0.31608936, 0.04924805, 0.1514766, -0.0064828116, -0.20288114, -0.12846038, 0.19289435, 0.2115551, 0.18573628, -0.25141862, 0.17906868, -0.0051868064, -0.6723703) * inp_2_2_1;
    result1 += M4(0.17026326, -0.078601934, -0.027426297, -0.2245307, -0.17248689, 0.017529327, 0.16236338, 0.65342724, -0.02242035, 0.18812598, 0.060279943, 0.25232393, -0.05595169, 0.14029945, 0.07676204, -0.14611582) * inp_2_0_2;
    result1 += M4(0.029287705, 0.094117254, -0.06112254, 0.7093525, 0.24319018, 0.7701177, 0.11084982, 0.4269236, -0.119671755, 0.20769744, 0.025478445, -0.017108826, 0.041732762, 0.12811114, 0.17918412, -0.32982904) * inp_2_1_2;
    result1 += M4(0.041967984, 0.09541156, 0.017517604, -0.47263962, 0.030026793, -0.15763699, 0.0070738634, -0.11954683, -0.04450398, 0.24719699, 0.11763562, 0.14919291, -0.0040447707, 0.17552447, -0.050684873, -0.7272357) * inp_2_2_2;
    result2 += M4(0.26731682, 0.03538959, 0.09197592, 0.03964082, -0.081835605, 0.0295644, 0.12006178, 0.077169105, 0.044975728, 0.13973838, 0.16389605, -0.11164584, -0.13070807, 0.028414499, 0.042526014, 0.07150432) * inp_2_0_0;
    result2 += M4(-0.036157336, 0.38711795, 0.35843128, 0.014424115, 0.3213558, 0.096381575, 0.25566953, 0.14559098, -0.077842936, 0.16186994, 0.16379121, -0.13656941, -0.07734403, 0.020529576, -0.0022922053, 0.07597482) * inp_2_1_0;
    result2 += M4(-0.16986354, 0.3329062, 0.16888025, 0.15877208, 0.023492146, 0.10374908, -0.06052829, 0.036491945, -0.08629245, 0.28137466, 0.102308914, -0.108678564, -0.006474346, 0.07077256, -0.0057330267, 0.031695798) * inp_2_2_0;
    result2 += M4(0.06584649, 0.022371037, -0.13381793, -0.038184535, -0.16977133, -0.22282073, 0.13556676, 0.25415954, 0.07098472, 0.072789356, 0.11074773, -0.21956716, -0.2714151, 0.07209279, 0.031593338, 0.07399512) * inp_2_0_1;
    result2 += M4(-0.3510264, 0.3902047, 0.30580273, -0.35571936, 0.048493702, -0.40754345, 0.22847912, -0.07944819, -0.026800837, 0.2146111, 0.09466785, -0.25995952, -0.5436388, 0.13907416, 0.09328367, 0.021851214) * inp_2_1_1;
    result2 += M4(-0.029143823, 0.018057853, -0.3742578, 0.12972437, 0.013203478, -0.077706315, -0.059600428, -0.111557856, -0.16327322, 0.08697186, 0.3200218, -0.21018125, -0.2217959, 0.22586922, 0.047192603, -0.09519927) * inp_2_2_1;
    result2 += M4(0.17338492, 0.025794907, 0.15738738, 0.12574556, -0.099052906, 0.06651799, 0.6372594, 0.24643564, -0.07924998, 0.059265006, 0.112613544, -0.03028227, -0.13336152, 0.10410266, -0.033382818, 0.14383902) * inp_2_0_2;
    result2 += M4(-0.2522838, 0.2701566, 0.49564025, -0.23081844, -0.39550468, 0.12232978, -0.49328294, -0.24985163, -0.027876094, 0.11398475, 0.10087009, -0.2441498, -0.5361178, 0.21401136, 0.31007352, 0.22613299) * inp_2_1_2;
    result2 += M4(-0.11093965, -0.08943669, -0.065578364, 0.10530106, 0.0039039606, 0.020323746, 0.30919528, 0.14579347, 0.15698446, 0.19255355, -0.15832502, -0.29089996, -0.48655075, 0.07772083, 0.14078213, 0.16412623) * inp_2_2_2;
    result3 += M4(-0.027517483, -0.03991641, 0.042539842, 0.037345022, -0.029039038, -0.030706938, 0.06545278, 0.10673896, 0.045463778, -0.023077808, 0.024068149, -0.014310132, 0.037643906, 0.030603664, -0.005538401, -0.03815311) * inp_2_0_0;
    result3 += M4(-0.13701428, 0.09508821, -0.02086274, -0.13622397, 0.111960694, 0.18232164, -0.07903472, 0.13501702, 0.061045405, -0.024738632, 0.012120368, -0.053862046, -0.008365525, -0.033805676, 0.014792448, -0.063558295) * inp_2_1_0;
    result3 += M4(-0.028371435, -0.06777345, -0.0050067976, -0.18189904, 0.04684383, -0.051732577, 0.033675026, -0.018164638, 0.06832209, 0.0008666968, -0.005028354, -0.012810275, 0.00013205849, -0.040348537, 0.06464063, -0.0015599759) * inp_2_2_0;
    result3 += M4(0.040103573, 0.24990451, 0.030110076, 0.04832222, 0.09567507, 0.060398206, 0.23947915, 0.3672626, -0.03386229, 0.0388458, -0.042637143, 0.065524906, -0.046146058, -0.024424914, -0.01986412, -0.0050113783) * inp_2_0_1;
    result3 += M4(0.27180257, 0.2644133, 0.37048146, 0.2624832, 0.2619209, 0.20669131, 0.17717275, -0.111504726, -0.095485926, 0.0070326803, -0.09525686, -0.04362656, 0.012520465, -0.033176374, -0.011596666, -0.09824127) * inp_2_1_1;
    result3 += M4(0.24010554, 0.22958523, 0.014140126, 0.05735845, 0.07335994, -0.020874536, -0.008860785, 0.11507573, -0.002591226, -0.09095888, 0.021914106, 0.043669645, 0.026246715, -0.011017212, -0.008672348, 0.14524764) * inp_2_2_1;
    result3 += M4(-0.02357558, 0.037570946, -0.03117975, -0.05423223, -0.19576989, -0.718144, -0.021302106, 0.12838422, -7.481155e-05, 0.102704085, 0.014733537, -0.022122363, -0.022166995, 0.019652877, 0.049553484, -0.007013124) * inp_2_0_2;
    result3 += M4(-0.04083874, -0.68890274, 0.06649632, 0.029482698, 0.13698792, -1.0689065, 0.01663643, 0.09754583, 0.019544804, 0.1417867, 0.025198406, -0.11760455, 0.06403487, -0.3377037, 0.20140433, -0.08977168) * inp_2_1_2;
    result3 += M4(0.07800603, -0.51993454, 0.05639933, -0.05664363, 0.008112774, -1.5697638, 0.033530727, -0.0040818383, 0.087358974, -0.27200168, -0.0012885733, -0.1238706, 0.0998232, -0.75027233, 0.081909515, -0.096099526) * inp_2_2_2;
    const V4 inp_3_0_0 = inp[3][local_xy.y + 0][local_xy.x + 0];
    const V4 inp_3_1_0 = inp[3][local_xy.y + 0][local_xy.x + 1];
    const V4 inp_3_2_0 = inp[3][local_xy.y + 0][local_xy.x + 2];
    const V4 inp_3_0_1 = inp[3][local_xy.y + 1][local_xy.x + 0];
    const V4 inp_3_1_1 = inp[3][local_xy.y + 1][local_xy.x + 1];
    const V4 inp_3_2_1 = inp[3][local_xy.y + 1][local_xy.x + 2];
    const V4 inp_3_0_2 = inp[3][local_xy.y + 2][local_xy.x + 0];
    const V4 inp_3_1_2 = inp[3][local_xy.y + 2][local_xy.x + 1];
    const V4 inp_3_2_2 = inp[3][local_xy.y + 2][local_xy.x + 2];
    result0 += M4(-0.13123052, -0.23048957, -0.03081673, 0.038771234, -0.016031478, 0.31579882, -0.06715811, 0.073482394, -0.029939191, 0.072233684, 0.07363134, 0.039798025, 0.11733734, -0.08400719, 0.056986574, -0.00273145) * inp_3_0_0;
    result0 += M4(0.084829435, -0.27929628, 0.096492976, 0.08254732, 0.42381963, -0.44531655, -0.05660394, -0.14432396, -0.1585303, 0.33670494, 0.055296432, 0.028481191, 0.1906535, -0.1102084, -0.08676197, -0.014009347) * inp_3_1_0;
    result0 += M4(0.011806378, -0.048930656, -0.0087154, 0.023749096, -0.3639175, -0.22816099, -0.08945402, -0.03931755, -0.1839965, 0.16439071, -0.014877951, 0.028553387, 0.091950215, -0.082314625, 0.052597746, 0.005622347) * inp_3_2_0;
    result0 += M4(0.06590525, -0.81381494, 0.19990225, -0.5044948, 0.12713544, 0.13078615, -0.022617903, 0.010408408, -0.25565028, 0.12054088, 0.009016277, 0.01202539, -0.019277917, -0.08269617, 0.041890673, -0.06624223) * inp_3_0_1;
    result0 += M4(-0.06517534, 0.48225078, 0.09054434, 0.027687285, -0.055828303, -0.13058014, 0.27110684, 0.047161996, -0.2985475, 0.054935113, 0.09066671, 0.06213301, -0.34306914, -0.048453886, 0.14208728, 0.57500917) * inp_3_1_1;
    result0 += M4(0.21195488, 0.097757556, -0.0057582133, -0.047663637, 0.09966263, 0.124417946, 0.010490984, 0.022959994, -0.30280676, 0.123966, 0.036031608, 0.018623892, -0.24123447, 0.027787065, -0.006663607, -0.10599239) * inp_3_2_1;
    result0 += M4(-0.000157539, 0.31987914, -0.049342014, -0.09550058, 0.032249138, 0.34305254, -0.09438149, -0.031546075, -0.16988085, -0.03836693, 0.030808473, 0.028957823, -0.059850086, 0.0028954705, -0.013032728, 0.025303485) * inp_3_0_2;
    result0 += M4(-0.5071336, 0.30227476, -0.0072582294, 3.651782e-05, -0.008061695, 0.11133123, -0.10298752, -0.1181567, -0.16685757, -0.008061916, 0.11233679, -0.008134487, 0.16161947, -0.027895376, 0.005714516, 0.031086713) * inp_3_1_2;
    result0 += M4(-0.09595643, -0.079037994, -0.019966915, 0.010614781, -0.010729807, 0.0063949553, -0.04744905, 0.013046395, -0.20377645, 0.17821679, 0.014531027, 0.027882395, 0.33311638, 0.100639515, 0.059555233, 0.08293288) * inp_3_2_2;
    result1 += M4(-0.002384221, 0.15134662, 0.09192873, 0.047575388, 0.039504692, 0.27908835, 0.23353058, -0.113400154, -0.03193037, 0.1915456, -0.04840262, 0.08872484, 0.041984174, 0.037412193, -0.038898557, -0.02063372) * inp_3_0_0;
    result1 += M4(-0.059411895, -0.85800046, -0.08163807, -0.37839463, -0.11143915, 0.22834592, -0.36383703, -0.23569652, -0.018168416, -0.012833738, -0.006414892, -0.005186267, 0.028057387, -0.076962546, -0.22007303, -0.5270898) * inp_3_1_0;
    result1 += M4(0.044065554, 0.027014956, 0.03603189, -0.2600715, 0.041053094, 0.45420197, 0.25109997, 0.1273079, -0.0329253, 0.27601808, 0.055721845, 0.29254863, 0.47476465, -0.84949446, -0.14787994, -0.24067992) * inp_3_2_0;
    result1 += M4(0.080399975, -0.012765657, -0.030359516, 0.42330483, 0.121479094, 0.0008314758, -0.013961421, 0.010454559, 0.07027061, 0.063344, 0.021582939, 0.04864184, 0.02660225, 0.044142086, -0.010284831, -0.06337992) * inp_3_0_1;
    result1 += M4(0.15353683, -1.2645024, 0.59969777, 0.3516692, 0.054674614, 0.014440199, 0.05257708, -0.14696352, 0.22348464, 0.2918289, -0.09834597, -0.07278082, -0.45943967, -0.5297016, 0.6673088, 0.23017344) * inp_3_1_1;
    result1 += M4(0.0783127, -0.44719324, -0.031016959, -0.46211216, 0.07770233, 0.48468012, -0.098360434, 0.103243254, 0.045535523, 0.18300405, 0.14051978, 0.6636247, 0.053413253, -1.3145709, -0.14853929, -0.8028461) * inp_3_2_1;
    result1 += M4(-0.15104997, -0.24176444, -0.07741771, -0.55364186, 0.1068838, 0.08964769, -0.0008757355, 0.04954793, 0.052713968, 0.057708897, 0.07204828, -0.02315254, -0.07439701, -0.025202576, 0.026995355, -0.0073364517) * inp_3_0_2;
    result1 += M4(-0.09668379, 0.17663176, 0.4709741, -0.0014105798, 0.16187337, 0.17957926, -0.016551923, -0.1926591, 0.070438325, 0.29016995, 0.022920141, 0.15191701, 0.1694829, 0.11996084, 0.12768437, -0.47464997) * inp_3_1_2;
    result1 += M4(-0.031489737, 0.0067441836, -0.0366629, -0.07719683, 0.09574521, 0.4211724, 0.073174566, 0.05344802, 0.103968695, 0.23839894, 0.068027146, 0.3178994, 0.011089067, -0.3369023, -0.06298565, -0.6730328) * inp_3_2_2;
    result2 += M4(-0.058840267, -0.32379118, 0.062328923, 0.09044681, -0.102178976, -0.049920026, 0.039008427, 0.15619756, 0.1954695, 0.018444316, 0.10474991, -0.1258935, -0.12788124, -0.022834994, -0.014668018, -0.076322526) * inp_3_0_0;
    result2 += M4(-0.031149643, -0.16869973, -0.18515512, 0.0784927, 0.2729113, 0.17894842, 0.17818142, -0.07531843, 0.2002894, -0.11465347, 0.05495091, -0.13803867, 0.032430444, 0.04588377, -0.3002228, -0.16546525) * inp_3_1_0;
    result2 += M4(0.0148759065, -0.025113385, 0.044494797, -0.008980995, -0.0033229287, -0.40180263, -0.024039868, 0.15090919, 0.09262096, -0.040920574, 0.029850533, -0.050276555, -0.18372124, -0.21549006, -0.06917864, -0.18561237) * inp_3_2_0;
    result2 += M4(0.2707488, -0.05116313, 0.04509966, 0.14283113, 0.03812207, 0.058306534, -0.032802723, 0.04747515, 0.05440351, -0.096008904, 0.077012196, -0.43344218, 0.060715802, 0.011768863, -0.023387529, 0.08320244) * inp_3_0_1;
    result2 += M4(0.1375068, 0.24849324, -0.0037713817, 0.12683138, -0.09816302, -0.012057394, 0.37401956, 0.06616375, 0.54846674, -0.4225925, -0.073717825, -0.21406339, 0.03396525, -0.00407859, -0.039612085, 0.19334969) * inp_3_1_1;
    result2 += M4(-0.13458177, -0.02047151, 0.12438847, 0.09212711, -0.14545786, -0.23793662, -0.07569101, 0.14215012, 0.2433134, -0.0905893, 0.07723361, -0.1439387, -0.005018946, -0.18233676, 0.01730625, 0.25313538) * inp_3_2_1;
    result2 += M4(0.42383638, -0.30913964, -0.31713378, 0.118768156, 0.043225314, 0.05052992, 0.18471612, -0.02211343, 0.14216642, -0.044579715, 0.115641005, 0.025412263, 0.06830909, 0.024638873, -0.041473735, 0.051095035) * inp_3_0_2;
    result2 += M4(0.09654682, -0.35057682, 0.2345151, 0.116661154, 0.02008534, 0.08713231, 0.124985844, -0.044964302, -0.05502035, -0.015706522, 0.42914012, -0.2687191, 0.14906418, 0.0721027, -3.031587, -0.015265607) * inp_3_1_2;
    result2 += M4(0.074870355, 0.021263327, -0.15219831, -0.042634208, -0.14551881, -0.025280753, 0.29056904, 0.008318532, 0.16459787, -0.09220448, 0.09418936, -0.050333906, 0.2793146, -0.1718108, 0.14496237, -0.08683572) * inp_3_2_2;
    result3 += M4(0.034441683, -0.0122062825, 0.04326689, 0.081934586, -0.01673841, 0.118919075, -0.008212494, -0.118709736, 0.039490316, 0.022045415, 0.04584224, 0.028579509, -0.031803668, 0.030741122, 0.041657228, -0.01809537) * inp_3_0_0;
    result3 += M4(-0.045715716, -0.019538011, 0.00041091334, 0.028984569, 0.123185255, 0.012382357, 0.10732066, 0.25741646, 0.064662844, -0.025536228, 0.050847247, 0.0264384, -0.026549323, 0.013891499, -0.046348315, 0.022634704) * inp_3_1_0;
    result3 += M4(0.047560338, 0.046430983, -0.015002147, 0.0046723015, 0.06474812, -0.07230843, -0.040846698, 0.29719904, 0.084972434, 0.028017037, -0.009048206, -0.07208757, -0.042548086, -0.00607629, 0.018151883, 0.058306143) * inp_3_2_0;
    result3 += M4(-0.30658278, -0.24827237, 0.32218376, -0.064318776, -0.051367994, -0.21516302, -0.024508642, -0.107114024, 0.04084192, 0.054685406, 0.024534477, 0.09276551, 0.058145568, -0.0015414291, 0.07237197, 0.045170594) * inp_3_0_1;
    result3 += M4(0.20721136, 0.12650141, -0.064580895, 0.52143186, -0.07520012, 0.3410532, 0.11014829, -0.39555985, 0.055249143, 0.013893014, 0.046012312, 0.14694369, -0.10285759, -0.25257045, -0.10056851, 0.29921278) * inp_3_1_1;
    result3 += M4(-0.11858467, -0.05050282, 0.053951405, 0.0047485325, -0.2808146, -0.15631977, -0.013444638, -0.28163263, 0.108041435, 0.040967364, 0.048064467, 0.00556108, -0.55675256, 0.13146119, 0.18531159, -0.35677764) * inp_3_2_1;
    result3 += M4(-0.0402916, -0.059745498, 0.020609874, -0.03812986, -0.006921761, 0.33640206, -0.07306876, -0.030512266, 0.03867466, 0.12699997, 0.03075061, 0.020586934, -0.014308385, 0.5316955, -0.023412408, 0.102488644) * inp_3_0_2;
    result3 += M4(0.009481875, 1.005115, -0.06425343, 0.1573134, -0.049270686, -1.361742, -0.16819264, -0.11432165, 0.028622182, -0.07731932, 0.04183588, 0.167176, -0.02155731, -1.4380174, 0.051822156, 0.12365437) * inp_3_1_2;
    result3 += M4(0.053645473, 0.35596454, -0.007410504, -0.043443594, 0.047377996, 0.40465432, -0.0017899378, -0.07489691, -0.010724481, -0.3988116, 0.009601692, 0.12254869, -0.10195359, -2.1095753, 0.043681335, 0.021540884) * inp_3_2_2;
    const ivec2 output_base = ivec2(gl_GlobalInvocationID) * ivec2(2, 2);
    imageStore(out_image, output_base + ivec2(0, 0), max(result0, V4(0.0)));
    imageStore(out_image, output_base + ivec2(1, 0), max(result1, V4(0.0)));
    imageStore(out_image, output_base + ivec2(0, 1), max(result2, V4(0.0)));
    imageStore(out_image, output_base + ivec2(1, 1), max(result3, V4(0.0)));
}

//!DESC ArtCNN C4F16 Soft (Conv2D-3-ReLU)
//!COMPUTE 24 32 12 16
//!HOOK LUMA
//!BIND conv2d_2
//!SAVE conv2d_3
//!WIDTH LUMA.w 2.0 *
//!HEIGHT LUMA.h 2.0 *
//!COMPONENTS 4
//!WHEN OUTPUT.w LUMA.w / 1.3 > OUTPUT.h LUMA.h / 1.3 > *
#extension GL_EXT_shader_explicit_arithmetic_types_float16 : enable
#ifdef GL_EXT_shader_explicit_arithmetic_types_float16
#	define V4 f16vec4
#	define M4 f16mat4
#	define F float16_t
#else
#	define V4 vec4
#	define M4 mat4
#	define F float
#endif

const ivec2 ksize = ivec2(3, 3);
const ivec2 offset = ksize / 2;
const ivec2 wg_size = ivec2(gl_WorkGroupSize);
const ivec2 isize = wg_size + ksize - 1;
shared V4 inp[4][isize.y][isize.x];
void hook() {
    const uvec2 local_xy = gl_LocalInvocationID.xy;
    ivec2 base = ivec2(gl_WorkGroupID) * wg_size;
    for (uint y = local_xy.y; y < isize.y; y += wg_size.y) {
        for (uint x = local_xy.x; x < isize.x; x += wg_size.x) {
            const ivec2 input_base = (base + ivec2(x,y) - offset) * ivec2(2, 2);
            inp[0][y][x] = V4(conv2d_2_mul * texelFetch(conv2d_2_raw, input_base + ivec2(0, 0), 0));
            inp[1][y][x] = V4(conv2d_2_mul * texelFetch(conv2d_2_raw, input_base + ivec2(1, 0), 0));
            inp[2][y][x] = V4(conv2d_2_mul * texelFetch(conv2d_2_raw, input_base + ivec2(0, 1), 0));
            inp[3][y][x] = V4(conv2d_2_mul * texelFetch(conv2d_2_raw, input_base + ivec2(1, 1), 0));
        }
    }

    barrier();
    V4 result0 = V4(0.017934382, -0.031181792, -0.0050290506, -0.0041648247);
    V4 result1 = V4(-0.006881719, 0.012175421, 0.006466187, 0.04716574);
    V4 result2 = V4(0.0010542558, 0.011185378, -0.03538312, 0.016836662);
    V4 result3 = V4(-0.009411806, 0.010999925, 0.007168183, 0.016324965);
    const V4 inp_0_0_0 = inp[0][local_xy.y + 0][local_xy.x + 0];
    const V4 inp_0_1_0 = inp[0][local_xy.y + 0][local_xy.x + 1];
    const V4 inp_0_2_0 = inp[0][local_xy.y + 0][local_xy.x + 2];
    const V4 inp_0_0_1 = inp[0][local_xy.y + 1][local_xy.x + 0];
    const V4 inp_0_1_1 = inp[0][local_xy.y + 1][local_xy.x + 1];
    const V4 inp_0_2_1 = inp[0][local_xy.y + 1][local_xy.x + 2];
    const V4 inp_0_0_2 = inp[0][local_xy.y + 2][local_xy.x + 0];
    const V4 inp_0_1_2 = inp[0][local_xy.y + 2][local_xy.x + 1];
    const V4 inp_0_2_2 = inp[0][local_xy.y + 2][local_xy.x + 2];
    result0 += M4(-0.14456117, -0.32235754, 0.36852217, 0.110966444, 0.12187634, -0.06821415, 0.09036108, -0.04452944, 0.036252733, -0.14211546, -0.08751719, 0.024603372, 0.07416459, 0.12351639, 0.061605748, -0.06527665) * inp_0_0_0;
    result0 += M4(-0.4323506, -0.53648174, 0.089363776, -0.24049227, -0.05220933, -0.08889414, -0.13533866, 0.0134664355, -0.15243365, 0.12289902, -0.48311654, 0.1369874, -0.14899431, -0.3648555, 0.07111386, -0.26407918) * inp_0_1_0;
    result0 += M4(-0.25768906, -0.09120643, -0.06431365, -0.038036074, -0.023424117, -0.019381925, 0.018200714, -0.070848174, -0.19434446, -0.064093456, -0.099873275, -0.12043498, 0.052893564, -0.06836931, -0.060520254, 0.03132171) * inp_0_2_0;
    result0 += M4(-0.1216506, 0.054492127, -0.23558405, -0.07204222, -0.039859515, 0.0830055, -0.31212726, 0.18062013, 0.018410202, -0.10710847, -0.071654536, -0.03503004, -0.12967785, -0.12307615, -0.08110329, 0.23545997) * inp_0_0_1;
    result0 += M4(-0.12719612, 0.16121385, -0.38411254, -0.090918384, 0.04205564, 0.12554185, 0.14775953, -0.12504628, -0.14357032, 0.06373413, 0.48181632, -0.20188276, 0.09881107, 0.34176305, 0.40812856, -0.36478788) * inp_0_1_1;
    result0 += M4(0.11781396, 0.11450237, -0.03823827, 0.030126432, -0.19987448, -0.062088434, 0.12160887, -0.120108806, -0.06284547, -0.16817479, 0.00315043, -0.049751617, 0.031990156, 0.13137785, -0.03323574, 0.29618004) * inp_0_2_1;
    result0 += M4(0.07833767, -0.03989284, -0.26323938, -0.0051280255, -0.06713485, -0.1350584, 0.26416403, 0.05060958, -0.10242477, -0.0835039, 0.04969272, -0.065028876, -0.11778963, 0.13879256, -0.03844187, 0.06094982) * inp_0_0_2;
    result0 += M4(-0.09768818, -0.038022988, -0.161988, -0.02497425, 0.1401187, 0.059018828, -0.28241444, -0.0672226, 0.1533039, -0.013849327, 0.06195013, 0.009024007, -0.022916848, 0.040205948, -0.43296948, 0.027198492) * inp_0_1_2;
    result0 += M4(-0.03733409, -0.08905569, -0.13409996, -0.035792064, 0.13430266, 0.111776486, -0.021723444, -0.024335733, 0.15873915, 0.043446563, -0.0021368496, 0.0027084027, -0.21634337, -0.21174687, -0.19296438, -0.041295137) * inp_0_2_2;
    result1 += M4(0.28632328, 0.0465607, -0.054045595, -0.18831033, -0.05936258, -0.001095456, -0.006399104, -0.044774976, 0.07584316, -0.007448211, 0.008261492, -0.072464176, 0.014178614, 0.0064050932, -0.04355907, -0.17452005) * inp_0_0_0;
    result1 += M4(0.163244, -0.027284687, -0.03895015, 0.0871145, 0.17781854, -0.03021545, 5.063468e-05, -0.03112145, -0.06506032, 0.01930163, -0.014437812, -0.10207168, -0.035121243, -0.00042521738, 0.021921463, -0.04616651) * inp_0_1_0;
    result1 += M4(-0.00096101745, -0.018413668, -0.018445913, -0.029298855, 0.14889778, 0.020679507, -0.0028241377, -0.26130146, -0.02518975, 0.017994162, 0.0114459125, -0.14405154, 0.03538262, 0.011156565, -0.014193359, 0.21649016) * inp_0_2_0;
    result1 += M4(-0.2649782, -0.06052022, -0.13739683, -0.0068094786, 0.033954617, 0.03386779, 0.07162882, 0.3443393, -0.081592456, 0.13848943, 0.07777444, -0.11372535, 0.06604816, 0.04955751, -0.05617734, -0.0055848835) * inp_0_0_1;
    result1 += M4(-0.33445394, 0.048078213, -0.0036531196, -0.050260894, -0.18828747, -0.086517744, 0.023930518, 0.18913943, -0.055303518, 0.34163773, 0.010803646, -0.055318046, 0.03461588, 0.3483642, -0.0643747, -0.23907977) * inp_0_1_1;
    result1 += M4(-0.02957367, -0.031115005, 0.03234724, 0.03320716, -0.11384372, -0.011999614, 0.017384546, 0.022719879, -0.14575754, 0.033686444, -0.032195613, 0.27020773, 0.18794759, 0.05435172, 0.037603084, -0.4830805) * inp_0_2_1;
    result1 += M4(-0.18220675, -0.011245022, -0.103056684, 0.15512411, 0.05543284, 0.048039626, 0.14819252, -0.35555843, -0.081296764, 0.0347941, 0.092093915, -0.0017365261, 0.025013842, -0.0386267, -0.108799085, -0.31103802) * inp_0_0_2;
    result1 += M4(-0.057348624, 0.03258112, -0.034522973, 0.08100903, 0.06473383, 0.11796758, 0.08446942, 0.1260362, 0.089506805, -0.008948703, 0.04224441, 0.07765756, -0.20057249, 0.02935422, -0.14237656, 0.3227745) * inp_0_1_2;
    result1 += M4(-0.06531715, 0.013528217, 0.0030636808, -0.046912473, 0.10890197, 0.03047882, -0.016707893, 0.13876401, -0.0126559045, -0.022531765, -0.06557992, -0.054279935, -0.24151966, 0.03360194, 0.07170279, -0.24642107) * inp_0_2_2;
    result2 += M4(-0.16247933, 0.029766407, 0.023284486, 0.020467354, 0.020160276, 0.1154641, -0.05231008, 0.030881649, 0.009565015, 0.14911793, -0.09345459, 0.07116701, -0.01732048, -0.036860242, 0.053269777, -0.07722603) * inp_0_0_0;
    result2 += M4(-0.091261536, -0.1712976, 0.0060253385, -0.046533316, 0.09846642, 0.011222947, 0.067152716, 0.11025942, 0.011598766, 0.046742406, -0.12233656, 0.11154686, 0.17291623, -0.10652056, 0.16164403, -0.04444811) * inp_0_1_0;
    result2 += M4(-0.062249806, 0.027239192, 0.005605477, 0.108937755, 0.05433768, 0.066069014, -0.030967917, 0.039129984, -0.07174047, 0.0055644233, -0.0041244645, -0.12694673, -0.00015356325, -0.0993242, 0.03430845, -0.027698787) * inp_0_2_0;
    result2 += M4(-0.25187147, 0.47328132, -0.11225208, 0.03868881, 0.23793052, -0.05883041, 0.03129378, -0.21840176, 0.035887215, -0.2269757, -0.050477408, -0.060140878, 0.16605464, -0.11728877, 0.04820835, -0.08603531) * inp_0_0_1;
    result2 += M4(-0.18453652, -0.10952015, 0.04770822, -0.11712112, -0.31300873, 0.43681654, 0.04147828, -0.16547108, 0.49580935, -0.32716444, -0.09876285, 0.0043663858, -0.28177673, -0.2954529, 0.65995955, 0.123958506) * inp_0_1_1;
    result2 += M4(-0.04044496, 0.0065159984, -0.013602576, 0.061894085, 0.024876753, -0.09613623, 0.034131113, -0.08506295, -0.018168062, -0.0606374, 0.063507475, 0.03056109, -0.17131703, 0.22449967, -0.14944807, 0.23926707) * inp_0_2_1;
    result2 += M4(-0.1158925, 0.0077188443, -0.006832352, -0.037573967, 0.19495545, -0.16412903, 0.083532214, -0.14995441, 0.0025996116, 0.054451987, 0.0004306591, -0.003004072, -0.027231863, -0.0065335706, -0.05295393, 0.13324486) * inp_0_0_2;
    result2 += M4(-0.024768155, -0.09294784, 0.04076686, -0.043368008, 0.03827342, 0.24817055, 0.006447685, -0.17668776, 0.06188648, -0.03726375, -0.0004719931, 0.048229504, -0.15574917, -0.092445366, -0.027162643, -0.30883688) * inp_0_1_2;
    result2 += M4(-0.009489873, 0.024408877, 0.021968292, 0.01491002, -0.052021, 0.027081694, 0.083633654, -0.06611363, -0.013162907, 0.035079226, -0.06710027, 0.050630532, -0.18102813, -0.019120377, 0.11280134, -0.09752519) * inp_0_2_2;
    result3 += M4(-0.042301834, -0.13861711, 0.03766719, 0.057914883, 0.013780682, -0.12296333, -0.023466142, -0.105097555, -0.04310797, -0.10357688, -0.019643662, 0.016621457, 0.027125228, 0.079115175, 0.005824466, 0.033411946) * inp_0_0_0;
    result3 += M4(0.11334597, -0.26848567, -0.0066896123, -0.043024994, -0.08085576, 0.21278428, -0.0062470925, -0.034339562, 0.05395444, 0.07079769, 0.0825295, -0.051889602, -0.052656263, -0.07885303, -0.02585551, 0.07861998) * inp_0_1_0;
    result3 += M4(0.005287187, -0.42988062, -0.017125076, 0.099146135, -0.010639654, 0.093954675, -0.026886003, -0.5933355, -0.06332176, -0.076605275, 0.041622274, -0.61994034, 0.026427716, -0.23981926, 0.008909351, -0.068856426) * inp_0_2_0;
    result3 += M4(-0.035250064, -0.5753741, -0.0065319496, -0.12454527, 0.05045372, 0.36450192, 0.015924294, -0.036765236, 0.00252388, 0.055829126, 0.14728713, 0.021278545, 0.042146716, -0.095669135, -0.00964935, -0.043707192) * inp_0_0_1;
    result3 += M4(0.122307345, -0.66619575, 0.033865567, -0.0040877927, -0.013992028, -0.07168655, -0.026291678, -0.008092536, -0.17870481, -0.20733505, 0.04048559, 0.04785268, 0.020587197, -0.38061363, -0.091275595, -0.04653869) * inp_0_1_1;
    result3 += M4(0.056019623, -0.17663853, -0.01602809, -0.030646084, -0.113130145, 0.0014922437, -0.048154056, 0.11039597, -0.03476133, -0.1639578, 0.09000863, 0.118774414, 0.19069153, 0.12333866, -0.049049012, -0.25904763) * inp_0_2_1;
    result3 += M4(-0.012938895, -0.050646666, 0.01432326, -0.04716196, 0.011625812, -0.00010114443, 0.007051066, 0.07109081, -0.009366039, -0.056449935, 0.058156468, 0.041630145, -0.017243953, -0.27199408, 0.005149494, -0.03078901) * inp_0_0_2;
    result3 += M4(0.028869933, -0.23244828, 0.032351196, -0.0053031454, 0.051526412, 0.31870523, 0.04688763, 0.057589356, 0.023384046, 0.1009533, 0.06730432, 0.10863447, 0.057037745, -0.057848327, -0.18458009, -0.012771715) * inp_0_1_2;
    result3 += M4(-0.009864558, -0.14839242, 0.024295421, -0.07879829, 0.016334655, -0.004369525, 0.04571894, 0.035780888, -0.067032665, -0.17640498, -0.034347486, -0.0063833725, -0.021627044, -0.13583732, 0.046573587, -0.09804065) * inp_0_2_2;
    const V4 inp_1_0_0 = inp[1][local_xy.y + 0][local_xy.x + 0];
    const V4 inp_1_1_0 = inp[1][local_xy.y + 0][local_xy.x + 1];
    const V4 inp_1_2_0 = inp[1][local_xy.y + 0][local_xy.x + 2];
    const V4 inp_1_0_1 = inp[1][local_xy.y + 1][local_xy.x + 0];
    const V4 inp_1_1_1 = inp[1][local_xy.y + 1][local_xy.x + 1];
    const V4 inp_1_2_1 = inp[1][local_xy.y + 1][local_xy.x + 2];
    const V4 inp_1_0_2 = inp[1][local_xy.y + 2][local_xy.x + 0];
    const V4 inp_1_1_2 = inp[1][local_xy.y + 2][local_xy.x + 1];
    const V4 inp_1_2_2 = inp[1][local_xy.y + 2][local_xy.x + 2];
    result0 += M4(-0.01429787, -0.017576959, 0.0625535, 0.033593334, 0.11309986, 0.027137745, 0.075440586, 0.02147809, -0.050468866, -0.028484078, -0.08289839, -0.02689345, -0.031311482, 0.2210224, -0.037978362, -0.080626585) * inp_1_0_0;
    result0 += M4(0.0014834402, -0.14680685, 0.17669162, -0.003025838, -0.098400526, -0.2353292, 0.119202405, -0.09128818, 0.06681534, 0.31871775, -0.24812303, -0.007432523, 0.04344309, 0.20034781, 0.43083483, -0.19655782) * inp_1_1_0;
    result0 += M4(0.07826065, -0.114147775, -0.005301076, 0.013482335, 0.02538504, -0.019502725, -0.056701496, -0.01604489, 0.19109525, 0.2047581, 0.055647783, 0.119189516, 0.020148119, -0.18430705, -0.029695544, -0.2436511) * inp_1_2_0;
    result0 += M4(0.12510231, -0.0019143433, 0.10579217, -0.03110874, -0.098587245, -0.11746644, -0.027274253, 0.020765692, 0.055726662, 0.017471004, 0.026322417, -0.1728825, -0.08998388, 0.4947289, -0.17200926, -0.04778313) * inp_1_0_1;
    result0 += M4(-0.19548458, -0.61695844, -0.6171459, -0.015648393, -0.16993189, 0.014808071, -0.19304731, 0.040595945, 0.6017368, -0.16075245, -0.07331133, 0.0013235837, -0.21791148, 0.3629484, -0.12829845, -0.17380665) * inp_1_1_1;
    result0 += M4(0.20249584, -0.41170013, -0.22325893, 0.20574701, -0.13113964, -0.10227287, 0.05062566, -0.23510471, 0.119488575, 0.12316625, 0.023423363, 0.21941747, 0.2516517, 0.027139723, 0.11665853, 0.008600873) * inp_1_2_1;
    result0 += M4(0.1053389, 0.15122986, -0.09059593, -0.045575567, -0.1888059, 0.05203981, -0.09782931, 0.03880243, 0.22358258, -0.06582313, 0.15502268, -0.004302604, 0.092831954, -0.17233086, 0.13240568, 0.09624622) * inp_1_0_2;
    result0 += M4(-0.06083798, 0.47105855, -0.065410234, 0.084846355, -0.21882601, -0.038889106, -0.047112167, -0.10150414, -0.13429385, 0.032173533, 0.4113201, 0.029115716, 0.15311094, -0.16010699, -0.118089296, -0.10245784) * inp_1_1_2;
    result0 += M4(0.0550719, 0.18567386, 0.15923266, -0.060666773, 0.07019799, 0.040354367, -0.12701552, -0.104890145, -0.021057911, -0.10002648, 0.2443782, 0.105784, -0.081532344, 0.07707011, -0.0024755327, 0.012087519) * inp_1_2_2;
    result1 += M4(0.049307223, 0.02834526, 0.0018071014, 0.32280254, 0.03263109, -0.0064468207, -0.016727233, -0.18949716, -0.09987184, 0.048998736, 0.028784854, 0.24446842, 0.049870066, 0.042281255, -0.10077916, -0.71248734) * inp_1_0_0;
    result1 += M4(-0.045183353, 0.0089377975, -0.046649758, -0.26054662, 0.008791215, -0.016324406, 0.007955857, 0.22563311, -0.19125304, 0.020369094, -0.015822502, 0.03390182, -0.100805715, 0.016025992, 0.05279685, -0.63636446) * inp_1_1_0;
    result1 += M4(0.065614834, -0.048463188, -0.0075291065, 0.067046404, 0.04105561, -0.054667864, 0.01833183, -0.033255164, -0.060339298, 0.0048818933, -0.0005836438, -0.027454128, -0.1264957, 0.010497133, -0.008494994, -0.65826833) * inp_1_2_0;
    result1 += M4(0.06823321, 0.07602042, 0.0533106, 0.29411462, 0.021845113, 0.046470445, -0.08199017, -0.059554897, -0.07826327, 0.031023398, 0.08456789, 0.24924704, 0.14957283, 0.08752626, -0.15832114, -0.6306488) * inp_1_0_1;
    result1 += M4(0.052992467, 0.1522065, -0.04103394, 0.17593704, 0.13341667, 0.034771312, 0.065358646, -0.23318772, -0.044175684, 0.019035494, 0.020983817, -0.011824585, 0.4505967, 0.029023493, -0.03704133, 0.071314126) * inp_1_1_1;
    result1 += M4(0.14405245, 0.01647274, 0.0029281077, 0.17868948, 0.08292039, -0.027400777, -0.0168231, 0.08389743, -0.019566728, -0.004051003, -0.047002938, 0.08658663, 0.08583813, 0.015221008, 0.037773974, -1.9928582) * inp_1_2_1;
    result1 += M4(-0.1590386, 0.054996535, -0.010936362, 0.26342773, 0.029613428, -0.04480413, -0.033214495, -0.14918403, 0.104093686, -0.018006746, 0.08060633, 0.11897159, 0.027453437, 0.033877555, 0.05720417, -0.4504559) * inp_1_0_2;
    result1 += M4(-0.024365032, -0.09194706, -0.023412153, -0.34882805, -0.12502968, 0.03325542, 0.0055410094, -0.19246607, 0.41824564, -0.017346751, -0.05770912, -0.008283102, 0.051342428, -0.007233775, -0.1571464, 0.20067157) * inp_1_1_2;
    result1 += M4(-0.08739304, 0.004417113, 0.022988308, 0.09035683, -0.08148119, -0.03652226, 0.0112840375, 0.20868318, 0.17672424, 0.0063713747, -0.038037814, 0.39846355, 0.07665043, 0.021934684, 0.09991424, 0.08820485) * inp_1_2_2;
    result2 += M4(0.023007836, -0.03396196, 0.049577106, -0.024792315, 0.077596284, 0.011700368, -0.025245743, -0.07411676, -0.05828779, -0.05353147, 0.0393709, -0.05084499, 0.084907666, -0.11111796, 0.05633591, -0.079541214) * inp_1_0_0;
    result2 += M4(-0.074673735, -0.04118074, -0.004718243, -0.13233405, 0.0077019827, 0.06322784, -0.047647573, -0.023105957, -0.11513564, 0.06747367, -0.043558277, 0.046670824, -0.09141468, 0.053088762, 0.048321556, -0.22638817) * inp_1_1_0;
    result2 += M4(-0.059016872, -0.08600702, -0.063045025, -0.14124334, 0.00063018664, -0.0014457868, -0.038653463, 0.040187713, 0.0019496448, 0.00047123586, -0.038358398, -0.011115596, 0.028829973, 0.0788865, 0.022918778, -0.10880144) * inp_1_2_0;
    result2 += M4(-0.011366117, -0.039385136, 0.09803826, 0.0801347, -0.08320333, 0.16503654, -0.0061492557, -0.11294412, -0.08426397, -0.07425076, 0.10663013, 0.07312954, 0.06302982, 0.38760808, 0.10313943, -0.23192134) * inp_1_0_1;
    result2 += M4(0.1044128, 0.063703574, 0.14167155, -0.050640676, -0.1266073, 0.26102716, 0.07431019, -0.19759646, 0.42936182, -0.03272818, -0.031966623, 0.39514086, 0.32168826, -0.008517244, 0.008740861, -0.23165607) * inp_1_1_1;
    result2 += M4(-0.009549608, -0.028191637, -0.0036315222, 0.060624324, -0.029260337, -0.033983152, -0.01986034, -0.03982325, 0.0721655, 0.08178257, -0.057091005, -0.05288458, 0.0015689222, 0.06846115, -0.0037936768, 0.1345986) * inp_1_2_1;
    result2 += M4(-0.0024146202, 0.070982195, -0.00081025175, -0.112151735, -0.071396984, 0.054576106, -0.03612808, -0.046281908, 0.03996147, -0.0039089494, 0.011647626, -0.1345029, 0.10640298, -0.08236105, -0.0031616676, -0.16159879) * inp_1_0_2;
    result2 += M4(0.14002214, 0.016706062, -0.017792001, 0.17665155, -0.10390079, 0.06738148, 0.024763849, -0.0677563, 0.036022354, 0.06892361, 0.07166879, 0.10571434, -0.065414324, -0.0880358, -0.0034803331, -0.32284352) * inp_1_1_2;
    result2 += M4(-0.018859824, 0.10206073, 0.027576456, 0.020325731, 0.027485812, -0.0013410979, -0.028567394, -0.0081157945, -0.008234347, 0.0684988, -0.008895901, 0.1431075, -0.032094434, 0.04274334, 0.02892306, -0.04012953) * inp_1_2_2;
    result3 += M4(0.020775018, -0.03727499, 0.005676027, 0.08729209, 0.023926293, 0.056409758, -0.014020093, 0.093690015, 0.006399006, -0.11314971, 0.024094952, 0.0276914, 0.0088301, 0.28341153, 0.071123764, 0.01184895) * inp_1_0_0;
    result3 += M4(0.033809096, 0.20039515, 0.023008162, 0.032686457, 0.028017767, 0.030236615, -0.028507283, 0.0841327, 0.04807328, 0.059885044, 0.05082305, -0.045026142, 0.10740759, -0.072337665, -0.02240476, -0.019210389) * inp_1_1_0;
    result3 += M4(0.054717846, 0.04872519, -0.028110357, -0.022498986, 0.049920432, 0.008103492, -0.032955002, 0.08569561, -0.014371248, 0.07287894, -0.011375955, -0.1750855, -0.06275646, 0.09122663, 0.020944385, 0.10371025) * inp_1_2_0;
    result3 += M4(0.0006589796, 0.017391948, 0.07607068, -0.0450833, -0.029307922, 0.003764572, -0.0029122157, -0.021808334, 0.030216925, -0.09651871, 0.046647392, 0.07400803, -0.0073322807, 0.24212478, 0.0061473157, 0.055692103) * inp_1_0_1;
    result3 += M4(-0.021840988, 0.10372341, 0.04183694, -0.053121768, 0.0020979568, -0.0071001863, 0.111775815, -0.20648395, -0.030416066, 0.07667509, 0.010664617, 0.035722002, 0.17053734, 0.4400536, 0.18235233, 0.1602351) * inp_1_1_1;
    result3 += M4(0.112517536, -0.08179355, -0.030380698, -0.22366767, 0.012501216, -0.14974646, -0.022609193, 0.093592286, 0.075085655, 0.08528494, -0.081488684, -0.089824215, -0.054243095, 0.21751963, -0.0035449704, -0.12648351) * inp_1_2_1;
    result3 += M4(0.0055691064, 0.064712055, 0.010389326, 0.09615613, 0.008791275, -0.5106362, -0.043550692, -0.08478925, 0.038317878, 0.23076972, -0.015467502, 0.060205847, 0.011208447, 0.08362398, -0.014537311, 0.056559633) * inp_1_0_2;
    result3 += M4(0.024492234, 0.015468792, 0.049328048, 0.0029161077, -0.0050058533, 0.15982984, 0.032868873, 0.07027927, -0.0033193685, 0.30675957, 0.0025147886, 0.012415582, 0.005461932, 0.28096932, -0.05589426, 0.030351127) * inp_1_1_2;
    result3 += M4(-0.0764115, 0.13431217, 0.013351385, 0.0052829497, 0.040447827, 0.024044309, -0.051967364, 0.023701737, 0.025014946, 0.047220122, -0.027820395, 0.10348679, -0.042372264, 0.03971766, 0.034297243, -0.073665224) * inp_1_2_2;
    const V4 inp_2_0_0 = inp[2][local_xy.y + 0][local_xy.x + 0];
    const V4 inp_2_1_0 = inp[2][local_xy.y + 0][local_xy.x + 1];
    const V4 inp_2_2_0 = inp[2][local_xy.y + 0][local_xy.x + 2];
    const V4 inp_2_0_1 = inp[2][local_xy.y + 1][local_xy.x + 0];
    const V4 inp_2_1_1 = inp[2][local_xy.y + 1][local_xy.x + 1];
    const V4 inp_2_2_1 = inp[2][local_xy.y + 1][local_xy.x + 2];
    const V4 inp_2_0_2 = inp[2][local_xy.y + 2][local_xy.x + 0];
    const V4 inp_2_1_2 = inp[2][local_xy.y + 2][local_xy.x + 1];
    const V4 inp_2_2_2 = inp[2][local_xy.y + 2][local_xy.x + 2];
    result0 += M4(0.018170744, -0.12845881, 0.011077978, 0.016577411, -0.00036430595, 0.26889145, -0.094291896, 0.11308935, -0.01558838, 0.19693607, 0.13897507, 0.0017541794, -0.19598998, -0.028471813, 0.0662188, 0.15024112) * inp_2_0_0;
    result0 += M4(0.056462035, -0.13956998, 0.12626474, 0.013461913, -0.06746138, -0.09204081, 0.07460446, -0.059129987, -0.37846726, -0.3693618, -2.2906203, -0.06193156, 0.1400905, -0.17944919, 0.06715288, -0.35543004) * inp_2_1_0;
    result0 += M4(-0.06952731, -0.41482455, 0.12713183, 0.012376163, -0.0896899, 0.034819074, 0.06488557, -0.07535896, -0.2246033, 0.13894905, -0.110134736, -0.29919425, -0.17995362, 0.08909742, 0.19265307, -0.07543815) * inp_2_2_0;
    result0 += M4(0.020480923, 0.09741649, 0.023303477, -0.034519035, -0.23774268, 0.036829576, -0.07808012, 0.1411204, 0.11678983, 0.033802323, -0.02361394, -0.052285254, -0.013097693, 0.15131395, -0.014699322, -0.023332749) * inp_2_0_1;
    result0 += M4(-0.034686405, -0.061043683, -0.08395621, 0.08731797, -0.4379603, 0.0603194, -0.002182812, 0.033973332, -0.5745375, -0.013092607, -0.081764944, 0.04247154, -0.07617338, -0.024846176, -0.4664692, 0.034621697) * inp_2_1_1;
    result0 += M4(0.023715219, -0.03880655, -0.20799181, -0.25535333, 0.054281335, 0.12974866, 0.009395842, -0.118199594, -0.0788637, 0.030302608, 0.028839896, 0.008034414, 0.16123356, -0.2661719, -0.6020762, -0.026307845) * inp_2_2_1;
    result0 += M4(0.10160469, 0.043717127, -0.09720846, 0.027859662, 0.01887683, 0.050346952, 0.19450612, 0.0667735, 0.16550936, -0.06376143, 0.14273512, 0.041633878, -0.07600376, 0.030415338, 0.09692823, -0.0078788875) * inp_2_0_2;
    result0 += M4(-0.0069305464, 0.0062176515, -0.06193053, 0.00019330884, -0.08260725, 0.16486043, 0.06665763, -0.17118287, 0.15449467, -0.041745458, 0.0036203822, 0.02306032, -0.11495495, 0.10699804, 0.098457746, 0.055621345) * inp_2_1_2;
    result0 += M4(-0.12549533, 0.046404667, 0.054988764, -0.08587011, 0.040988695, 0.11889447, -0.1266405, -0.14772648, 0.050241046, -0.033866707, 0.027868085, -0.013523852, -0.081806175, 0.2029128, -0.062169537, -0.06084273) * inp_2_2_2;
    result1 += M4(-0.08190695, 0.00640643, -0.012975268, -0.45252812, 0.042780522, 0.03764652, -0.017070867, 0.009941294, 0.091659956, -0.10181969, -0.16117461, -0.84567773, -0.15447418, 0.08458266, 0.03533369, 0.20588954) * inp_2_0_0;
    result1 += M4(0.059767902, -0.0060531558, -0.040029015, -0.20722924, 0.12038406, -0.04211196, 0.014781856, -0.17496674, 0.30631003, 0.038802695, 0.090290725, -0.39475337, -0.09425283, -0.14275253, -0.029919084, -0.54661787) * inp_2_1_0;
    result1 += M4(0.14234005, -0.009165224, 0.017687634, -0.21490371, -0.025519803, 0.006163612, 0.009762853, 0.15508066, 0.17335072, -0.001110661, 0.028755294, 0.041467946, -0.17073286, -0.04696041, -0.047613356, 0.7487767) * inp_2_2_0;
    result1 += M4(-0.031671893, -0.013074486, -0.05099645, -0.30526462, -0.032222755, 0.10839529, 0.046028573, -0.2694397, -0.19214654, -0.09738893, -0.18348661, 0.19561388, -0.06990908, -0.0332834, 0.001601946, -0.37838098) * inp_2_0_1;
    result1 += M4(-0.28141618, 0.006463257, -0.11271789, -1.0252599, -0.12177984, -0.0782327, -0.025938543, -0.27246755, -0.5447284, 0.004836604, 0.08956122, -0.3757232, -0.18533832, 0.06451837, -0.0361562, 0.60838175) * inp_2_1_1;
    result1 += M4(-0.3494195, 0.007245749, 0.015561333, -0.6527235, 0.16845839, 0.014477021, 0.0074359123, -0.3426795, -0.07290531, -0.08459687, 0.025772441, 0.1665804, -0.10207216, 0.14638254, -0.016539484, -0.21932082) * inp_2_2_1;
    result1 += M4(-0.024547054, -0.009541686, -0.08166201, -0.39558196, 0.24596454, 0.01841096, 0.01481856, -0.16625382, 0.13742241, -0.05900475, -0.08318996, 0.054532886, -0.12065702, -0.043413624, -0.0040790173, -0.030182026) * inp_2_0_2;
    result1 += M4(-0.15224619, -0.020075213, -0.07574744, -0.54338235, -0.06649035, -0.027385807, -0.16504446, -0.010150096, 0.030851029, -0.021915281, 0.04365146, 0.11467439, 0.017816942, 0.014255795, 0.014521764, 0.2753543) * inp_2_1_2;
    result1 += M4(-0.0754084, -0.025774337, 0.013389743, -0.1188895, 0.06287897, -0.03209566, 0.055267494, -0.2430197, 0.11402989, -0.03165142, 0.05215013, -8.268201e-05, -0.018471649, -0.055787254, -0.001511006, -0.16682138) * inp_2_2_2;
    result2 += M4(-0.030139595, -0.03088543, 0.03016195, -0.07170343, 0.09600775, -0.026351841, 0.007705985, 0.030562786, -0.2354711, 0.36954165, -0.24056041, 0.06954873, 0.10757022, -0.062833056, 0.051443547, 0.04404229) * inp_2_0_0;
    result2 += M4(-0.021151546, -0.08502852, -0.08752709, -0.17256854, -0.07323432, 0.12094218, -0.068051696, 0.077805504, -0.36382207, 0.35439754, 0.110948905, -0.240722, -0.13250422, 0.15139881, 0.004832472, 0.12537123) * inp_2_1_0;
    result2 += M4(0.03722932, -0.06771168, -0.013512373, 0.038145375, 0.028761128, 0.013788517, 0.015424925, -0.057131235, 0.029661017, 0.09336287, 0.00064641057, -0.15415275, 0.08383949, -0.022509867, 0.0021091017, -0.25202537) * inp_2_2_0;
    result2 += M4(-0.010036898, 0.09192797, 0.038817704, 0.19522782, 0.18673822, -0.14025523, 0.1760037, 0.0028672384, 0.121749885, 0.19711284, -0.01472395, 0.07841727, -0.07329434, -0.0067335456, -0.068663016, 0.052713484) * inp_2_0_1;
    result2 += M4(-0.227884, 0.14415245, -0.10058922, 0.02007136, -0.2803792, 0.12836495, -0.13829279, -0.14934026, 0.004073662, 0.33286732, -0.12168924, 0.14387557, -0.016174296, -0.110362165, 0.0123877125, -0.2813232) * inp_2_1_1;
    result2 += M4(-0.119419396, -0.108548805, 0.03940748, -0.20366524, 0.007286721, -0.03685397, 0.02602694, 0.054385215, 0.074506156, 0.1537028, -0.0822954, 0.12340532, -0.26765728, -0.05467462, 0.056112897, -0.046181947) * inp_2_2_1;
    result2 += M4(-0.044907246, -0.041570775, 0.008381182, -0.073373064, 0.06683957, -0.084489964, 0.00834509, 0.07023589, -0.015395317, 0.016178345, -0.033900496, 0.008152016, -0.006125022, 0.0781237, -0.0323061, 0.04947569) * inp_2_0_2;
    result2 += M4(-0.091407664, -0.02134291, 0.027436936, -0.040200554, 0.04259254, 0.0109371785, -0.04528131, 0.047399864, -0.04837112, 0.03694553, 0.04188146, 0.059959456, 0.15788484, -0.13855127, 0.052054897, 0.036962885) * inp_2_1_2;
    result2 += M4(0.13029079, -0.06531802, -0.06036327, -0.0376127, -0.06531552, -0.006479568, -0.021790294, 0.043638013, 0.011254145, 0.0056360094, -0.00863076, 0.027111039, 0.10964861, 0.03454133, -0.109018296, -0.09243938) * inp_2_2_2;
    result3 += M4(-0.013640977, 0.07514565, 0.015053167, 0.01672822, 0.020192191, 0.041161757, 0.010590942, -0.08106663, -0.04400195, 0.18696935, -0.076794915, 0.036054857, 0.0059826365, 0.031579763, 0.047144987, -0.0043896385) * inp_2_0_0;
    result3 += M4(0.010199528, 0.029465953, -0.021834033, 0.0063547604, -0.04594964, -0.15826353, -0.015928604, -0.24927357, 0.0027363545, -0.27160025, 0.033121698, -0.24680659, -0.08480395, 0.025680836, -0.00047628075, 0.0029884744) * inp_2_1_0;
    result3 += M4(0.09191632, 0.15074842, -0.015202726, 0.24823484, 0.003584849, -0.06432025, 0.007819774, 0.13323696, 0.06267111, -0.09953099, 0.02072049, 0.24640737, -0.024837688, -0.089227885, 0.055287722, -0.10217437) * inp_2_2_0;
    result3 += M4(-0.02858876, -0.05057263, 0.011723787, 0.010052365, 0.009073294, -0.05686404, 0.11019451, 0.08034099, -0.009823461, 0.24816951, -8.7645334e-05, 0.009850793, 0.00024817427, -0.06212981, 0.012315946, -0.04085081) * inp_2_0_1;
    result3 += M4(0.012159201, 0.13559191, 0.022272466, -0.19711876, 0.043929875, 0.193265, -0.06225863, -0.061004937, 0.040823124, -0.2370011, 0.1014558, -0.017202556, 0.06502364, 0.30735558, 0.06654928, -0.04806605) * inp_2_1_1;
    result3 += M4(0.020048486, -0.1840175, -0.011793912, -0.03566926, 0.063773945, 0.007382852, 0.016750272, -0.041036442, 0.102058575, -0.23764081, -0.06290466, 0.048270047, 0.06932531, -0.16702607, -0.0637861, -0.080657594) * inp_2_2_1;
    result3 += M4(-0.00203994, 0.10964653, -0.01416234, -0.036503386, -0.008665006, -0.08927616, 0.0016783859, 0.019968998, -0.026414432, 0.11938292, -0.0852479, 0.006043256, 0.007692392, 0.044113554, -0.00793661, 0.0070378683) * inp_2_0_2;
    result3 += M4(0.0069913804, -0.076148614, 0.03556404, -0.048371475, -0.038264714, 0.08128525, -0.0070596663, -0.08241685, -0.0153131215, 0.13075349, 0.015907923, 0.011420516, -0.012725011, -0.21310046, -0.07967487, -0.0047256746) * inp_2_1_2;
    result3 += M4(0.02035171, 0.12535426, -0.032659903, 0.061880827, 0.01458713, 0.13490404, 0.0028804452, -0.023934761, 0.018595554, 0.28135368, -0.018384367, 0.10466468, -0.009155911, -0.012791868, -0.015297415, -0.2978245) * inp_2_2_2;
    const V4 inp_3_0_0 = inp[3][local_xy.y + 0][local_xy.x + 0];
    const V4 inp_3_1_0 = inp[3][local_xy.y + 0][local_xy.x + 1];
    const V4 inp_3_2_0 = inp[3][local_xy.y + 0][local_xy.x + 2];
    const V4 inp_3_0_1 = inp[3][local_xy.y + 1][local_xy.x + 0];
    const V4 inp_3_1_1 = inp[3][local_xy.y + 1][local_xy.x + 1];
    const V4 inp_3_2_1 = inp[3][local_xy.y + 1][local_xy.x + 2];
    const V4 inp_3_0_2 = inp[3][local_xy.y + 2][local_xy.x + 0];
    const V4 inp_3_1_2 = inp[3][local_xy.y + 2][local_xy.x + 1];
    const V4 inp_3_2_2 = inp[3][local_xy.y + 2][local_xy.x + 2];
    result0 += M4(-0.11351812, -0.87902784, 0.23373228, 0.27682889, -0.22797626, -1.330746, 0.19345607, -0.90175205, 0.06254555, 0.11347786, 0.050217476, 0.021181151, -0.11335927, -0.2572941, 0.019998353, 0.023507837) * inp_3_0_0;
    result0 += M4(0.13605514, -0.01844934, 0.099606186, -0.07891946, 0.8488867, -0.3413229, -0.5558048, -0.099963546, 0.08786641, 0.19505085, 0.25284535, -0.06815563, 0.11884486, -0.41908285, 0.058880005, 0.19061565) * inp_3_1_0;
    result0 += M4(0.067206025, -0.2511333, 0.05338552, 0.063711144, 1.1165084, -0.43324363, 0.012194184, -0.4064211, 0.16078147, 0.06548976, 0.022630878, -0.08551331, 0.13225351, -0.14722033, -0.018279975, 0.1687425) * inp_3_2_0;
    result0 += M4(-0.9584933, 0.23341261, 0.033090282, -0.3804003, 0.03389691, 0.05198785, 0.16107057, -0.022668177, 0.038305014, 0.04857243, -0.16714726, 0.09576756, 0.05274194, 0.19310844, 0.24908786, -0.1389356) * inp_3_0_1;
    result0 += M4(-0.30420133, 0.100159526, 0.24548571, 0.22246553, -0.018562462, -0.20689732, -0.11088129, 0.19946112, -0.014039371, -0.21200703, -0.19009794, 0.1938785, -0.5876934, 0.046195503, 0.04674633, 0.21981367) * inp_3_1_1;
    result0 += M4(-0.23190011, 0.1601059, 0.013135661, -0.1377131, -0.054829348, 0.08217957, 0.28403148, -0.20591429, 0.0008740113, 0.13388008, 0.015887592, -0.1780391, 0.14172386, -0.014011374, 0.11590663, 0.10433328) * inp_3_2_1;
    result0 += M4(0.11776965, -0.57359713, -1.3442503, 0.57090235, 0.056522973, -0.021923227, 0.10136848, -0.057073705, -0.020531768, 0.026349887, 0.0071229464, 0.03955081, 0.10844229, -0.026202712, -0.21381526, -0.09038315) * inp_3_0_2;
    result0 += M4(0.046079062, -0.16702193, -0.37441045, 0.16264288, 0.0025730424, -0.024625015, -0.07607597, 0.015432793, -0.095410764, 0.056922734, -0.076531924, -0.022170091, 0.09839127, -0.21138048, -0.3447894, 0.09525751) * inp_3_1_2;
    result0 += M4(0.09568339, 0.0060450844, -0.16872852, 0.019012686, 0.07690898, -0.010196008, 0.10073541, 0.038208812, -0.040318698, 0.021346444, 0.113533296, 0.029976724, -0.018144598, 0.08872297, -0.060488764, 0.12177828) * inp_3_2_2;
    result1 += M4(-0.1845983, -0.036151875, -0.20525418, -0.38956198, 0.5331393, -0.16648997, 0.019731967, -3.8419707, -0.08643012, 0.03290038, -0.0026039428, -0.117108494, 0.09692118, -0.057851486, 0.056773916, 0.26317972) * inp_3_0_0;
    result1 += M4(0.08709815, 0.06810949, 0.01381858, -0.059804402, 0.24979058, 0.34589005, -0.46641296, -1.9538323, -0.28693596, 0.059678696, -0.018028377, 0.17406939, 0.22896285, 0.0035010364, 0.007968391, -0.091785535) * inp_3_1_0;
    result1 += M4(0.041175283, 0.008556414, 0.003203344, 0.06184551, 0.82531834, 0.02785526, -0.13916701, -1.9069262, -0.08278227, 0.014512083, 0.0012162618, 0.081644535, 0.0877903, -0.07103416, 0.0020133983, -0.08454222) * inp_3_2_0;
    result1 += M4(-0.9354109, 0.14634825, -0.33123025, -1.1787852, 0.055471756, 0.026333744, 0.30174989, -0.084252164, 0.08551248, -0.104242556, -0.026452975, -0.024132617, -0.051190387, -0.06939344, 0.0188349, -0.13084675) * inp_3_0_1;
    result1 += M4(0.12629838, 0.0764814, -0.05656603, -0.25592256, -0.16439113, 0.08197084, 0.5783917, -0.05698667, 0.523373, -0.26261044, 0.08460067, -0.028984107, -0.22427411, 0.10704729, 0.071965165, -0.23811914) * inp_3_1_1;
    result1 += M4(-0.03620061, 0.055339914, -0.018621195, -0.16634473, -0.08632185, 0.045026686, 0.13974781, 0.40346676, -0.0019615763, 0.015850097, -0.031844255, 0.055435292, -0.065454535, -0.069953695, 0.029411932, 0.13770531) * inp_3_2_1;
    result1 += M4(-1.0491996, -0.015194287, -0.57717586, -0.048328433, 0.04428648, -0.0456626, 0.0060998434, 0.19179167, 0.06763579, -0.029553844, -0.062492616, -0.053683493, -0.11006497, 0.016465293, -0.006118961, 0.24269506) * inp_3_0_2;
    result1 += M4(-0.28241658, -0.12692615, 0.004207113, 0.36540294, 0.033106353, -0.04168413, -0.011385309, -0.04286495, -0.20945904, 0.15228572, 0.11949909, -0.011743406, -0.37496027, 0.058580656, 0.12135237, -0.2125202) * inp_3_1_2;
    result1 += M4(-0.075053625, -0.04471665, 0.03639314, -0.0015126294, 0.059548844, 0.023377564, 0.0034952671, 0.115621425, 0.19381243, -0.043068137, -0.023085942, -0.09705272, 0.056260847, -0.003145774, 0.0556459, 0.012674747) * inp_3_2_2;
    result2 += M4(-0.2089406, 0.14605036, -0.040244516, -0.029909085, 0.59339255, 1.4825437, -0.13571195, 0.31749097, -0.011993016, -0.029321494, 0.094103105, -0.034046076, 0.07413089, 0.07303333, -0.08091157, 0.14305958) * inp_3_0_0;
    result2 += M4(0.31865484, -0.18044926, 0.032242365, 0.059901867, 1.2551637, 0.48580763, -0.027999442, 0.66370666, -0.018742336, -0.107065395, 0.2970698, -0.21661356, 0.054692056, 0.101612166, -0.058930557, 0.24725921) * inp_3_1_0;
    result2 += M4(0.0204267, 0.021078497, 0.0052505946, 0.16045755, 0.5712333, 1.2669817, 0.34318283, 0.32583547, 0.10275921, 0.012716435, 0.07123487, 0.07325832, 0.11211349, 0.08736091, -0.0746374, 0.013654562) * inp_3_2_0;
    result2 += M4(-0.7108191, 0.84760714, 0.079927616, -0.9229052, 0.083770804, -0.12920089, 0.009640149, -0.045677595, -0.03945477, 0.07815171, 0.047734145, -0.014164481, -0.15046841, 0.22436605, -0.083319545, 0.007543515) * inp_3_0_1;
    result2 += M4(-0.2370958, 0.25387526, 0.0064179013, -0.08327436, -0.031508096, 0.1216006, 0.14461935, 0.28551945, -0.25585175, -0.19244805, 0.31794614, -0.07080528, -0.1413852, -0.09379326, 0.062521555, -0.37477642) * inp_3_1_1;
    result2 += M4(-0.11723649, 0.034660395, 0.06207584, -0.08944776, 0.11445262, 0.008513262, -0.07940746, -0.16025417, 0.15432051, 0.09533532, -0.060443874, -0.103066474, -0.016836844, 0.05192939, 0.013140638, 0.16212028) * inp_3_2_1;
    result2 += M4(-0.67481726, 0.58227175, 0.08658549, -0.13208395, -0.002844174, -0.045213647, -0.0008465719, 0.010897839, -0.0049046353, 0.015419191, 0.052875265, 0.042176127, -0.009036127, -0.0062790583, 0.0060534473, -0.030783202) * inp_3_0_2;
    result2 += M4(-0.14363186, -0.09501945, -0.088726796, -0.08116463, -0.054289375, 0.09239492, -0.043248318, -0.03732213, 0.056568477, -0.006230216, 0.036763366, 0.04070572, -0.15734757, 0.056183193, 0.0748395, 0.053555146) * inp_3_1_2;
    result2 += M4(0.03459473, -0.08766458, -0.026608633, -0.08124522, 0.019316565, 0.009618816, 0.0020897572, 0.05557337, 0.06609787, -0.027811851, -0.021577885, -0.0029657376, 0.0715715, 0.0025446145, -0.04693632, 0.015519301) * inp_3_2_2;
    result3 += M4(0.052790105, 0.5645534, -0.07286708, 0.20535721, 0.36115053, -0.020408936, -0.12636566, 0.66862935, 0.014312921, 0.15543877, 0.03534166, -0.013109472, -0.01390887, -0.052786984, -0.047519032, 0.032507606) * inp_3_0_0;
    result3 += M4(0.1829467, -0.11616771, -0.057569407, 0.11817098, 0.54845124, -0.3299494, 0.2856456, 0.22299123, -0.0307324, -0.2137267, -0.03692269, 0.052131537, 0.0018391385, -0.09709605, -0.09737575, 0.05624976) * inp_3_1_0;
    result3 += M4(-0.031977765, -0.07122096, -0.013875101, 0.1653209, 0.160637, -0.061143048, 0.14443247, 0.20337711, -0.08095136, -0.029138986, 0.017233517, 0.29295382, -0.016288953, 0.011308624, -0.045027222, 0.06121809) * inp_3_2_0;
    result3 += M4(0.005782034, -0.16017418, 0.33518884, -0.992515, 0.07966901, 0.020585818, 0.22250535, 0.041576426, -0.019220905, -0.0052900338, -0.108617775, 0.014372994, -0.032150306, 0.108662605, -0.049479872, -0.05749467) * inp_3_0_1;
    result3 += M4(0.3705273, -0.30837533, 0.03874699, 0.35374945, 0.43839726, -0.27115694, 0.48236623, 0.06864896, 0.24161783, 0.2616019, 0.45919314, 0.01434521, 0.0046159723, -0.44307408, 0.053678922, -0.0031320686) * inp_3_1_1;
    result3 += M4(0.0011554192, -0.22322312, 0.08082587, -0.23832662, 0.2886718, 0.029715337, -0.06432022, 0.005908398, -0.15989767, -0.13479298, -0.049992528, 0.006130073, 0.008056086, 0.333725, -0.018151881, -0.30023104) * inp_3_2_1;
    result3 += M4(-0.14398116, -0.6740217, -0.03097502, -0.61828566, 0.0032440836, -0.03472296, 0.0091756685, 0.039437674, -0.0056796432, -0.075258434, -0.07757467, -0.034436572, -0.009505146, 0.1840032, -0.0023974457, -0.033640694) * inp_3_0_2;
    result3 += M4(0.19655381, 0.29488504, -0.08656974, -0.0862166, 0.046273, 0.04885766, -0.034035847, -0.0365006, 0.020593133, -0.11680275, 0.15614688, 0.023751967, -0.070151076, -0.12476444, 0.025167948, -0.116476625) * inp_3_1_2;
    result3 += M4(0.04263925, 0.25290167, -0.027212875, 0.051893383, -0.048896972, 0.15444405, -0.0026541122, 0.05050138, -0.008806436, 0.12650724, -0.039199054, 0.003939978, 0.033869162, -0.011024554, 0.0098670395, -0.0030311306) * inp_3_2_2;
    const ivec2 output_base = ivec2(gl_GlobalInvocationID) * ivec2(2, 2);
    imageStore(out_image, output_base + ivec2(0, 0), max(result0, V4(0.0)));
    imageStore(out_image, output_base + ivec2(1, 0), max(result1, V4(0.0)));
    imageStore(out_image, output_base + ivec2(0, 1), max(result2, V4(0.0)));
    imageStore(out_image, output_base + ivec2(1, 1), max(result3, V4(0.0)));
}

//!DESC ArtCNN C4F16 Soft (Conv2D-4-ReLU)
//!COMPUTE 24 32 12 16
//!HOOK LUMA
//!BIND conv2d_3
//!SAVE conv2d_4
//!WIDTH LUMA.w 2.0 *
//!HEIGHT LUMA.h 2.0 *
//!COMPONENTS 4
//!WHEN OUTPUT.w LUMA.w / 1.3 > OUTPUT.h LUMA.h / 1.3 > *
#extension GL_EXT_shader_explicit_arithmetic_types_float16 : enable
#ifdef GL_EXT_shader_explicit_arithmetic_types_float16
#	define V4 f16vec4
#	define M4 f16mat4
#	define F float16_t
#else
#	define V4 vec4
#	define M4 mat4
#	define F float
#endif

const ivec2 ksize = ivec2(3, 3);
const ivec2 offset = ksize / 2;
const ivec2 wg_size = ivec2(gl_WorkGroupSize);
const ivec2 isize = wg_size + ksize - 1;
shared V4 inp[4][isize.y][isize.x];
void hook() {
    const uvec2 local_xy = gl_LocalInvocationID.xy;
    ivec2 base = ivec2(gl_WorkGroupID) * wg_size;
    for (uint y = local_xy.y; y < isize.y; y += wg_size.y) {
        for (uint x = local_xy.x; x < isize.x; x += wg_size.x) {
            const ivec2 input_base = (base + ivec2(x,y) - offset) * ivec2(2, 2);
            inp[0][y][x] = V4(conv2d_3_mul * texelFetch(conv2d_3_raw, input_base + ivec2(0, 0), 0));
            inp[1][y][x] = V4(conv2d_3_mul * texelFetch(conv2d_3_raw, input_base + ivec2(1, 0), 0));
            inp[2][y][x] = V4(conv2d_3_mul * texelFetch(conv2d_3_raw, input_base + ivec2(0, 1), 0));
            inp[3][y][x] = V4(conv2d_3_mul * texelFetch(conv2d_3_raw, input_base + ivec2(1, 1), 0));
        }
    }

    barrier();
    V4 result0 = V4(-0.007871572, -0.0018343277, 0.0126471985, -0.015028029);
    V4 result1 = V4(0.010059368, 0.0035269144, -0.004136738, 0.0029124804);
    V4 result2 = V4(-0.015757086, -0.11132162, -0.006849237, -0.0051425514);
    V4 result3 = V4(-0.007334497, 0.010606712, 0.00083481474, -0.0015525743);
    const V4 inp_0_0_0 = inp[0][local_xy.y + 0][local_xy.x + 0];
    const V4 inp_0_1_0 = inp[0][local_xy.y + 0][local_xy.x + 1];
    const V4 inp_0_2_0 = inp[0][local_xy.y + 0][local_xy.x + 2];
    const V4 inp_0_0_1 = inp[0][local_xy.y + 1][local_xy.x + 0];
    const V4 inp_0_1_1 = inp[0][local_xy.y + 1][local_xy.x + 1];
    const V4 inp_0_2_1 = inp[0][local_xy.y + 1][local_xy.x + 2];
    const V4 inp_0_0_2 = inp[0][local_xy.y + 2][local_xy.x + 0];
    const V4 inp_0_1_2 = inp[0][local_xy.y + 2][local_xy.x + 1];
    const V4 inp_0_2_2 = inp[0][local_xy.y + 2][local_xy.x + 2];
    result0 += M4(0.0043035797, -0.018230353, -0.02896712, 0.03205528, -0.0036282877, 0.052160673, 0.022620412, -0.007133064, -0.008007497, 0.08010257, 0.01614703, -0.050748173, 0.01121507, 0.10774145, 0.023263533, -0.012826054) * inp_0_0_0;
    result0 += M4(-0.033038437, 0.043616205, -0.04461975, 0.05882233, 0.0027171858, 0.037180834, 0.020316347, -0.034818865, -0.0015425999, -0.017141923, -0.0081712445, 0.045448754, -0.0062936256, -0.09039541, -0.014127254, 0.031100709) * inp_0_1_0;
    result0 += M4(0.011704055, -0.03433802, -0.011122841, 0.025330292, -0.0029328314, 0.02910962, -0.00672062, -0.002096537, -0.009936505, 0.009413505, -0.027168073, 0.01666683, -0.006970108, 0.029593896, 0.04081396, -0.029606115) * inp_0_2_0;
    result0 += M4(0.0102761, -0.0723333, -0.06483601, 0.073820665, 0.0069928, -0.0391568, -0.03834602, 0.03242522, -0.005572906, -0.21355031, -0.0076252026, 0.02000638, 0.014261864, 0.4945676, 0.01083712, -0.0041527958) * inp_0_0_1;
    result0 += M4(0.012396821, 0.035459325, 0.16732986, -0.09782636, -0.024687096, 0.09346711, -0.019735048, 0.016941635, 0.011705391, -0.03931003, 0.06418249, -0.098751605, 0.013635505, -0.03862972, -0.2036776, 0.15889047) * inp_0_1_1;
    result0 += M4(0.0073176883, -0.04517055, -0.073527224, 0.0649704, 0.00473365, 0.015809583, 0.0019829879, 0.012378767, -0.011344466, -0.02397193, -0.017680502, 0.0039971974, -0.0051820083, 0.06575957, 0.050379656, -0.029956464) * inp_0_2_1;
    result0 += M4(-0.029904405, -0.18128078, -0.020689089, 0.035343975, -0.031744055, 0.059938606, 0.019638982, -0.040881608, 0.0059347134, -0.058550235, -0.016690997, 0.022951962, 0.05819795, 0.24611554, 0.037910413, -0.014516015) * inp_0_0_2;
    result0 += M4(-0.009173221, 0.057110447, -0.044491716, 0.05709158, 0.0785328, -0.072996, 0.0058470606, -0.000240489, -0.083840184, 0.0051808604, -0.052117564, 0.03830379, -0.09591074, -0.13001491, -0.058698785, 0.054912124) * inp_0_1_2;
    result0 += M4(0.0050805514, -0.05136084, -0.024256429, 0.0076694475, -0.04268478, 0.047678348, 0.02157089, -0.013412805, 0.0135329915, 0.021870071, -0.00885549, 0.012047924, 0.044386767, 0.071109265, 0.004100514, -0.014597203) * inp_0_2_2;
    result1 += M4(-0.010134052, -0.07770661, -0.004068892, -0.07325983, 0.007117834, 0.046405114, -0.0025675364, 0.08007741, -0.04611572, 0.054626208, -0.006746196, 0.004750191, -0.027314872, 0.016437883, 0.037509654, 0.031777747) * inp_0_0_0;
    result1 += M4(-0.06841861, -0.097339846, -0.011394461, -0.14803556, 0.023691364, 0.06341313, 0.009836813, 0.109440066, 0.011764192, 0.0417663, -0.029269587, 0.020096421, -0.00977765, 0.06929752, -0.007401934, 0.09485802) * inp_0_1_0;
    result1 += M4(0.0031668306, -0.020285022, -0.013142612, -0.007213955, 0.00045154025, 0.023620103, 0.0053210487, 0.030157976, 0.0025942398, -0.0730405, 0.0034750213, -0.018309588, -0.031271916, 0.05865605, 0.016797973, 0.030747112) * inp_0_2_0;
    result1 += M4(0.028067838, 0.050847273, 0.0064376695, 0.06340171, 0.032465898, -0.0637977, -0.02969828, -0.02383114, -0.00038218306, 0.107234366, -0.0027501923, 0.17649712, -0.04633402, -0.04312354, 0.0010408983, -0.1431748) * inp_0_0_1;
    result1 += M4(0.07544069, 0.028717412, 0.021455767, 0.15103942, -0.13082731, 0.022610107, -0.025024697, -0.14394931, 0.009184848, 0.22570692, -0.05792397, 0.28885967, 0.24480692, 0.031891525, -0.029402798, -0.03413833) * inp_0_1_1;
    result1 += M4(0.04338276, 0.014331531, -0.05368575, 0.043959066, -0.0073897676, -0.056603264, 0.006989493, -0.010986003, 0.008747682, 0.07267381, -0.0011726571, 0.11188425, -0.023424849, 0.0765533, 0.015100057, 0.062399164) * inp_0_2_1;
    result1 += M4(-0.013571722, -0.048976634, -0.013568636, -0.11854487, -0.0018457305, 0.14204605, 0.012035553, 0.1812978, -0.013691886, 0.0043573664, -0.012199383, -0.018729258, 0.071640745, -0.07817252, 0.06212475, 0.058003515) * inp_0_0_2;
    result1 += M4(-0.021337787, -0.110669196, 0.038461458, -0.13052605, 0.06077029, 0.22157906, 0.043025978, 0.33102804, -0.024855668, -0.1410961, -0.0605371, 0.04222985, -0.033605326, -0.13788171, -0.2020875, -0.045703247) * inp_0_1_2;
    result1 += M4(-0.01192339, -0.09147028, -0.051899083, -0.036304712, 0.006793238, 0.18448168, 0.01260255, 0.18453887, -0.0198478, 0.052152026, 0.010117892, -0.023352172, -0.022589795, -0.087205596, 0.02547197, -0.057737682) * inp_0_2_2;
    result2 += M4(-0.0005301101, -0.01920459, 0.005346266, 0.023102667, 0.0030914566, 0.06859112, 5.808909e-06, 0.029263634, 0.0021391583, 0.08390022, 0.0062760026, -0.005870062, 0.053370837, -0.04212775, -0.013072512, -0.015074776) * inp_0_0_0;
    result2 += M4(0.0092394855, -0.103547186, 0.024342166, 0.033415604, -0.0029452245, -0.15523309, -0.007266989, 0.019370431, 0.008837056, 0.026085716, 0.024624681, -0.019881394, 0.03409275, 0.027117474, -0.030739274, -0.018293887) * inp_0_1_0;
    result2 += M4(0.011731565, -0.14026248, -0.04784232, 0.052657526, 0.0066893897, 0.0950356, -0.01994845, -0.012822499, 0.021661714, -0.027699506, -0.092997365, 0.019685877, -0.0046966034, -0.1283173, -0.019725282, -0.012944751) * inp_0_2_0;
    result2 += M4(0.01671144, -0.018824624, 0.016408829, -0.0058981446, 0.005802065, 0.048508808, 0.0065940865, -0.10731464, 0.0211627, -0.03568008, -0.018092679, 0.008870468, 0.1541197, 0.086276494, -0.01839208, 0.03035595) * inp_0_0_1;
    result2 += M4(0.015265827, 0.05784995, -0.035719335, 0.13788006, 0.01891251, 0.06661736, 0.018655607, -0.036195736, 0.092055775, -0.060182292, -0.05604716, 0.085339524, 0.04383506, 0.05935311, 0.15840277, -0.0809846) * inp_0_1_1;
    result2 += M4(0.010534227, -0.022488788, -0.040796686, 0.046426557, -0.0066901785, -0.069507875, -0.108466804, 0.036739435, 0.043276466, -0.02742547, 0.018692745, -0.0332787, -0.017995505, -0.10303103, -0.0143186385, -0.024648285) * inp_0_2_1;
    result2 += M4(0.02203766, -0.13916178, -0.008283168, 0.024531465, 0.0047294428, -0.14207833, -0.0015610209, 0.05014681, 0.017880399, 0.06879308, -0.011611037, 0.01955596, 0.09983477, -0.024178848, 0.0036613494, 0.012059184) * inp_0_0_2;
    result2 += M4(0.016703568, 0.024635434, 0.008471468, 0.03491941, -0.03731093, -0.101891205, -0.038135327, -0.071958, 0.02311551, -0.01945782, 0.009217078, 0.02257532, 0.036297325, -0.081239335, -0.023350678, -0.01675986) * inp_0_1_2;
    result2 += M4(0.0101924455, -0.05515472, 0.035618473, 0.043626092, 0.009911396, 0.09744713, 0.01327263, -0.03677556, 0.016742637, 0.015419494, 0.005151989, 0.010575316, -0.00016381631, -0.057380356, -0.02014116, 0.016234968) * inp_0_2_2;
    result3 += M4(0.040025853, -0.092645176, 0.053574763, 0.01217799, 0.0015936309, -0.0012242588, 0.03929986, 0.006959088, 0.031354737, 0.055449676, -0.06262435, -0.04851089, -0.014773691, 0.16494565, 0.09684099, 0.039592393) * inp_0_0_0;
    result3 += M4(0.04772551, 0.12747632, -0.12915665, -0.00435781, 0.009471195, 0.076592654, -0.015542985, 0.00046954508, 0.086181924, 0.01963497, 0.12898812, 0.02367215, 0.046114407, 0.088640794, 0.09343293, -0.037250426) * inp_0_1_0;
    result3 += M4(0.045231264, -0.08769076, 0.01397319, -0.02346741, 0.0015546082, 0.08822493, 0.058616556, 0.007854447, 0.027126918, 0.030952822, -0.05070302, -0.0062029096, -0.07219673, 0.10589993, -0.008521825, 0.0061488026) * inp_0_2_0;
    result3 += M4(0.024940848, -0.036657576, 0.15439226, 0.049924478, 0.013438446, -0.19933136, 0.045507174, 0.034061503, -0.0021424666, -0.19330044, 0.02263217, 0.021815524, -0.07262694, 0.09394032, 0.19073457, 0.12549028) * inp_0_0_1;
    result3 += M4(0.21978882, 0.16553977, 0.07174812, 0.042550895, -0.12230488, 0.04658691, 0.006003151, 0.002965857, 0.23284064, -0.019856222, -0.08408624, -0.008787357, -0.1318668, -0.21747671, 0.40681088, -0.043766644) * inp_0_1_1;
    result3 += M4(-0.021139562, -0.03924502, 0.0047152853, 0.0007227331, 0.014194724, 0.018797264, -0.0150461495, 0.0024359564, -0.030748822, 0.047427736, 0.04274376, -0.0069004875, 0.09102845, 0.19446611, -0.02757355, 0.024143778) * inp_0_2_1;
    result3 += M4(0.03668187, -0.053602025, 0.03230688, 0.007417986, 0.01966267, 0.067862965, -0.16725497, -0.006018124, 0.028402973, 0.007598076, 0.010510306, -0.003725144, 0.108995736, 0.28151286, 0.0020569735, 0.067769706) * inp_0_0_2;
    result3 += M4(-0.04677021, 0.122933164, -0.009448507, -0.022395449, 0.032889426, -0.19288366, 0.0043387287, -0.012215775, -0.031570006, -0.022873688, -0.017286532, -0.0019981905, -0.008238571, 0.032298706, 0.025743024, -0.0296831) * inp_0_1_2;
    result3 += M4(0.057536535, -0.008425727, -0.042966396, -0.008434905, -0.0033006165, 0.07977219, 0.008883178, 0.003404836, 0.021621592, 0.023572002, 0.006057554, 0.007470465, -0.0020170663, 0.041373886, -0.0179482, 0.013072622) * inp_0_2_2;
    const V4 inp_1_0_0 = inp[1][local_xy.y + 0][local_xy.x + 0];
    const V4 inp_1_1_0 = inp[1][local_xy.y + 0][local_xy.x + 1];
    const V4 inp_1_2_0 = inp[1][local_xy.y + 0][local_xy.x + 2];
    const V4 inp_1_0_1 = inp[1][local_xy.y + 1][local_xy.x + 0];
    const V4 inp_1_1_1 = inp[1][local_xy.y + 1][local_xy.x + 1];
    const V4 inp_1_2_1 = inp[1][local_xy.y + 1][local_xy.x + 2];
    const V4 inp_1_0_2 = inp[1][local_xy.y + 2][local_xy.x + 0];
    const V4 inp_1_1_2 = inp[1][local_xy.y + 2][local_xy.x + 1];
    const V4 inp_1_2_2 = inp[1][local_xy.y + 2][local_xy.x + 2];
    result0 += M4(0.018668856, -0.087790444, 0.027689228, -0.010465367, 0.016738513, 0.034140144, 0.01023622, 0.0054719048, 0.017520694, 0.64339733, -0.15871716, 0.11818148, 0.00031432626, 0.10447922, 0.029655231, -0.022792216) * inp_1_0_0;
    result0 += M4(-0.0023200081, -0.17075382, 0.13232934, -0.06245151, -0.080822736, -0.05116024, -0.15849118, 0.16205236, -0.09604288, -0.027754724, 0.22960055, -0.12577538, -0.01213364, -0.020768994, -0.010725616, 0.027724) * inp_1_1_0;
    result0 += M4(-0.0011127674, 0.05478558, 0.011876923, 0.010325838, 0.03329448, 0.036601216, 0.017479675, 0.039931063, -0.035530414, -0.03200491, -0.15384986, 0.1961844, 0.008045063, -0.040465318, -0.012083339, 0.0060573365) * inp_1_2_0;
    result0 += M4(0.0072500533, -0.31491667, -0.032065544, 0.008314015, 0.0057132267, -0.014246046, -0.11706322, 0.08324653, 0.033825036, 0.004994608, -0.04589093, 0.033808365, -0.017647462, -0.04919817, 0.025218915, -0.02881546) * inp_1_0_1;
    result0 += M4(-0.041941263, 0.12410182, -0.09075925, 0.021193746, -0.10019341, -0.04544183, -0.20124544, 0.21768768, 0.11855603, 0.13118884, -0.0055729626, -0.0661711, 0.07625715, -0.018559782, -0.032463547, 0.070077695) * inp_1_1_1;
    result0 += M4(0.04189184, 0.009730706, -0.025510501, 0.026467988, -0.007129898, -0.06513618, -0.049106736, 0.04888363, 0.07527822, 0.32863477, 0.08371335, -9.2465474e-05, -0.0261087, 0.062860906, 0.07060333, -0.053898662) * inp_1_2_1;
    result0 += M4(-0.03880501, -0.104028754, 0.008431407, -0.024371618, -0.065066576, -0.20414333, -0.02902209, 0.0039012295, -0.016623033, 0.50094914, -0.014068191, -0.0046104346, 0.046952132, 0.22046834, -0.007908619, -0.025562365) * inp_1_0_2;
    result0 += M4(0.08025645, 0.10588878, 0.04024541, -0.019535067, 0.15479152, 0.17105569, 0.043137614, -0.0020553654, 0.057964373, 0.032474115, 0.043120127, -0.014883319, -0.08119527, -0.12642363, -0.0225545, 0.0056364457) * inp_1_1_2;
    result0 += M4(-0.040041156, -0.013572493, -0.0012703408, -0.00058653794, -0.087355986, -0.08748134, -0.0032382598, 0.00044164064, -0.025905773, -0.014949567, -0.005888731, 0.008395535, 0.030258603, 0.20676251, 0.0140963765, -0.017268382) * inp_1_2_2;
    result1 += M4(0.03420822, -0.005923321, -0.021404086, 0.14661118, -0.044470116, 0.020216022, 0.007129948, 0.057083268, 0.059485804, 0.25423187, -0.025439968, 0.12207766, -0.012667605, 0.011744193, -0.014755275, 0.04343584) * inp_1_0_0;
    result1 += M4(0.2175775, 0.0047144126, 0.046846356, 0.060807075, -0.24202183, -0.0662677, -0.03946554, -0.2378333, -0.11330685, 0.106775835, 0.012803444, 0.12738454, 0.023513205, -0.0716439, -3.406649e-05, -0.11998448) * inp_1_1_0;
    result1 += M4(-0.0022142145, 0.06623972, 0.007552562, 0.12551823, -0.039916385, -0.062179185, 0.016249698, -0.08305887, 0.1338214, -0.18891102, 0.036870137, -0.37868884, 0.0077883936, 0.06876791, 0.0045076157, 0.103850015) * inp_1_2_0;
    result1 += M4(0.0062593766, 0.023773257, -0.0073084855, 0.018912446, 0.008638401, 0.0820958, 0.06135895, -0.020260915, 0.01368952, -0.12356258, -0.023820715, -0.008496987, -0.021264601, 0.008321096, 0.0009605304, 0.009288383) * inp_1_0_1;
    result1 += M4(-0.14799394, 0.11876749, -0.02477069, -0.34774706, -0.27168977, -0.104429126, 0.21125089, -0.050390307, -0.24070716, -0.7365173, -0.03544718, -0.48448703, 0.06853157, -0.00035365098, 0.0037918077, -0.06115192) * inp_1_1_1;
    result1 += M4(-0.0044107456, 0.1386809, 0.0075781266, 0.07201232, -0.065921724, -0.043537207, 0.008814066, 0.07465222, 0.029519685, 0.41172373, -0.015769286, 0.39066228, -0.07570845, -0.09572083, -0.015272693, -0.12521298) * inp_1_2_1;
    result1 += M4(-0.00868922, 0.046968553, -0.0075774672, 0.017948486, -0.013684465, -0.06979892, 0.008009446, -0.07393557, -0.023088675, 0.038684733, -0.05563381, 0.097611025, -0.006723466, -0.04450948, 0.016455106, -0.021623716) * inp_1_0_2;
    result1 += M4(0.004552643, 0.16164227, 0.056131944, 0.12312802, 0.031691086, -0.016582394, 0.2288769, -0.022979729, 0.050817586, 0.35162595, 0.050149824, 0.22910872, 0.0036812602, -0.19915022, 0.011398602, -0.1380487) * inp_1_1_2;
    result1 += M4(-0.0010104626, 0.060775917, 0.034678977, 0.050803203, 0.028782165, -0.04053563, -0.011249776, 0.04056888, -0.028686274, -0.0352474, -0.042634137, -0.0005722117, 0.015477757, -0.039354336, 0.030652264, 0.014289024) * inp_1_2_2;
    result2 += M4(0.046605762, -0.14013167, -0.012947681, 0.02880083, -0.0035144219, -0.14692636, 0.02395344, 0.06107598, 0.009179578, 0.03292322, -0.0005678369, -0.05337034, 0.011410735, 0.03508714, -0.0002469613, -0.009232389) * inp_1_0_0;
    result2 += M4(0.09517378, -0.0372792, -0.021494461, 0.07035084, -0.07254707, -0.139329, -0.015534013, -0.17056772, -0.0074493526, -0.037666414, 0.039724924, 0.18973833, 0.023316711, -0.0076883733, 0.0050964965, -0.042509016) * inp_1_1_0;
    result2 += M4(0.07528111, -0.04766232, 0.12931761, 0.05298004, -0.016662221, -0.06476993, -0.24372075, 0.062214736, 0.16796874, 0.09467124, -0.14519675, 0.16253467, -0.00096495566, 0.07713081, 0.021430317, 0.024102617) * inp_1_2_0;
    result2 += M4(0.007048562, -0.0009702806, -0.005401467, -0.024444878, 0.012961954, -0.08828139, -0.016784836, -0.12120773, -0.025415845, -0.110485606, 0.003385991, 0.012897603, 0.019591978, -0.011338601, -0.0074585127, 0.0354183) * inp_1_0_1;
    result2 += M4(0.083378814, -0.11844935, 0.0072994856, -0.0011991732, 0.27909994, -0.11282043, -0.11643185, 0.15486531, 0.042386696, 0.057095334, -0.05226213, -0.06845249, 0.022080181, -0.079801284, 0.016672194, -0.07230727) * inp_1_1_1;
    result2 += M4(0.031182257, -0.12544236, 0.015810871, 0.020200498, 0.04474882, -0.1502758, 0.18761276, -0.019429723, 0.08561334, 0.04541043, 0.017489815, -0.036023714, 0.01475698, 0.0084071215, 0.031951554, -0.019083563) * inp_1_2_1;
    result2 += M4(-0.01075413, -0.050740715, 0.0062534376, -0.0022412091, 0.0104922615, -0.12032787, 0.011403175, -0.0133872125, 0.0039352695, -0.12227978, -0.017942408, -0.0054907096, -0.002585225, 0.07336206, -0.0055512004, -0.045831893) * inp_1_0_2;
    result2 += M4(0.00062777154, -0.049035028, -0.0076405234, -0.024308152, 0.04144042, -0.05940981, -0.037373584, 0.00041723906, 0.014154845, -0.06464906, -0.013617481, -0.013759088, 0.01159341, 0.038699992, 0.006930051, -0.018601267) * inp_1_1_2;
    result2 += M4(0.008088833, -0.13705021, -0.044426985, -0.014302881, 0.013741647, 0.03187792, -0.014579408, 0.020104665, 0.020641318, -0.023550816, -0.045150153, -0.072972745, 0.012857782, 0.05522607, -0.0804871, -0.034483787) * inp_1_2_2;
    result3 += M4(-0.010697919, -0.0052542603, 0.020196088, -0.0049247774, 0.038386427, -0.05763834, 0.04047286, 0.012178664, 0.03360001, -0.3706752, 0.48122784, 0.02924301, -0.053722516, 0.19777423, -0.08981906, 0.038166538) * inp_1_0_0;
    result3 += M4(0.022246303, -0.19106822, -0.045945346, -0.0011325225, 0.08424577, -0.19157219, -0.19036484, 0.019053606, 0.15347053, 0.8848632, -0.39307275, 0.242615, -0.054573726, -0.11380173, 0.13675137, 0.030408816) * inp_1_1_0;
    result3 += M4(0.06400776, 0.04474679, 0.004192649, -0.014312669, 0.027200602, 0.002046848, -0.039074346, -0.01914641, 0.11315884, 0.8033237, 0.3762975, 0.02220691, -0.02232195, 0.026524162, 0.0655087, -0.0010813343) * inp_1_2_0;
    result3 += M4(0.044829044, 0.10156641, 0.030614665, -0.04447027, 0.052540783, -0.027236758, 0.11827922, 0.10881697, -0.049652126, -0.072562695, 0.12163744, -0.14474367, -0.0025297191, 0.053405035, -0.025942348, -0.035429627) * inp_1_0_1;
    result3 += M4(-0.14542627, -0.21483886, -0.082437076, 0.017972952, -0.17647311, -0.19518542, -0.16426125, -0.12164112, -0.13647334, 0.080164, 0.09985365, 0.09827541, -0.027703738, 0.08162839, 0.04662548, -0.07449789) * inp_1_1_1;
    result3 += M4(-0.012734034, -0.12001428, -0.0045691207, 0.011345859, -0.03061135, 0.019553663, -0.03683767, -0.028145421, 0.10843637, 0.28179494, 0.070793346, 0.04992971, 0.036347974, 0.052162226, -0.17199622, 0.042114396) * inp_1_2_1;
    result3 += M4(-0.02884169, 0.002252591, 0.0058185174, 0.02245776, -0.053705357, -0.16196606, 0.0048197354, 0.0018472163, -0.0076507633, -0.046962295, 0.028795246, 0.0681263, 0.033385575, 0.04751134, 0.035003114, -0.0068618646) * inp_1_0_2;
    result3 += M4(0.017601172, 0.013657695, 0.020025752, -0.01786284, 0.01891765, 0.17618862, -0.004392915, -0.020437364, 0.063964635, -0.012274015, 0.028594436, 0.07140562, -0.053703986, -0.10498424, 0.07226578, 0.056236997) * inp_1_1_2;
    result3 += M4(-0.01632812, 0.033833165, 0.00946605, 0.006729768, -0.014493341, -0.08447298, 0.00018679452, -0.0041537145, -0.04225606, 0.27516586, 0.003472876, 0.037608657, -0.0077497247, 0.1481726, 0.024004124, 0.0077384366) * inp_1_2_2;
    const V4 inp_2_0_0 = inp[2][local_xy.y + 0][local_xy.x + 0];
    const V4 inp_2_1_0 = inp[2][local_xy.y + 0][local_xy.x + 1];
    const V4 inp_2_2_0 = inp[2][local_xy.y + 0][local_xy.x + 2];
    const V4 inp_2_0_1 = inp[2][local_xy.y + 1][local_xy.x + 0];
    const V4 inp_2_1_1 = inp[2][local_xy.y + 1][local_xy.x + 1];
    const V4 inp_2_2_1 = inp[2][local_xy.y + 1][local_xy.x + 2];
    const V4 inp_2_0_2 = inp[2][local_xy.y + 2][local_xy.x + 0];
    const V4 inp_2_1_2 = inp[2][local_xy.y + 2][local_xy.x + 1];
    const V4 inp_2_2_2 = inp[2][local_xy.y + 2][local_xy.x + 2];
    result0 += M4(-0.020837355, 0.26140124, 0.027403355, -0.0740062, 0.008900569, -0.5896901, 0.004215542, 0.00020846387, -0.004190028, 0.02424805, 0.00055292045, -0.009344247, 0.0046862476, -0.038553145, 0.031350028, -0.039019562) * inp_2_0_0;
    result0 += M4(0.0331916, -0.011361407, 0.071824856, -0.059998192, -0.008356009, 0.06698651, -0.10310607, -0.034156367, 0.02695162, -0.07321213, 0.033089202, -0.07351595, -0.00087103096, -0.031347357, 0.04893337, -0.06865126) * inp_2_1_0;
    result0 += M4(-0.022610694, 0.018530222, 0.021355988, -0.04372925, 0.018687548, 0.068808034, -0.016240332, -0.012974131, -0.00031326452, 0.027563065, 0.0581611, -0.052749243, -0.01321117, -0.01757859, -0.003502444, -0.00761135) * inp_2_2_0;
    result0 += M4(0.0006343881, 0.21752615, 0.04286623, -0.04872006, 0.010254742, -0.36879247, 0.0051379465, -0.025092803, -0.047271643, 0.04680233, 0.10188044, -0.06783291, 0.03883963, -0.12711284, -0.13269123, 0.07121269) * inp_2_0_1;
    result0 += M4(-0.006392763, -0.023285186, -0.1378803, 0.25742513, -0.009647387, -0.16393264, -0.020658202, -0.097417556, 0.036106836, 0.1542469, 0.2855331, -0.32058918, 0.04601443, 0.06328385, 0.069426894, 0.054856773) * inp_2_1_1;
    result0 += M4(0.01711455, 0.024445768, 0.06547011, -0.09147597, -0.04337387, -0.1425966, -0.061254654, -0.03465839, -0.01279958, 0.083901055, 0.24966522, -0.22206944, 0.009969317, -0.04889258, -0.0639911, 0.02909471) * inp_2_2_1;
    result0 += M4(0.021323299, 0.23116082, 0.011427476, -0.008137797, 0.035326056, -0.49380028, -0.02447854, 0.008530176, 0.07279938, 0.24360126, 0.013395128, -0.020286713, 0.0020943182, 0.12415255, -0.009407815, -0.010833915) * inp_2_0_2;
    result0 += M4(-0.02500617, -0.034365945, 0.057633936, -0.043625664, -0.16301003, 0.043184597, -0.0012769721, 0.0051952577, -0.20421998, -0.10118943, 0.07640846, -0.067724966, 0.29430363, -0.054077942, 0.059672263, -0.07661061) * inp_2_1_2;
    result0 += M4(0.03165224, 0.061178785, 0.019243944, -0.0267802, -0.07227871, 0.117903784, -0.028603762, 0.01956053, 0.028844863, 0.038411792, 0.029338835, -0.013173035, -0.002259997, -0.030416638, -0.029172657, -0.005022255) * inp_2_2_2;
    result1 += M4(-0.029634148, 0.114365056, 0.028212659, 0.14327158, -0.008145328, 0.0700042, 0.0038154526, 0.07737291, 0.008607057, -0.003707468, -0.003247445, 0.0093901, 0.015037586, 0.022084188, 0.0075646937, 0.07539063) * inp_2_0_0;
    result1 += M4(0.08664829, 0.06142122, 0.0067030643, 0.22342235, -0.08395496, -0.0258152, -0.008163116, -0.23338693, 0.10062533, 0.093677334, 0.025567042, 0.123258576, 0.07947709, 0.04990223, 0.0030320792, 0.08159963) * inp_2_1_0;
    result1 += M4(-0.021190954, 0.036940236, 0.00400665, 0.08803119, -0.024765683, 0.042739693, 0.026688613, 0.03664016, -0.024486683, 0.03534428, 0.008481219, 0.044121753, 0.0076822033, -0.024323842, 0.0051488574, -0.025054885) * inp_2_2_0;
    result1 += M4(-0.02923237, -0.08175513, -0.035513755, 0.04569969, -0.004027385, 0.067940384, 0.00850094, -0.028073855, 0.023471557, -0.03353626, -0.018285792, -0.031203263, 0.044768937, -0.041020714, -0.008794871, -0.045513686) * inp_2_0_1;
    result1 += M4(0.16082893, -0.12071835, -0.112905875, 0.053531285, -0.06999468, -0.4491052, -0.06135717, -0.31913513, 0.108194664, 0.0412876, -0.11469761, -0.11687305, -0.020068139, -0.07386125, -0.09827106, -0.001319508) * inp_2_1_1;
    result1 += M4(-0.092838384, -0.03155538, 0.025256205, 0.0034172263, -0.048330005, -0.27145198, -0.018032918, -0.15662365, -0.060523823, 0.15402718, 0.10710156, 0.049361728, 0.029793266, -0.07938177, -0.0275735, -0.111997716) * inp_2_2_1;
    result1 += M4(-0.011897992, 0.23710234, 0.043029528, 0.0032014598, 0.0030531099, 0.034058418, 0.020088177, 0.042721614, 0.0020794016, 0.08780222, -0.027983336, 0.1134842, -0.0088213645, 0.04928442, -0.053865768, 0.012839535) * inp_2_0_2;
    result1 += M4(0.02865195, 0.25300857, 0.10648896, -0.15250528, -0.01918926, -0.42674303, -0.09043112, -0.10993553, 0.0030892722, -0.2273578, -0.2048174, -0.008290053, -0.0042520734, 0.30904275, 0.182293, 0.21390346) * inp_2_1_2;
    result1 += M4(0.0041007944, 0.038648862, 0.022421164, -0.045966536, -0.018248051, -0.3594652, -0.018183626, -0.035697132, -0.01882724, -0.10332874, 0.10547156, -0.19525537, -0.005968312, 0.04882049, -0.037006233, -0.021992186) * inp_2_2_2;
    result2 += M4(-0.0037536963, -0.13728656, -0.0046900394, 0.020658936, 0.0023215583, -0.15452732, -0.0016152966, 0.057334404, -0.0015274314, -0.026537389, -0.017221402, -0.012672647, 0.037156865, -0.01945456, 0.0027580748, -0.015089153) * inp_2_0_0;
    result2 += M4(0.012019164, -0.057968836, -0.061952792, -0.015651366, -0.03834073, -0.10982704, -0.021950195, -0.11185573, 0.047156345, -0.11057425, -0.012457219, 0.007418767, 0.016551357, -0.08665055, 0.042682044, 0.05176442) * inp_2_1_0;
    result2 += M4(0.0031925833, -0.044483148, 0.11810126, -0.0013571961, -0.031129323, -0.1162144, -0.09049345, -0.0843419, -0.013237288, -0.066753924, 0.11113024, -0.024304342, 0.0110477, 0.087019384, 0.032571852, -0.07129512) * inp_2_2_0;
    result2 += M4(0.039069865, -0.07213869, -0.028963493, 0.017958878, -0.01594668, -0.13892725, -0.011774017, 0.02069863, 0.0029604807, -0.096787564, -0.014047743, 0.06672469, 0.09679357, -0.09064871, -0.010423265, -0.05362039) * inp_2_0_1;
    result2 += M4(0.027703619, -0.018388467, 0.09174503, 0.16810822, -0.024292184, 0.09108571, 0.073536165, -0.16879942, 0.042961054, -0.055034906, 0.07540674, -0.0780206, 0.012905702, -0.13587761, 0.025393162, -0.04242058) * inp_2_1_1;
    result2 += M4(-0.013504516, 0.07831288, 0.0076057133, -0.047858775, -0.014149287, -0.022087483, -0.4767219, -0.10507239, -0.052179437, -0.11389787, -0.35258797, -0.04632797, 0.017064229, -0.08078888, 0.26135543, -0.010416842) * inp_2_2_1;
    result2 += M4(0.021128345, -0.0746445, 0.011733767, 0.032076307, -0.0010748539, -0.15362228, 0.0013098558, -0.01607508, -0.004436715, -0.13867216, -0.013573238, -0.0074884174, -0.023302443, -0.017740143, -0.002447536, 0.030753665) * inp_2_0_2;
    result2 += M4(-0.030910596, -0.16496061, -0.059127588, -0.08288367, 0.011967696, -0.13824439, -0.017939439, -0.0063790907, -0.03679177, 0.022623619, 0.06227081, -0.044957716, 0.04429957, 0.014010362, 0.006006201, -0.035736226) * inp_2_1_2;
    result2 += M4(-0.038874634, -0.12505193, -0.04095292, -0.028698461, -0.0015483883, -0.11898642, 0.0060583376, 0.009665229, -0.036120392, -0.0011832404, 0.044292133, -0.029621381, 0.012250902, -0.007821935, 0.106594, -0.058195934) * inp_2_2_2;
    result3 += M4(-0.050051156, 0.24502017, -0.124334, -0.036878027, 0.01716711, 0.12838762, 0.08478388, 0.0449537, -0.029394796, 0.15214646, -0.015614843, 0.0032036998, -0.06583144, -0.11805901, 0.035772122, -0.019994188) * inp_2_0_0;
    result3 += M4(-0.078587525, 0.05165395, 0.22995847, 0.038220763, 0.039283216, -0.29566136, -0.14608513, -0.06653269, -0.044143226, -0.20412804, 0.025253082, -0.047976427, 0.017716413, 0.046615284, 0.050880183, -0.024193842) * inp_2_1_0;
    result3 += M4(-0.02568483, 0.06317022, -0.03944603, 0.031287186, -0.07696217, -0.30897048, -0.06454995, -0.00706267, -0.09448481, 0.07842742, -0.056468245, 0.027341655, -0.004335312, 0.046967953, -0.016156875, 0.012302779) * inp_2_2_0;
    result3 += M4(-0.020948932, 0.07511748, -0.1377917, -0.077764146, 0.00968103, -0.024705593, 0.036098257, -0.038444996, -0.0045440425, 0.07114705, -0.10239029, -0.0897271, -0.027689785, -0.28101993, 0.108592235, 0.052533653) * inp_2_0_1;
    result3 += M4(-0.014273818, 0.04128725, 0.111682616, -0.033388607, -0.14470658, -0.46951047, -0.089078456, -0.10611074, -0.055783257, -0.13732581, -0.04311034, 0.044505432, 0.0052222265, 0.29296324, -0.011859934, 0.049233582) * inp_2_1_1;
    result3 += M4(0.05984694, -0.02684577, -0.0633838, 0.0350756, 0.041630037, -0.46769187, -0.01789646, -0.00015888494, 0.109225325, 0.100002564, -0.018721748, 0.050059155, -0.0829729, -0.106764756, 0.003997645, 0.007773134) * inp_2_2_1;
    result3 += M4(0.04212875, 0.20784928, -0.016321262, 0.029269515, 0.0044190534, 0.07160282, -0.013609392, 0.012298715, -0.0060312487, 0.052645087, -0.008273686, -0.032766547, -0.08065222, -0.10037434, -0.014899311, -0.020010551) * inp_2_0_2;
    result3 += M4(0.04169818, 0.032247975, 0.053860903, 0.013913156, -0.0662362, 0.004777253, 0.03595064, 0.013774773, 0.054548375, -0.032328952, 0.03413925, 0.003155836, 0.06899896, 0.017780127, -0.011702449, 0.007914217) * inp_2_1_2;
    result3 += M4(-0.04576748, 0.021530572, 8.243322e-05, 0.010918789, 0.014485102, 0.13664389, -0.016684266, -0.004298241, -0.02855998, 0.16458994, -0.008573942, 0.013581537, -0.043599695, -0.0583793, 0.037796956, -0.012915187) * inp_2_2_2;
    const V4 inp_3_0_0 = inp[3][local_xy.y + 0][local_xy.x + 0];
    const V4 inp_3_1_0 = inp[3][local_xy.y + 0][local_xy.x + 1];
    const V4 inp_3_2_0 = inp[3][local_xy.y + 0][local_xy.x + 2];
    const V4 inp_3_0_1 = inp[3][local_xy.y + 1][local_xy.x + 0];
    const V4 inp_3_1_1 = inp[3][local_xy.y + 1][local_xy.x + 1];
    const V4 inp_3_2_1 = inp[3][local_xy.y + 1][local_xy.x + 2];
    const V4 inp_3_0_2 = inp[3][local_xy.y + 2][local_xy.x + 0];
    const V4 inp_3_1_2 = inp[3][local_xy.y + 2][local_xy.x + 1];
    const V4 inp_3_2_2 = inp[3][local_xy.y + 2][local_xy.x + 2];
    result0 += M4(0.02778886, 0.15727045, 0.022929778, -0.06292965, -0.0062877806, -0.054497037, -0.056177184, 0.035629056, -0.00468599, -0.26187852, 0.0377013, -0.0041322154, 0.014520754, 0.25994915, -0.019642716, -0.003880382) * inp_3_0_0;
    result0 += M4(0.029242728, 0.14732984, -0.02375618, 0.0009861316, 0.004607136, -0.17453262, 0.06381363, -0.035844944, -0.029732848, -0.1685925, -0.0435259, 0.06052442, -0.07135232, -0.19259956, -0.076957524, 0.08978248) * inp_3_1_0;
    result0 += M4(-0.013985487, -0.10286525, -0.04401425, 0.011480411, 0.009696805, 0.13155703, -0.015916027, 0.02526573, 0.012522533, -0.026869657, -0.11209524, 0.066120915, 0.037803024, 0.23785132, 0.042641915, 0.012841316) * inp_3_2_0;
    result0 += M4(0.084988035, -1.1270375, 0.11653047, -0.015768968, -0.02593506, 0.013434968, -0.028654872, 0.035122808, -0.0034641733, -0.2368581, 0.0010809297, -0.0012209535, -0.0478094, 0.096508525, 0.019488474, -0.10558399) * inp_3_0_1;
    result0 += M4(0.05337272, 0.16629666, 0.08723777, -0.14551856, -0.06568397, -0.15308538, -0.03969113, 0.027201144, 0.22346371, -0.033001017, -0.18587114, 0.20723042, 0.114212364, -0.2875518, 0.077227, 0.05831232) * inp_3_1_1;
    result0 += M4(0.010958678, -0.09137622, -0.04369565, 0.018170187, 0.011330662, 0.036043253, 0.009976791, -0.02261408, 0.0014832056, -0.0952717, -0.21961254, 0.18169253, -0.08666529, 0.14228198, 0.034533538, -0.0077007557) * inp_3_2_1;
    result0 += M4(0.109707735, -0.5618212, -0.0002589136, 0.008632196, 0.023550613, 0.11578591, 0.0100705195, -0.017798176, 0.0039517623, -0.21806668, -0.01614329, 0.026173722, -0.16610257, 0.13529707, -0.019824486, -0.088907756) * inp_3_0_2;
    result0 += M4(0.07939293, 0.10681601, 0.056401346, -0.061825857, -0.034319002, -0.07755007, 0.008945698, 0.004261005, -0.19550286, 0.14633283, -0.093096375, 0.061608236, -0.31226066, -0.08071102, -0.031688802, 0.078857616) * inp_3_1_2;
    result0 += M4(-0.023044303, -0.11597886, -0.00016976382, 0.01595364, -0.054068107, 0.03075926, 0.022800617, -0.03224391, 0.019132758, -0.020511903, -0.017576363, -0.006394074, 0.080057874, 0.067677386, -0.0013297371, -0.0143816145) * inp_3_2_2;
    result1 += M4(-0.010624166, 0.11928186, 0.030738682, 0.03343136, -0.014342377, 0.022582104, -0.009418768, -0.18473677, 0.012636062, -0.1860387, -0.008874877, -0.09021365, -0.053759236, -0.14846593, -0.050089687, -0.23386756) * inp_3_0_0;
    result1 += M4(0.034105595, 0.14358887, -0.022500299, 0.20358326, -0.091484755, -0.17068923, -0.003433635, -0.1441625, 0.2876946, -0.29120457, -0.038311996, -0.3305463, 0.056863498, -0.1353579, -0.0053654104, -0.21947755) * inp_3_1_0;
    result1 += M4(0.03392254, -0.07851117, -0.020880379, -0.058409568, 0.017919624, 0.022021335, 0.0032206858, 0.16443822, 0.087238975, -0.075188644, -0.03286845, -0.15830874, -0.050424736, -0.11621009, -0.0058006337, -0.1674815) * inp_3_2_0;
    result1 += M4(0.027630247, -0.14906667, 0.013367245, 0.06623612, 0.02270383, -0.057919033, -0.0040772995, -0.104445174, -0.058587585, 0.1554282, 0.029884374, 0.02022775, 0.04745919, 0.20302284, 0.051007446, 0.16394255) * inp_3_0_1;
    result1 += M4(-0.24412133, -0.09546743, -0.038683146, -0.3013052, -0.043900322, 0.011940867, 0.053861752, -0.24075547, 0.20529748, 0.31876957, -0.15083957, 0.4090491, 0.072843686, 0.117434815, 0.024931101, 0.25249162) * inp_3_1_1;
    result1 += M4(0.0528014, 0.024857277, -0.010706663, -0.0207936, -0.034178484, -0.11045596, -0.070455395, -0.14524403, 0.26591888, -0.19186592, -0.19775212, -0.073949866, 0.07005269, 0.1921438, 0.018569604, 0.2591218) * inp_3_2_1;
    result1 += M4(-0.007253133, 0.077393174, 0.118269585, -0.24749073, -0.063592024, -0.117752805, -0.028714493, -0.07005298, 0.010225942, -0.05800352, 0.021506697, 0.0041087586, -0.028482301, -1.0197433, 0.019882215, -0.24823067) * inp_3_0_2;
    result1 += M4(0.037875287, 0.018432787, 0.20479295, 0.15417142, 0.006299985, -0.010411381, -0.015071166, 0.06445603, -0.028453017, -0.34241557, -0.1384895, -0.22871743, 0.03471936, -0.10494952, -0.114821374, -0.1699782) * inp_3_1_2;
    result1 += M4(-0.034602974, 0.03823893, 0.0049882587, 0.089455664, 0.0070392005, 0.03625606, 0.0117496345, -0.08069038, 0.027402116, -0.024705533, -0.14071423, -0.12543885, -0.050650105, -0.058114935, -0.020763293, -0.10271528) * inp_3_2_2;
    result2 += M4(0.0029608733, -0.09769727, 0.02532113, 0.055675205, -0.01268551, -0.050279684, -0.017431267, -0.053576246, -0.008332682, -0.025492486, 0.009490685, 0.035457004, 0.003641922, -0.13332428, -0.009391368, -0.055312607) * inp_3_0_0;
    result2 += M4(0.005614103, -0.1041162, 0.02230181, 0.1133468, -0.02550657, 0.05575424, 0.018919718, 0.08557609, 0.030978244, 0.009093102, 0.018482903, -0.10155855, 0.0047041303, 0.060409375, -0.045858417, -0.12315465) * inp_3_1_0;
    result2 += M4(0.010620209, -0.095792994, 0.2329891, 0.028728956, -0.0028709574, 0.09533256, -0.09310744, 0.024897104, 0.07661607, -0.02303918, 0.18441705, -0.011413736, -0.013780096, -0.045689557, 0.010103612, 0.023424447) * inp_3_2_0;
    result2 += M4(0.058971334, -0.020752741, 0.0090487255, 0.11475611, 0.0053657284, -0.15297268, 0.01923311, 0.054549452, -0.038650203, -0.017753186, -0.008285803, 0.0038797394, -0.001942135, -0.061475992, -0.020816868, -0.060021922) * inp_3_0_1;
    result2 += M4(-0.073822275, -0.068083815, 0.28112537, 0.026999258, -0.018552903, 0.03284504, -0.01689697, -0.067360625, -0.1216754, 0.07241125, 0.04111844, -0.05755976, -0.019861808, 0.032956846, 0.17755182, -0.15693335) * inp_3_1_1;
    result2 += M4(-0.004422218, -0.098433025, -0.2253381, 0.011421723, -0.022941876, 0.012843338, -0.3343137, 0.019251307, 0.031544756, 0.062572986, 0.014178106, 0.01639515, 0.0151653355, 0.081883915, -0.24293236, 0.014993905) * inp_3_2_1;
    result2 += M4(-0.024856813, -0.10903813, 0.01630897, 0.017607473, 0.00020502532, 0.10157681, -0.012558789, 0.014336261, -0.0059590586, 0.026208228, 0.0050716563, -0.00074933266, -0.025853006, -0.1154011, 0.024702411, -0.14071938) * inp_3_0_2;
    result2 += M4(0.021753103, -0.032295957, 0.04838577, 0.012418742, -0.010341353, -0.055583835, 0.04700098, 0.033362944, -0.02520787, 0.026771432, 0.002780987, 0.046576384, 0.010582275, 0.029947435, 0.037002515, 0.076754674) * inp_3_1_2;
    result2 += M4(-0.0021662333, 0.0036807572, 0.12091444, 0.018961646, -0.010167998, -0.15207663, -0.014316211, -0.029057076, 0.012678357, 0.0010826795, -0.13418457, 0.043303262, 0.00825159, 0.10989132, 0.009145074, -0.12363236) * inp_3_2_2;
    result3 += M4(0.016544936, 0.09815479, 0.053789835, 0.012221482, 0.05495784, -0.13959365, 0.01894241, -0.00061008916, -0.025398605, 0.1280162, -0.18362987, -0.031341974, 0.06150611, -0.17455454, -0.033137996, -0.031011824) * inp_3_0_0;
    result3 += M4(-0.05798088, -0.01326648, 0.029850919, 0.015637966, 0.0344329, -0.0823134, -0.025396222, 0.026747046, -0.05762379, -0.41577682, 0.26122272, 0.009673237, 0.084352225, 0.20007893, 0.16972853, -0.022465235) * inp_3_1_0;
    result3 += M4(0.060031615, -0.104766324, 0.020496475, -0.011021394, 0.011753396, -0.029315801, -0.017593976, -0.027454337, 0.032625113, -0.13975826, -0.090441346, -0.038736, -0.037994716, 0.4374415, -0.06462361, 0.024058484) * inp_3_2_0;
    result3 += M4(0.00908129, 0.30025956, -0.14533626, -0.086753614, 0.0009121703, -0.22331604, 0.026595663, -0.012126103, -0.00054603233, -0.028885355, -0.025275052, -0.120327376, -0.028403932, 0.11944593, -0.14338869, -0.012186176) * inp_3_0_1;
    result3 += M4(0.15423985, -0.07117775, -0.49215737, 0.10603694, -0.003972026, -0.2374019, 0.07866756, 0.007368357, 0.13272151, -0.12947789, 0.16523664, 0.1745795, 0.07449638, -0.2712029, 0.27565956, -0.0043899207) * inp_3_1_1;
    result3 += M4(-0.087472424, -0.30749533, 0.1232052, -0.015913935, 0.004197473, 0.02860103, -0.0029823706, -0.014208723, -0.14697336, -0.12928337, 0.08186427, -0.069909826, 0.08734337, 0.14799337, -0.2246843, 0.018904451) * inp_3_2_1;
    result3 += M4(-0.043009046, -0.12204092, -0.025456112, -0.18600558, 0.0211779, 0.07426899, -0.07508408, 0.006396455, 0.025173215, 0.08186801, -0.008123236, -0.01608061, -0.049029954, -0.36138573, -0.10113719, -0.039054357) * inp_3_0_2;
    result3 += M4(-0.03651744, 0.14784849, -0.050109215, -0.043916903, 0.045134876, -0.08550054, 0.03732958, 0.025315676, -0.06399732, -0.18654516, -0.023837874, 0.071379244, -0.21296217, 0.046434328, 0.07915444, -0.0412353) * inp_3_1_2;
    result3 += M4(0.045680467, -0.15486477, 0.04228812, -0.011558007, -0.015073925, 0.012926649, 0.006511787, 0.018873192, 0.055938233, -0.092583016, -0.0216516, -0.012314254, -0.09094557, 0.286526, 0.0062879273, -0.0070239427) * inp_3_2_2;
    const ivec2 output_base = ivec2(gl_GlobalInvocationID) * ivec2(2, 2);
    imageStore(out_image, output_base + ivec2(0, 0), max(result0, V4(0.0)));
    imageStore(out_image, output_base + ivec2(1, 0), max(result1, V4(0.0)));
    imageStore(out_image, output_base + ivec2(0, 1), max(result2, V4(0.0)));
    imageStore(out_image, output_base + ivec2(1, 1), max(result3, V4(0.0)));
}

//!DESC ArtCNN C4F16 Soft (Conv2D-5)
//!COMPUTE 24 32 12 16
//!HOOK LUMA
//!BIND conv2d_4
//!SAVE conv2d_5
//!WIDTH LUMA.w 2.0 *
//!HEIGHT LUMA.h 2.0 *
//!COMPONENTS 4
//!WHEN OUTPUT.w LUMA.w / 1.3 > OUTPUT.h LUMA.h / 1.3 > *
#extension GL_EXT_shader_explicit_arithmetic_types_float16 : enable
#ifdef GL_EXT_shader_explicit_arithmetic_types_float16
#	define V4 f16vec4
#	define M4 f16mat4
#	define F float16_t
#else
#	define V4 vec4
#	define M4 mat4
#	define F float
#endif

const ivec2 ksize = ivec2(3, 3);
const ivec2 offset = ksize / 2;
const ivec2 wg_size = ivec2(gl_WorkGroupSize);
const ivec2 isize = wg_size + ksize - 1;
shared V4 inp[4][isize.y][isize.x];
void hook() {
    const uvec2 local_xy = gl_LocalInvocationID.xy;
    ivec2 base = ivec2(gl_WorkGroupID) * wg_size;
    for (uint y = local_xy.y; y < isize.y; y += wg_size.y) {
        for (uint x = local_xy.x; x < isize.x; x += wg_size.x) {
            const ivec2 input_base = (base + ivec2(x,y) - offset) * ivec2(2, 2);
            inp[0][y][x] = V4(conv2d_4_mul * texelFetch(conv2d_4_raw, input_base + ivec2(0, 0), 0));
            inp[1][y][x] = V4(conv2d_4_mul * texelFetch(conv2d_4_raw, input_base + ivec2(1, 0), 0));
            inp[2][y][x] = V4(conv2d_4_mul * texelFetch(conv2d_4_raw, input_base + ivec2(0, 1), 0));
            inp[3][y][x] = V4(conv2d_4_mul * texelFetch(conv2d_4_raw, input_base + ivec2(1, 1), 0));
        }
    }

    barrier();
    V4 result0 = V4(0.01296647, -0.0016932837, 0.0072536194, -0.021991998);
    V4 result1 = V4(0.004753273, 0.004656417, -0.013452304, -0.0025067036);
    V4 result2 = V4(0.0076353173, 0.0043942775, 0.004303307, 0.00080185704);
    V4 result3 = V4(-0.0032779055, 0.0055503724, 0.035803933, -0.023763254);
    const V4 inp_0_0_0 = inp[0][local_xy.y + 0][local_xy.x + 0];
    const V4 inp_0_1_0 = inp[0][local_xy.y + 0][local_xy.x + 1];
    const V4 inp_0_2_0 = inp[0][local_xy.y + 0][local_xy.x + 2];
    const V4 inp_0_0_1 = inp[0][local_xy.y + 1][local_xy.x + 0];
    const V4 inp_0_1_1 = inp[0][local_xy.y + 1][local_xy.x + 1];
    const V4 inp_0_2_1 = inp[0][local_xy.y + 1][local_xy.x + 2];
    const V4 inp_0_0_2 = inp[0][local_xy.y + 2][local_xy.x + 0];
    const V4 inp_0_1_2 = inp[0][local_xy.y + 2][local_xy.x + 1];
    const V4 inp_0_2_2 = inp[0][local_xy.y + 2][local_xy.x + 2];
    result0 += M4(0.15815611, -0.24243698, -0.31985945, 0.04813351, 0.0016291966, 0.103109784, 0.06864413, -0.06358869, 0.028055523, -0.02356528, -0.09870918, 0.041917134, -0.16927563, -0.052146267, 0.07845401, -0.058364347) * inp_0_0_0;
    result0 += M4(-0.4615448, -1.0904453, -0.20896152, -0.3330709, 0.13522942, 0.11498847, -0.0048267837, -0.012511219, 0.007182026, -0.10947619, -0.0629969, -0.020149902, -0.06465628, 0.09210316, 0.11438945, 0.033070363) * inp_0_1_0;
    result0 += M4(0.758818, -0.33216867, -0.7631973, -0.31820935, 0.19104834, 0.14523757, -0.18064731, -0.087979734, -0.0739556, -0.112369165, -0.050620504, 0.00770954, 0.042261783, 0.07596456, 0.03707684, 0.0081224) * inp_0_2_0;
    result0 += M4(-0.013874876, 0.13947532, 0.10983737, 0.1283547, 0.072570376, 0.15014982, 0.048599288, -0.028295292, -0.14231005, -0.11263773, -0.049644608, -0.06796119, 0.042916864, 0.07964471, -0.15359378, 0.07773797) * inp_0_0_1;
    result0 += M4(0.13473462, 0.16252096, 0.27236778, 0.31670976, 0.0860708, 0.14819661, 0.645697, 0.1766493, 0.32306018, -0.73048794, -0.11279053, -0.15306917, -0.563112, 0.7609315, -0.10301527, 0.049760137) * inp_0_1_1;
    result0 += M4(0.14893594, -0.0094782105, -0.112500176, 0.059854917, 0.03803339, 0.35194924, -0.13734572, -0.011582003, -0.23150624, -0.15473054, 0.024156427, 0.13325444, 0.26618993, 0.20629409, -0.006527572, -0.11758718) * inp_0_2_1;
    result0 += M4(0.018620526, -0.029787136, -0.004234525, -0.022557857, 0.044237003, 0.10099231, 0.11169652, -0.017290398, -0.003947676, -0.060503025, 0.20023213, -0.0016963513, -0.04051376, 0.0062410473, -0.27783594, -0.00071475306) * inp_0_0_2;
    result0 += M4(0.13633257, -0.16523117, 0.24582882, 0.048847053, 0.24972461, -0.019976323, -0.19571014, 0.0031338658, -0.0017045649, -0.072515205, 0.016106667, 0.028153831, -0.3826458, 0.14595565, -0.44484955, -0.008348017) * inp_0_1_2;
    result0 += M4(-0.057792287, 0.022840034, -0.07878773, -0.02420899, -0.036871616, 0.0997416, 0.09639041, 0.020686142, 0.12081714, 0.006786364, -0.07726951, 0.033377923, -0.24206774, 0.0729677, 0.02877432, -0.025185924) * inp_0_2_2;
    result1 += M4(0.43471703, 0.03741567, 0.112124264, 0.5419791, -0.08363685, 0.008397463, -0.029659132, -0.011546039, 0.050257202, 0.07040356, 0.001076153, 0.090716146, -0.011640496, -0.14402056, 0.15167199, -0.14235385) * inp_0_0_0;
    result1 += M4(-0.021595862, -0.36475345, -0.033433363, 2.0498953, -0.1915914, -0.03412575, -0.114264, -0.14322065, 0.042057343, 0.0076376293, -0.10634047, 0.046976283, 0.039429307, 0.04994339, 0.1525828, 0.08006245) * inp_0_1_0;
    result1 += M4(-0.8880336, -0.43952987, 0.68728125, 0.8390569, -0.20953824, -0.17091224, -0.2170602, 0.24652287, 0.11525907, -0.01734225, 0.011737318, 0.022161553, -0.072188556, 0.021548294, -0.017176574, -0.015252446) * inp_0_2_0;
    result1 += M4(0.095217876, 0.038800437, 0.13639738, 0.04054417, -0.20724463, 0.035476428, -0.07988664, -0.083122544, 0.08777711, -0.09468475, 0.16693652, 0.03903859, -0.090665504, -0.02524737, -0.19467317, 0.027075134) * inp_0_0_1;
    result1 += M4(0.20748991, -0.0059985565, -0.3297289, -0.12884113, -0.31935048, 0.066344045, -0.039892334, 0.11329543, 0.49152493, 0.17128442, 0.04459517, -0.109676614, -0.37924895, -0.22078145, -0.08146978, 0.086128406) * inp_0_1_1;
    result1 += M4(0.10731672, -0.25341442, 0.02876636, 0.21658592, -0.5343401, 0.022354063, -0.06048811, -0.23110518, -0.014910491, -0.11138238, -0.27536362, 0.14251083, 0.007960594, 0.11515684, 0.3842703, 0.17678851) * inp_0_2_1;
    result1 += M4(-0.026858948, 0.014238866, -0.021142311, 0.034359626, -0.05809204, -0.0241859, 0.047825016, -0.15353596, 0.011849346, 0.09787193, 0.13672324, 0.045121066, 0.021607233, -0.14913873, -0.15732697, -0.11623637) * inp_0_0_2;
    result1 += M4(0.053369608, 0.004235809, 0.18567204, 0.15187836, -0.16628337, -0.09843957, -0.27282578, -0.12055017, 0.054247383, -0.24957041, 0.01672839, -0.041721016, -0.031491335, 0.057177134, -0.07156259, -0.36048698) * inp_0_1_2;
    result1 += M4(-0.011361853, -0.013231146, -0.0082536135, -0.09255719, -0.12367484, 0.009243041, 0.034574505, -0.08440363, -0.05477829, -0.010010081, -0.0041214665, -0.112303786, 0.07133031, -0.022145627, -0.08866271, -0.12840827) * inp_0_2_2;
    result2 += M4(0.14150614, -0.11264677, -0.6933039, 0.06949992, 0.008800029, 0.019470204, -0.013993952, -0.035135753, 0.0033727852, -0.030125024, 0.06424902, 0.011255726, 0.034042947, -0.008233725, -0.09372446, 0.05221379) * inp_0_0_0;
    result2 += M4(-0.7939164, 0.37374657, -1.8910408, -0.68435794, -0.09415795, 0.03305728, 0.13807806, 0.13527451, 0.0008478443, -0.064928606, -0.14282572, -0.040883444, 0.053385288, 0.097853266, 0.25344235, 0.08936451) * inp_0_1_0;
    result2 += M4(-0.91630167, -0.070093326, -0.696143, -0.13596436, -0.16141099, 0.051640384, 0.3232597, 0.20309892, 0.102279626, 0.0018369221, -0.088214085, 0.014203857, -0.062521815, 0.0060101934, 0.046962205, -0.02018498) * inp_0_2_0;
    result2 += M4(0.10989743, 0.0071970504, 0.052682128, 0.059127074, -0.052171707, -0.002853315, 0.14171706, 0.16736595, 0.09101589, -0.05476516, -0.024498127, 0.06347194, -0.15876977, 0.018048245, -0.14686726, -0.10107261) * inp_0_0_1;
    result2 += M4(-0.03323848, -0.05149186, -0.10758251, -0.18064047, -0.22823037, -0.025615796, 0.11464844, 0.21385367, 0.44380897, -0.18277453, -0.25883943, -0.019561578, -0.65595895, 0.21166047, 0.018857207, 0.40791532) * inp_0_1_1;
    result2 += M4(-0.18714012, -0.001180016, 0.030570025, 0.078741446, -0.29002002, -0.058235884, -0.38655898, -0.044940773, 0.0852754, 0.11124455, 0.12045058, -0.092020795, -0.13022, -0.123816766, -0.15792234, 0.16306724) * inp_0_2_1;
    result2 += M4(-0.021178182, 0.0008561084, 0.046298586, 0.0076785246, -0.018622635, -0.017506825, -0.008207318, -0.030676275, 0.059769936, 0.013887391, 0.061380308, 0.08884562, -0.09491411, -0.058207724, -0.058619283, -0.079572015) * inp_0_0_2;
    result2 += M4(0.11690306, 0.14667057, 0.0269324, -0.06745094, -0.19832537, -0.01684371, 0.08534573, -0.2540775, 0.10373279, 0.078701526, 0.11416305, 0.084837414, -0.19619593, -0.16189507, -0.23043713, -0.18510188) * inp_0_1_2;
    result2 += M4(-0.023979634, -0.025292013, -0.060066972, 0.049785133, -0.0942097, -0.019180821, 0.13468154, -0.09728602, -0.15403439, -0.0029414569, -0.014161593, -0.027794974, 0.1283957, -0.04276622, 0.05143747, 0.097350076) * inp_0_2_2;
    result3 += M4(0.00483668, 0.7176548, -0.28948388, -0.020192543, -0.052440483, 0.055882942, 0.0027226636, -0.04583649, 0.04618762, -0.06298834, -0.042943142, 0.045149803, -0.022480685, -0.023648635, 0.020480363, 0.04946317) * inp_0_0_0;
    result3 += M4(-0.16878009, 1.0031686, -0.23579134, -0.18779008, 0.17569721, 0.2194905, 0.08861961, -0.06632009, 0.20925263, -0.070150554, -0.035578135, 0.01172277, -0.42023388, 0.011787465, -0.03509199, 0.03553725) * inp_0_1_0;
    result3 += M4(-0.019115942, 0.8584486, 0.2758495, -0.09636833, -0.079147555, 0.24354774, -0.011548174, -0.17790774, 0.13539909, 0.035304062, -0.052642267, 0.0029856323, -0.09683361, 0.01481987, 0.017632669, -0.005902592) * inp_0_2_0;
    result3 += M4(-0.06901786, -0.09301983, -0.059592888, 0.08321297, 0.038056612, 0.24027546, 0.0042672395, -0.055914026, 0.1100759, -0.27755567, -0.02987564, 0.048368406, -0.11533865, 0.14994673, 0.01880079, 0.0720736) * inp_0_0_1;
    result3 += M4(0.081589386, -0.14760453, -0.30493805, -0.11720048, -0.21754535, 0.67810786, 0.016879216, -0.0022716909, 0.5237679, 0.05524952, -0.08713499, 0.1953109, -0.6330139, -0.05688233, 0.19188578, -0.1477748) * inp_0_1_1;
    result3 += M4(-0.12483586, 0.06623793, 0.014485649, 0.07747829, 0.085236885, 0.42123628, 0.021567538, -0.0052647754, 0.15426897, 0.1603889, -0.106185354, 0.2271749, -0.3885032, -0.18018734, 0.14084502, -0.18382213) * inp_0_2_1;
    result3 += M4(-0.009520432, 0.0060706334, 0.02570896, -0.014907516, -0.032900285, 0.1668856, -0.0041671307, -0.032973416, 0.04107845, 0.043021, 0.026598794, 0.0072205625, -0.01679899, -0.036638375, -0.055173516, 0.0076331873) * inp_0_0_2;
    result3 += M4(0.054503314, -0.05295178, -0.02862434, 0.02061187, -0.12964615, 0.23979224, 0.048729625, 0.062186826, 0.27050257, -0.23954281, -0.09619716, 0.053413745, -0.063765034, 0.16676448, 0.066989884, -0.08675023) * inp_0_1_2;
    result3 += M4(-0.015989274, 0.013578036, 0.001294257, -0.061542038, 0.053771224, 0.123203896, 0.021263365, -0.004094665, 0.03865513, -0.07921386, 0.013672346, 0.06851229, -0.0154286465, 0.017911853, -0.030074596, -0.14117916) * inp_0_2_2;
    const V4 inp_1_0_0 = inp[1][local_xy.y + 0][local_xy.x + 0];
    const V4 inp_1_1_0 = inp[1][local_xy.y + 0][local_xy.x + 1];
    const V4 inp_1_2_0 = inp[1][local_xy.y + 0][local_xy.x + 2];
    const V4 inp_1_0_1 = inp[1][local_xy.y + 1][local_xy.x + 0];
    const V4 inp_1_1_1 = inp[1][local_xy.y + 1][local_xy.x + 1];
    const V4 inp_1_2_1 = inp[1][local_xy.y + 1][local_xy.x + 2];
    const V4 inp_1_0_2 = inp[1][local_xy.y + 2][local_xy.x + 0];
    const V4 inp_1_1_2 = inp[1][local_xy.y + 2][local_xy.x + 1];
    const V4 inp_1_2_2 = inp[1][local_xy.y + 2][local_xy.x + 2];
    result0 += M4(-0.0045778933, 0.10905848, 0.03765511, -0.0637462, -0.01367034, 0.06874642, -0.139318, 0.08114846, -0.046066113, -0.11513472, -0.032897152, -0.0011674456, 0.08435289, 0.04306846, -0.057233673, -0.004515526) * inp_1_0_0;
    result0 += M4(0.17907949, 0.11786087, -0.26335707, -0.034481537, -0.17808473, 0.40101597, 0.5571352, 0.07341066, -0.1297089, -0.16282019, 0.28497595, 0.0066050803, 0.11868197, -0.018934863, -0.25010908, -0.015197578) * inp_1_1_0;
    result0 += M4(0.091425925, 0.11062672, 0.06483653, 0.056932233, 0.21550414, 0.15685526, -0.02122028, -0.0701543, -0.20979044, -0.20249014, -0.14400935, 0.04203038, -0.05599881, -0.0984877, -0.032390926, -0.023890506) * inp_1_2_0;
    result0 += M4(-0.014071765, 0.08985014, 0.15719183, 0.009359163, -0.012664482, 0.11597983, -0.09936919, -0.006268707, -0.009983681, -0.01456095, -0.063224085, -0.015896749, -0.08721688, -0.09814341, 0.068183854, -0.105427675) * inp_1_0_1;
    result0 += M4(0.4501275, 0.28994986, 0.07269417, 0.08668178, 0.3542319, 0.18944015, 0.40639874, 0.065740146, 0.50651324, -0.24731284, 0.4335256, -0.08611426, 0.6807183, -0.31211737, -0.012579148, 0.23156272) * inp_1_1_1;
    result0 += M4(0.02380975, 0.045999117, 0.003061898, -0.073762365, -0.10952647, -0.031206086, 0.06420816, -0.12088978, 0.057233155, 0.04194055, 0.08369485, 0.039767858, -0.0783723, -0.103492826, -0.042248182, 0.007415137) * inp_1_2_1;
    result0 += M4(0.04291092, 0.031917647, 0.022221267, -0.042262435, 0.01440436, 0.057985626, 0.01683904, -0.004077086, 0.005383749, 0.02027378, 0.059738163, 0.00808433, 0.048388008, -0.13696526, 0.23083381, -0.030007878) * inp_1_0_2;
    result0 += M4(0.20866029, -0.04235712, 0.24132721, 0.10481657, 0.20877205, -0.008947165, 0.16634037, 0.058103357, 0.1187939, 0.13694675, 0.24116108, -0.0222291, -0.121401235, -0.34189025, -0.064944424, -0.03396281) * inp_1_1_2;
    result0 += M4(0.028349033, -0.023611968, -0.018348776, -0.033529073, 0.029857367, -0.02310562, 0.10891501, 0.0023917702, -0.01611548, -0.041663826, 0.009214343, 0.015039633, 0.032838617, 0.0021733805, -0.11479531, -0.051803604) * inp_1_2_2;
    result1 += M4(-0.093356915, 0.034642093, -0.10062132, -0.06684833, 0.26600426, 0.16086428, -0.05145616, 0.05336924, 0.2330513, 0.085268356, 0.035187155, 0.077714436, -0.090644196, 0.03991526, -0.19092639, 0.06763339) * inp_1_0_0;
    result1 += M4(-0.07888429, -0.028104924, 0.075729266, -0.32171303, -0.12292727, -0.06842857, -0.35925415, -0.042514116, 0.13733613, 0.25542387, -0.17533189, -0.010302232, -0.030589523, -0.010985781, 0.16008654, -0.034441516) * inp_1_1_0;
    result1 += M4(-0.16690579, -0.057677697, -0.06488835, -0.07978264, -0.08069652, 0.14662299, 0.27950007, -0.109279715, 0.21373227, 0.1660338, 0.23135702, -0.15913509, 0.06100484, -0.011501035, 0.091308706, -0.019425087) * inp_1_2_0;
    result1 += M4(-0.23775272, 0.06358408, 0.15520215, 0.10831991, 0.04638918, 0.045123227, -0.047741067, -0.010228696, 0.11213331, 0.01597711, -0.011957422, 0.0658828, -0.09312196, -0.13017699, 0.11489051, -0.04794625) * inp_1_0_1;
    result1 += M4(-0.4458209, -0.17406613, -0.13626797, 0.18870834, 0.08866318, 0.14734997, -0.37342408, 0.10422384, 0.07933943, 0.39545044, 0.42221543, 0.46507093, -0.01740174, 0.31448236, 0.25029734, -0.27432364) * inp_1_1_1;
    result1 += M4(-0.17630275, -0.26374596, -0.20578805, -0.06842936, 0.027598487, 0.058291815, 0.2330901, 0.2043327, -0.013226573, 0.13323838, 0.17430903, 0.15633456, -0.14595467, -0.29137948, -0.31549823, 0.17159969) * inp_1_2_1;
    result1 += M4(-0.09768431, -0.020708732, -0.019483924, 0.008027247, -0.049828652, -0.005213922, -0.0068231584, -0.09247003, 0.013095674, 0.03405376, 0.0020028374, 0.0029965418, 0.011382088, 0.13243411, 0.077272125, 0.12705138) * inp_1_0_2;
    result1 += M4(-0.10130164, 0.016092788, 0.003742112, 0.15069611, 0.07110838, 0.1108423, 0.029242098, -0.071821235, 0.0026661963, 0.072041295, -0.06809903, -0.084943876, -0.24060328, -0.29732078, 0.20788993, 0.14379518) * inp_1_1_2;
    result1 += M4(-0.06264306, -0.021719947, 0.05056981, 0.1401368, 0.03474569, 0.021762058, 0.07734223, 0.19221693, 0.013524909, 0.022211434, 0.023099696, 0.0058219954, -0.045084614, -0.023533355, -0.071388036, -0.29426113) * inp_1_2_2;
    result2 += M4(-0.019913437, 0.01596345, 0.11565236, -0.10163987, 0.18005507, 0.031556737, 0.08603142, 0.029003728, 0.17006512, -0.11172713, 0.020449443, 0.08762598, -0.066016965, -0.016272154, 0.11311242, -0.05836235) * inp_1_0_0;
    result2 += M4(0.066619374, -0.098664194, 0.106729545, 0.060629643, -0.13827386, 0.21800297, -0.124411345, -0.0012262791, 0.12102802, -0.08312369, -0.058951817, -0.40755975, 0.031289924, -0.12656945, -0.18278512, -0.038389333) * inp_1_1_0;
    result2 += M4(-0.16255397, -0.029975533, 0.08645046, -0.03101977, -0.063599214, -0.047670837, -0.0014541615, -0.078037985, 0.25394624, 0.11249219, 0.06837153, -0.17521334, 0.031987898, -0.024161771, -0.107065365, -0.029924398) * inp_1_2_0;
    result2 += M4(-0.021172898, 0.076789886, 0.08443769, 0.23298042, 0.12762694, -0.033433165, 0.11555946, 0.15174392, 0.054481197, 0.0024059475, 0.031309493, -0.1294468, -0.015239174, -0.0010255881, 0.0634177, 0.053586736) * inp_1_0_1;
    result2 += M4(0.15453176, -0.040805362, 0.09171536, -0.05287906, -0.091060095, 0.16757986, 0.10614257, -0.15258232, -0.09253152, 0.12162529, -0.17482145, -0.013868884, 0.32216322, -0.1264211, -0.09911417, -0.4169796) * inp_1_1_1;
    result2 += M4(-0.18171173, -0.053919874, 0.009772726, 0.047513057, 0.05254688, -0.011114941, -0.06115488, -0.0064279884, 0.04803408, -0.022250855, -0.0054323305, 0.026587842, -0.11346786, -0.0031009188, 0.093140185, 0.07202297) * inp_1_2_1;
    result2 += M4(-0.053667113, -0.012421638, 0.05937281, -0.025148112, -0.04003618, -0.0087559065, 0.025609365, -0.0381183, 0.043238502, 0.03317727, 0.023899354, 0.0024978367, 0.038055528, 0.011202146, 0.0776193, 0.043515068) * inp_1_0_2;
    result2 += M4(0.023723712, 0.10301268, 0.12578808, -0.11202232, 0.0069257454, 0.054226976, 0.12823905, 0.09595714, -0.0016528112, -0.03460445, 0.0035012173, -0.05125192, 0.026931165, 0.16685513, 0.059241805, -0.31349677) * inp_1_1_2;
    result2 += M4(-0.034402512, 0.004869168, -0.13416682, 0.0064290967, 0.040695768, 0.0007280623, -0.077158, 0.038325172, 0.04444955, 0.0149869425, 0.075936705, -0.04755395, -0.04940874, -0.0051438673, 0.012089768, -0.040787105) * inp_1_2_2;
    result3 += M4(-0.021657897, -0.12339195, 0.0312045, -0.06246149, -0.06855301, -0.021277484, -0.0399032, -0.021127991, -0.064330354, -0.06118629, -0.029003385, 0.13808985, 0.043725487, -0.016945478, 0.013241528, 0.0002655756) * inp_1_0_0;
    result3 += M4(0.29281735, -0.03580045, -0.012542033, -0.05402855, -0.49767524, 0.34653386, 0.08331412, -0.010947483, -0.43180397, 0.15913813, -0.032281313, 0.14752743, 0.41117, -0.049724225, -0.03378285, -0.028640972) * inp_1_1_0;
    result3 += M4(0.027727423, 0.0048748087, 0.004929552, 0.02794263, -0.39616367, -0.21299171, 0.012602087, -0.11950489, -0.18668592, -0.050184, -0.054819718, 0.11183038, 0.07588172, -0.10969332, -0.012674612, 0.022475643) * inp_1_2_0;
    result3 += M4(0.2194059, 0.085888274, 0.048649523, -0.03184649, -0.11179191, -0.068044744, -0.026772313, -0.012084093, -0.15389386, -0.31403235, -0.02227521, 0.019942718, 0.14029373, -0.3355969, 0.016231684, -0.04024387) * inp_1_0_1;
    result3 += M4(0.7821315, -0.39274016, -0.10496536, -0.087356225, -0.78426045, 0.13704105, -0.1177919, -0.12848945, -0.3875463, -0.1504508, 0.20127758, 0.1603691, 0.7908988, -0.31731427, 0.13263763, 0.06938437) * inp_1_1_1;
    result3 += M4(0.54192644, 0.24585722, 0.050595675, -0.09889499, -0.00408335, 0.16453561, 0.00900895, -0.17093639, -0.22050567, -0.022001585, -0.02001895, 0.003242841, 0.42964944, 0.30630532, 0.11582051, 0.01983152) * inp_1_2_1;
    result3 += M4(-0.0017244116, 0.017295849, 0.020126866, -0.0092490595, -0.042748593, 0.05319014, 0.01236479, -0.0016981773, -0.042622734, -0.021245135, -0.023863116, -0.034446187, 0.053247806, 0.12287639, 0.055413343, -0.033334143) * inp_1_0_2;
    result3 += M4(0.16064252, 0.09750781, 0.014925385, 0.054994896, -0.29082856, 0.05845701, -0.037226822, -0.018625483, -0.26592478, 0.1961748, -0.0024107746, -0.059655316, 0.7117323, -0.043470662, 0.045685284, 0.05810743) * inp_1_1_2;
    result3 += M4(0.06659414, 0.10712616, 0.013480879, -0.016116172, -0.03734109, 0.098841205, 0.00096143986, -0.0023845087, -0.10069734, -0.033761427, -0.0055446397, 0.017744685, 0.025454445, -0.18805195, 0.038016226, -0.043796416) * inp_1_2_2;
    const V4 inp_2_0_0 = inp[2][local_xy.y + 0][local_xy.x + 0];
    const V4 inp_2_1_0 = inp[2][local_xy.y + 0][local_xy.x + 1];
    const V4 inp_2_2_0 = inp[2][local_xy.y + 0][local_xy.x + 2];
    const V4 inp_2_0_1 = inp[2][local_xy.y + 1][local_xy.x + 0];
    const V4 inp_2_1_1 = inp[2][local_xy.y + 1][local_xy.x + 1];
    const V4 inp_2_2_1 = inp[2][local_xy.y + 1][local_xy.x + 2];
    const V4 inp_2_0_2 = inp[2][local_xy.y + 2][local_xy.x + 0];
    const V4 inp_2_1_2 = inp[2][local_xy.y + 2][local_xy.x + 1];
    const V4 inp_2_2_2 = inp[2][local_xy.y + 2][local_xy.x + 2];
    result0 += M4(-0.031136345, 0.003690044, -0.024730718, 0.056308117, 0.013363528, 0.12166734, -0.12093668, -0.04909235, -0.08947012, 0.05586813, 0.30484104, -0.01927935, 0.07061757, 0.032174695, -0.010948878, -0.042425696) * inp_2_0_0;
    result0 += M4(-0.005279604, -0.0019976005, 0.07871317, 0.007249835, -0.038437895, -0.011293021, -0.05336588, -0.085590646, -0.26028466, 0.012986445, -0.034216437, 0.19542004, 0.098478146, 0.004884724, -0.1651474, 0.07965855) * inp_2_1_0;
    result0 += M4(-0.10240059, 0.0055481736, 0.037272718, 0.04374281, -0.0629844, 0.055002924, 0.06961613, 0.10852758, 0.026020698, -0.07243447, -0.09571166, -0.03682147, 0.14441791, 0.020232307, -0.11196804, -0.05082146) * inp_2_2_0;
    result0 += M4(-0.07101235, -0.03100286, 0.015626343, -0.04502684, -0.035193335, -0.014917967, -0.0223738, 0.017372811, -0.743902, 0.23292647, -0.019573437, -0.56150615, 0.14101347, -0.292502, -0.006126832, -0.07612371) * inp_2_0_1;
    result0 += M4(-0.027885232, -0.085936606, 0.06533474, -0.023493795, -0.0441755, -0.010355883, 0.029450752, 0.014988982, -0.014597207, 0.1482938, -0.15991962, 0.24522756, 0.03492276, 0.2581658, -0.18681723, 0.045233563) * inp_2_1_1;
    result0 += M4(0.093079224, -0.020808004, -0.08895276, -0.01580916, 0.057717647, 0.027830975, -0.10180782, 0.011403095, -0.06792926, 0.0020388435, 0.06282115, 0.018567465, 0.15495482, 0.2709422, 0.25255162, -0.03925959) * inp_2_2_1;
    result0 += M4(-0.085725956, 0.04330095, -0.15500565, 0.007912996, 0.0041725906, -0.020964578, 0.10472058, 0.09667031, -0.76408726, 0.07236361, -0.5607341, -0.19241421, 0.017037205, -0.066759124, -0.10859485, 0.08415494) * inp_2_0_2;
    result0 += M4(-0.122623734, 0.03387089, -0.23143685, -0.016286673, -0.08065305, 0.05490851, 0.05527017, -0.0694019, 0.18215689, -0.09125355, 0.016652923, 0.2059011, 0.26159436, 0.07440415, 0.14380953, 0.02886756) * inp_2_1_2;
    result0 += M4(-0.12933056, 0.05979716, -0.09194847, -0.012859329, 0.10148715, 0.041883484, -0.023911383, -0.035808872, 0.0786397, -0.046192892, -0.089112245, 0.029709103, 0.3895523, -0.090600036, 0.08603893, 0.0010987492) * inp_2_2_2;
    result1 += M4(0.08503348, 0.061830364, 0.073518455, 0.050333373, 0.08707652, 0.10807848, 0.02235272, -0.057074048, -0.1931426, -0.2365987, -0.12172343, -0.8275045, -0.2953085, -0.080676615, -0.16908868, -0.084612206) * inp_2_0_0;
    result1 += M4(0.087412864, 0.034971036, -0.14812444, 0.08656586, -0.08548024, 0.00863226, -0.021326365, -0.05611619, 0.07171447, 0.10848919, -0.036996458, 0.14427559, 0.03737434, -0.065140784, 0.28354436, -0.2522642) * inp_2_1_0;
    result1 += M4(0.011228451, 0.036979523, -0.052281927, -0.07442843, 0.10347302, -0.11735205, -0.038016267, 0.11143176, 0.021671116, -0.026701516, 0.058436986, 0.14780237, -0.081074625, -0.06604536, 0.11418248, 0.06878032) * inp_2_2_0;
    result1 += M4(0.040132318, 0.01410368, 0.034676775, -0.030544681, 0.004793421, 0.113091104, 0.0066575697, -0.1106644, 0.08919374, -0.41559696, -0.029848682, -1.1608176, 0.100358084, -0.06695069, -0.020946814, 0.5481819) * inp_2_0_1;
    result1 += M4(-0.014197538, -0.03918891, 0.07285555, -0.055647716, -0.111264884, -0.07171069, 0.010308706, -0.040418997, 0.046337113, 0.3204397, -0.14700812, -0.2232266, 0.113001935, 0.2323047, -0.32721376, 1.1120622) * inp_2_1_1;
    result1 += M4(0.07492084, 0.032523964, 0.094136335, 0.12990487, -0.0631959, -0.12630518, -0.109332815, 0.10384572, 0.016297964, 0.017143732, -0.039460607, 0.056603163, -0.06504567, 0.1050013, -0.17516026, -0.040135335) * inp_2_2_1;
    result1 += M4(-0.016512679, -0.014971487, 0.02509375, -0.010814176, 0.05334793, -0.0146089215, -0.1262417, 0.012081125, -0.079693355, -0.3522776, -0.21714364, -1.3493701, 0.12809622, -0.09396677, -0.014219342, -0.0030791163) * inp_2_0_2;
    result1 += M4(0.1662154, -0.06266518, -0.18833418, -0.09221927, 0.014356918, -0.091767535, 0.06150496, -0.08859734, -0.011657062, 0.121569715, 0.1127185, -0.062116947, -0.09812291, 0.2195007, -0.060089424, 0.5423376) * inp_2_1_2;
    result1 += M4(0.021787887, -0.014602433, -0.04881124, -0.1585775, -0.062387116, -0.045810744, 0.0064129727, -0.05347747, -0.011354481, -0.001687906, 0.047761817, -0.12384399, -0.34577864, -0.07327398, 0.2131202, 0.352757) * inp_2_2_2;
    result2 += M4(0.07658272, 0.0076533956, 0.0074105468, 0.029540231, -0.035374083, 0.0028755562, 0.08656359, -0.0113280825, 0.055069506, -0.049220953, 0.56960064, 0.12720704, -0.22904103, 0.011722938, -0.004840653, -0.179054) * inp_2_0_0;
    result2 += M4(0.029264145, -0.071860954, -0.06355298, 0.0720345, -0.12335594, -0.06994219, 0.09513755, 0.0914025, 0.0718514, 0.09588494, 0.21931674, -0.17182443, 0.0034495275, -0.037544, -0.3299182, -0.20035361) * inp_2_1_0;
    result2 += M4(0.0597774, 0.034952093, 0.062331215, -0.058395386, -0.034661837, -0.103189126, 0.08762138, 0.12131958, -0.026477175, -0.0037973146, -0.094111, 0.041959908, -0.13782927, -0.049019303, -0.13039379, 0.028367344) * inp_2_2_0;
    result2 += M4(0.02659481, -0.042211633, 0.02437243, 0.0350805, 0.11232518, -0.04218943, -0.06407253, -0.061380982, -0.010922023, -0.35785863, 0.6009487, -0.038084637, -0.052054603, -0.034389023, -0.15014671, 0.040611465) * inp_2_0_1;
    result2 += M4(-0.039026465, 0.15802091, 0.07305264, -0.1276415, 0.07386901, 0.037580904, 0.13037868, 0.11309201, -0.14490505, -0.07001082, -0.32580048, 0.47191092, 0.7538275, 0.19803067, -0.1024114, 0.07259228) * inp_2_1_1;
    result2 += M4(-0.07720228, -0.010049084, 0.036694903, 0.22251853, -0.043455023, 0.10941257, -0.12208405, -0.11191012, 0.070250206, 0.027333915, -0.011988779, -0.003456177, 0.05695492, -0.041259084, 0.0023094416, 0.017833488) * inp_2_2_1;
    result2 += M4(-0.0012268685, -0.032550547, -0.09292753, -0.054997023, 0.03359294, -0.079900905, 0.0037405621, 0.037463665, -0.19821219, -0.3461898, 0.21364757, 0.17488658, -0.042534415, 0.003743145, -0.13863409, 0.05742482) * inp_2_0_2;
    result2 += M4(0.033844244, -0.05444906, -0.031038377, 0.21617535, -0.08127842, 0.118195616, -0.055580843, 0.059548408, -0.18973045, -0.033935416, 0.07825918, -0.42060992, -0.052424304, 0.021780698, 0.060400475, 0.09571546) * inp_2_1_2;
    result2 += M4(0.0006463728, -0.020523163, -0.012409891, 0.021127759, 0.11450835, -0.02592939, 0.056248665, -0.078001104, -0.04666665, 0.0037834747, 0.058791433, -0.062335275, -0.16521429, 0.028194008, -0.036526572, -0.29916307) * inp_2_2_2;
    result3 += M4(-0.020869488, -0.12355008, 0.019164007, 0.06609807, 0.10561265, -0.10729682, -0.022639157, -0.11392769, -0.18562442, 0.0516066, -0.03859346, 0.22076358, 0.14853239, 0.08258783, 0.06015241, -0.05342877) * inp_2_0_0;
    result3 += M4(0.02631268, 0.041865855, -0.07702024, 0.019049486, 0.11808352, -0.11441335, -0.083106905, 0.057527322, 0.01264955, 0.058419976, -0.083053924, 0.17432731, 0.31365526, -0.21894734, -0.00932118, -0.12278186) * inp_2_1_0;
    result3 += M4(0.012019977, 0.01242103, 0.0013183686, 0.08062128, -0.03222332, -0.068619706, 0.13280718, 0.06671831, 0.029226452, 0.026026638, 0.013994762, -0.010485748, 0.07697261, -0.02219264, 0.08139257, -0.022760505) * inp_2_2_0;
    result3 += M4(-0.068164766, -0.024316957, 0.021169357, 0.03158127, -0.10596033, -0.006967426, -0.04709282, 0.097944625, -0.7900058, -0.7729709, 0.13223623, 0.44399482, 0.06454166, 0.14361675, -0.007625618, -0.01841497) * inp_2_0_1;
    result3 += M4(-0.14903224, -0.07793804, 0.13500677, -0.046571396, -0.110832326, 0.023284392, 0.06593539, 0.055873953, 0.1715939, -0.021713786, -0.2908376, 0.1968947, 0.33495444, 0.5026545, -0.29354444, -0.08259772) * inp_2_1_1;
    result3 += M4(-0.15126401, -0.07929026, 0.07033659, 0.009393457, 0.12595658, 0.03332027, -0.014245113, 0.05294137, -0.077135734, 0.032099076, -0.02926551, 0.030151537, 0.071055874, -0.029495148, -0.110456616, -0.1894262) * inp_2_2_1;
    result3 += M4(0.028056772, -0.020833341, 0.007486975, 0.053817626, 0.031149909, -0.050812863, -0.07489669, -0.02305414, 0.032975726, 0.38789544, -0.06359398, -0.14781035, 0.027230669, 0.059532315, -0.04466745, 0.041461755) * inp_2_0_2;
    result3 += M4(0.039438024, -0.14192162, -0.06738057, -0.009531616, -0.044654436, -0.116073795, -0.100407004, -0.08047726, -0.08593072, -0.09363847, 0.03770373, 0.40270138, -0.26341546, -0.24833515, 0.03791211, 0.06575711) * inp_2_1_2;
    result3 += M4(-0.0060401447, 0.02433625, -0.019084994, -0.0152350385, -0.060354378, -0.10161255, -0.0849297, 0.13585465, -0.05039617, -0.052809805, 0.012010628, 0.05046043, 0.14042144, 0.45122537, 0.12996224, 0.10439788) * inp_2_2_2;
    const V4 inp_3_0_0 = inp[3][local_xy.y + 0][local_xy.x + 0];
    const V4 inp_3_1_0 = inp[3][local_xy.y + 0][local_xy.x + 1];
    const V4 inp_3_2_0 = inp[3][local_xy.y + 0][local_xy.x + 2];
    const V4 inp_3_0_1 = inp[3][local_xy.y + 1][local_xy.x + 0];
    const V4 inp_3_1_1 = inp[3][local_xy.y + 1][local_xy.x + 1];
    const V4 inp_3_2_1 = inp[3][local_xy.y + 1][local_xy.x + 2];
    const V4 inp_3_0_2 = inp[3][local_xy.y + 2][local_xy.x + 0];
    const V4 inp_3_1_2 = inp[3][local_xy.y + 2][local_xy.x + 1];
    const V4 inp_3_2_2 = inp[3][local_xy.y + 2][local_xy.x + 2];
    result0 += M4(0.16900137, 0.08997248, -0.07436321, 0.0594936, -0.0028454275, -0.15024647, -0.19431625, 0.08404475, 0.031952865, 0.13403472, -0.039335, -0.04883838, 0.020988934, -0.048024558, -0.08732257, 0.045940045) * inp_3_0_0;
    result0 += M4(-0.29714376, 0.14122535, 0.22114731, -0.0041095214, -0.18599904, -0.19873762, 0.31481463, 0.05708317, 0.15941864, 0.23312205, -0.022391472, -0.030678228, -0.27677646, -0.13171144, 0.19849154, -0.0030380203) * inp_3_1_0;
    result0 += M4(0.07567993, 0.18924518, 0.15452999, -0.029364074, -0.10413971, -0.18378946, -0.109168, -0.057724886, -0.011330059, 0.1263845, 0.106635086, 0.026549108, -0.108557224, -0.17619216, 0.101109974, -0.012480754) * inp_3_2_0;
    result0 += M4(-0.09531317, 0.25759265, 0.20588654, -0.0027959442, 0.27874088, -0.28478408, 0.09284158, -0.042881623, -0.21729174, 0.2772276, -0.07008242, -0.0004465641, 0.0070403246, -0.07820747, 0.043131392, 0.0573353) * inp_3_0_1;
    result0 += M4(0.4486747, -0.8260963, 0.19448146, -0.025958335, -0.19673161, -0.6831974, -0.3991694, -0.3179283, 0.46436965, 0.5988883, 0.3308866, 0.25964573, -0.19241676, -0.3229676, -0.4695786, 0.24257573) * inp_3_1_1;
    result0 += M4(-0.3544489, -0.11299069, -0.26224354, 0.077289455, -0.14046809, -0.043933075, 0.14149956, 0.10062231, 0.24382113, 0.11249943, -0.028287573, -0.07024925, -0.2230556, -0.65116537, -0.36520863, -0.23918718) * inp_3_2_1;
    result0 += M4(-0.06315848, -0.0008352478, 0.08856067, -0.07602959, -0.08487472, -0.30052245, 0.29427087, 0.11073287, 0.0479161, 0.15850045, -0.19635539, -0.06995821, -0.057089116, -0.024071483, -0.020233683, 0.0040935376) * inp_3_0_2;
    result0 += M4(0.09402595, -0.23011705, 0.208697, 0.009205958, -0.25351238, -0.102655254, -0.3023096, -0.0075045917, 0.26820436, 0.0924411, 0.38103977, -0.03206307, 0.045692805, -0.065758705, 0.22121575, 0.0007645876) * inp_3_1_2;
    result0 += M4(-0.06932221, 0.027771324, 0.09317778, 0.003025075, 0.37612128, -0.072857834, 0.112359434, 0.07249355, -0.14658725, 0.07420576, 0.17220278, -0.009141491, -0.1124993, -0.09782269, -0.13409841, -0.08815705) * inp_3_2_2;
    result1 += M4(0.16797325, 0.2754229, -0.09338511, 0.24401608, 0.0978718, -0.020806586, 0.13047254, 0.19758785, -0.07788838, 0.02866526, -0.1098649, 0.00047004124, 0.055219326, 0.0031604352, 0.027939279, -0.026915938) * inp_3_0_0;
    result1 += M4(0.007963318, -0.13564369, -0.30151466, -0.15190566, 0.15625824, 0.058733366, -0.34840536, 0.055061452, 0.045986798, 0.10507965, 0.008794874, 0.05303075, 0.26915768, -0.08186282, 0.18240762, 0.17815296) * inp_3_1_0;
    result1 += M4(-0.07755906, 0.048248645, -0.07652629, -0.1091745, 0.13400708, -0.06607576, 0.006015438, 0.13198797, 0.0146756545, 0.1087283, -0.014098612, -0.06919463, 0.17446832, 0.10596446, 0.13634668, -0.12797616) * inp_3_2_0;
    result1 += M4(0.041008312, 0.09256018, 0.02165703, -0.38709402, 0.41433448, -0.025093483, -0.41703492, -0.1401687, -0.33259633, -0.06345591, 0.3368918, -0.047633324, 0.21741165, 0.07889033, 0.06916756, 0.10857472) * inp_3_0_1;
    result1 += M4(-0.16071467, -0.1806472, 0.18938212, -0.9264462, 0.71271366, 0.24580882, 0.18109077, -0.052947618, -0.7953528, -0.15772282, -0.037758473, -0.4945563, 0.5671628, 0.13783747, -0.20327461, -0.7028268) * inp_3_1_1;
    result1 += M4(0.08006613, -0.011126557, -0.030590156, -0.19935429, 0.010350038, 0.052379105, -0.23432603, -0.21701385, -0.1813716, -0.014633256, 0.07644257, -0.002354081, 0.53909, -0.38543114, 0.16249086, 0.20638713) * inp_3_2_1;
    result1 += M4(-0.05764689, 0.14068188, 0.11685956, -0.028707387, 0.2866612, -0.025938334, 0.1901991, -0.15036975, -0.2302963, 0.016443633, -0.07654007, 0.3580996, 0.047624182, 0.022997934, 0.067645915, 0.062684804) * inp_3_0_2;
    result1 += M4(0.085721485, -0.08897335, 0.041041743, -0.061470114, 0.2068745, -0.059225734, 0.0673647, -0.033673108, -0.15287448, 0.17195113, 0.08831848, 0.50073296, 0.23789927, 0.08772244, 0.08721269, 0.13215251) * inp_3_1_2;
    result1 += M4(0.14061037, 0.15332776, -0.023876289, -0.10650116, -0.15896499, 0.011355827, 0.13546619, 0.079931885, 0.08939189, 0.106997006, -0.08961267, 0.07352776, 0.20456341, -0.20665523, -0.030625464, -0.0909714) * inp_3_2_2;
    result2 += M4(0.16581367, 0.018481947, 0.18951227, 0.10506077, -0.017580835, -0.04000215, -0.0906265, 0.11865385, -0.010200527, 0.028678749, 0.028060189, -0.09538241, -0.0024543486, -0.012227099, 0.06465631, 0.06949677) * inp_3_0_0;
    result2 += M4(0.02835636, 0.11168646, -0.09793321, 0.12258594, -0.034765698, 0.07103511, -0.049425684, -0.11095997, 0.14342053, -0.056225162, 0.08799583, 0.19805694, 0.094546825, 0.082314104, -0.1433549, 0.14487858) * inp_3_1_0;
    result2 += M4(0.02572158, -0.007975946, 0.19778897, -0.0058337585, 0.115703836, 0.021256398, -0.16134462, 0.08104768, 0.05219565, 0.025557341, 0.14550309, -0.05337419, 0.13302286, -0.023073008, -0.18898548, -0.07861447) * inp_3_2_0;
    result2 += M4(0.079868436, -0.09295618, 0.25408354, -0.053941816, 0.04187857, -0.15718116, 0.10212658, -0.28827015, 0.035864826, 0.11503131, -0.13270019, 0.04828265, 0.075360805, -0.04897358, -0.13910095, -0.13288084) * inp_3_0_1;
    result2 += M4(-0.37316373, -0.11548012, 0.36732274, -0.45326105, 0.39840174, 0.17105067, 0.7652719, 0.176278, -0.471214, -0.21769704, -0.40698782, -0.3934356, -0.081809275, 0.02372435, 0.10165357, -0.3200446) * inp_3_1_1;
    result2 += M4(0.09961673, 0.04284039, 0.07458901, -0.06317225, 0.19350547, 0.13895175, 0.24949457, -0.27790174, -0.14166766, -0.11088531, -0.26830238, 0.048557058, 0.011072849, 0.012892165, 0.10557908, 0.105898865) * inp_3_2_1;
    result2 += M4(0.02531125, -0.04012831, 0.048504576, 0.01774277, 0.077322446, 0.03542272, -0.09625566, 0.24935427, -0.00042957894, 0.061559916, 0.14735956, -0.12710337, 0.06479745, 0.01051733, -0.035946924, 0.04699005) * inp_3_0_2;
    result2 += M4(0.20328522, 0.10115133, 0.13343304, -0.100186564, 0.06754305, -0.13065265, -0.18420066, 0.28124285, -0.023678744, 0.061723866, -0.031169774, -0.1805208, 0.22517636, 0.124493614, -0.17023338, 0.13908269) * inp_3_1_2;
    result2 += M4(0.09359522, 0.01266606, 0.061401173, 0.1381402, -0.13724133, 0.054569665, 0.061289445, -0.2508874, 0.13999738, -0.0053068483, 0.018823657, 0.05879647, 0.13160434, 0.00443912, -0.22077346, 0.19413172) * inp_3_2_2;
    result3 += M4(-0.11929542, 0.07818713, -0.11501406, -0.029923176, 0.11803819, 0.04167968, -0.039665785, 0.10265026, 0.033057872, -0.021103611, 0.0014122719, -0.08215329, -0.00516793, -0.021014255, -0.0032775505, 0.023428416) * inp_3_0_0;
    result3 += M4(0.23873115, -0.07359946, 0.035313528, 0.032570165, -0.06999364, -0.1681188, 0.03277478, 0.010899867, -0.06232805, 0.085461386, -0.03375997, -0.027470775, -0.3326648, -0.10346764, -0.12952258, 0.0038389822) * inp_3_1_0;
    result3 += M4(-0.22744916, -0.022799449, 0.020502172, -0.118181124, 0.16046165, 0.060821157, 0.039285176, -0.0067620226, -0.14132087, -0.066259824, -0.085508876, -0.04160768, -0.21298087, -0.22824447, 0.03176064, 0.088887945) * inp_3_2_0;
    result3 += M4(-0.29911137, -0.01877909, 0.058360003, -0.0028723709, -0.36661264, 0.13421369, -0.14402305, -0.079969324, 0.39518923, -0.15019694, 0.009751292, -0.019439263, -0.12856129, -0.022277405, -0.018023336, 0.11411226) * inp_3_0_1;
    result3 += M4(0.13399203, -0.2974535, 0.047009885, 0.11537075, -0.5047132, 0.85509855, -0.19962801, 0.11512139, 0.42955568, -0.6192806, 0.23832753, -0.09782577, 0.17058979, -0.12266498, 0.042490125, -0.025514066) * inp_3_1_1;
    result3 += M4(0.18233103, 0.076148055, 0.040827096, 0.124681324, -0.14124148, 0.03425005, -0.21666706, 0.12072779, 0.19085833, 0.11407994, 0.1038764, -0.08847743, 0.09718451, -0.2722827, 0.11677354, -0.12182036) * inp_3_2_1;
    result3 += M4(0.0046124794, 0.1375283, 0.073607475, -0.036311064, 0.1399919, 0.25959086, -0.07742601, -0.011071176, 0.0020090141, -0.5571133, 0.041820966, 0.01764836, 0.02875675, -0.07186163, -0.0033078538, 0.02281235) * inp_3_0_2;
    result3 += M4(0.0672792, 0.0755372, -0.05875794, 0.09570899, -0.002360658, -0.032894794, -0.0049792584, 0.033878665, 0.09964397, -0.01854778, 0.06726938, -0.0041450406, 0.04282367, -0.06480033, -0.05643417, -0.11346548) * inp_3_1_2;
    result3 += M4(-0.12688832, -0.23233975, -0.049556002, 0.042505756, -0.028395688, 0.1680427, 0.045901444, 0.16037263, -0.079562865, -0.19903682, -0.04996449, -0.0777626, 0.041813564, 0.011587082, -0.04763122, -0.1577619) * inp_3_2_2;
    const ivec2 output_base = ivec2(gl_GlobalInvocationID) * ivec2(2, 2);
    imageStore(out_image, output_base + ivec2(0, 0), result0);
    imageStore(out_image, output_base + ivec2(1, 0), result1);
    imageStore(out_image, output_base + ivec2(0, 1), result2);
    imageStore(out_image, output_base + ivec2(1, 1), result3);
}

//!DESC ArtCNN C4F16 Soft (Conv2D-6)
//!COMPUTE 12 16 12 16
//!HOOK LUMA
//!BIND conv2d
//!BIND conv2d_5
//!SAVE conv2d_6
//!WIDTH LUMA.w 1.0 *
//!HEIGHT LUMA.h 1.0 *
//!COMPONENTS 4
//!WHEN OUTPUT.w LUMA.w / 1.3 > OUTPUT.h LUMA.h / 1.3 > *
#extension GL_EXT_shader_explicit_arithmetic_types_float16 : enable
#ifdef GL_EXT_shader_explicit_arithmetic_types_float16
#	define V4 f16vec4
#	define M4 f16mat4
#	define F float16_t
#else
#	define V4 vec4
#	define M4 mat4
#	define F float
#endif

const ivec2 ksize = ivec2(3, 3);
const ivec2 offset = ksize / 2;
const ivec2 wg_size = ivec2(gl_WorkGroupSize);
const ivec2 isize = wg_size + ksize - 1;
shared V4 inp[4][isize.y][isize.x];
void hook() {
    const uvec2 local_xy = gl_LocalInvocationID.xy;
    ivec2 base = ivec2(gl_WorkGroupID) * wg_size;
    for (uint y = local_xy.y; y < isize.y; y += wg_size.y) {
        for (uint x = local_xy.x; x < isize.x; x += wg_size.x) {
            const ivec2 input_base = (base + ivec2(x,y) - offset) * ivec2(2, 2);
            inp[0][y][x] = V4(conv2d_5_mul * texelFetch(conv2d_5_raw, input_base + ivec2(0, 0), 0) + conv2d_mul * texelFetch(conv2d_raw, input_base + ivec2(0, 0), 0));
            inp[1][y][x] = V4(conv2d_5_mul * texelFetch(conv2d_5_raw, input_base + ivec2(1, 0), 0) + conv2d_mul * texelFetch(conv2d_raw, input_base + ivec2(1, 0), 0));
            inp[2][y][x] = V4(conv2d_5_mul * texelFetch(conv2d_5_raw, input_base + ivec2(0, 1), 0) + conv2d_mul * texelFetch(conv2d_raw, input_base + ivec2(0, 1), 0));
            inp[3][y][x] = V4(conv2d_5_mul * texelFetch(conv2d_5_raw, input_base + ivec2(1, 1), 0) + conv2d_mul * texelFetch(conv2d_raw, input_base + ivec2(1, 1), 0));
        }
    }

    barrier();
    V4 result0 = V4(0.10071045, 0.09659689, 0.1029665, 0.09984249);
    const V4 inp_0_0_0 = inp[0][local_xy.y + 0][local_xy.x + 0];
    const V4 inp_0_1_0 = inp[0][local_xy.y + 0][local_xy.x + 1];
    const V4 inp_0_2_0 = inp[0][local_xy.y + 0][local_xy.x + 2];
    const V4 inp_0_0_1 = inp[0][local_xy.y + 1][local_xy.x + 0];
    const V4 inp_0_1_1 = inp[0][local_xy.y + 1][local_xy.x + 1];
    const V4 inp_0_2_1 = inp[0][local_xy.y + 1][local_xy.x + 2];
    const V4 inp_0_0_2 = inp[0][local_xy.y + 2][local_xy.x + 0];
    const V4 inp_0_1_2 = inp[0][local_xy.y + 2][local_xy.x + 1];
    const V4 inp_0_2_2 = inp[0][local_xy.y + 2][local_xy.x + 2];
    result0 += M4(-0.087169625, -0.041981146, -0.024828525, -0.03423327, -0.030085653, -0.026254797, -0.02287914, -0.032117076, -0.0027343964, 0.0046439655, -0.0067340494, -0.0031727934, 0.1720441, 0.10478006, 0.061869442, 0.08861243) * inp_0_0_0;
    result0 += M4(-0.1215236, -0.14164145, -0.0009964426, 0.026122754, 0.043419477, -0.010559954, -0.04775355, 0.018486438, -0.010038093, -0.11719484, 0.027586501, 0.0049947402, -0.0008713813, 0.15264511, 0.042922605, -0.018523475) * inp_0_1_0;
    result0 += M4(-0.0048098713, -0.039202243, -0.003691284, -0.008229337, -0.061419576, -0.045499064, -0.038399044, -0.050448373, -0.01599674, 0.010665811, -0.0042330115, 0.034299575, 0.09636679, 0.03282673, 0.057595, 0.015476964) * inp_0_2_0;
    result0 += M4(0.1348143, -0.0069429562, 0.019518914, 0.03524811, 0.037744727, -0.0767189, 0.14974517, -0.033032164, 0.008381203, -0.008938786, 0.07351603, -0.022328932, 0.1934259, 0.11230193, 0.18244815, 0.12496535) * inp_0_0_1;
    result0 += M4(0.10024986, 0.16222347, -0.057396047, -0.08479872, -0.13747132, 0.16053458, -0.09127503, 0.2563282, 0.023647318, 0.10199608, 0.029226236, -0.0537859, 0.22803274, 0.22347516, 0.16360672, 0.27788568) * inp_0_1_1;
    result0 += M4(-0.0030379207, 0.062148917, 0.023902563, 0.012469521, 0.049527578, -0.086717084, 0.041237414, -0.0980547, -0.006108254, -0.00085325056, -0.007071628, 0.04121957, 0.16993965, 0.21994765, 0.16688296, 0.25438535) * inp_0_2_1;
    result0 += M4(-0.013608191, -0.0020685769, 0.024020566, 0.0036421334, -0.03586992, 0.005179726, -0.0845809, -0.006429221, 0.027020195, 0.006124602, 0.015347538, 0.004741238, 0.11128821, 0.0023215746, 0.22219299, -0.021712627) * inp_0_0_2;
    result0 += M4(-0.031487156, -0.04707777, 0.08626403, 0.07065962, 0.07766686, 0.024513002, 0.054429594, -0.083721146, -0.0067976965, 0.030278403, -0.09348429, 0.03564517, 0.018700073, 0.059077367, 0.059634645, 0.20580225) * inp_0_1_2;
    result0 += M4(-0.009727224, -0.006215136, 0.001186175, 0.045806892, 0.05760424, 0.017395096, 0.07415008, 0.016061535, -0.009891192, -0.015712598, -0.024737712, -0.06920787, 0.052638832, 0.14936973, 0.073805146, 0.11646318) * inp_0_2_2;
    const V4 inp_1_0_0 = inp[1][local_xy.y + 0][local_xy.x + 0];
    const V4 inp_1_1_0 = inp[1][local_xy.y + 0][local_xy.x + 1];
    const V4 inp_1_2_0 = inp[1][local_xy.y + 0][local_xy.x + 2];
    const V4 inp_1_0_1 = inp[1][local_xy.y + 1][local_xy.x + 0];
    const V4 inp_1_1_1 = inp[1][local_xy.y + 1][local_xy.x + 1];
    const V4 inp_1_2_1 = inp[1][local_xy.y + 1][local_xy.x + 2];
    const V4 inp_1_0_2 = inp[1][local_xy.y + 2][local_xy.x + 0];
    const V4 inp_1_1_2 = inp[1][local_xy.y + 2][local_xy.x + 1];
    const V4 inp_1_2_2 = inp[1][local_xy.y + 2][local_xy.x + 2];
    result0 += M4(-0.10457171, -0.060175177, -0.045713574, -0.07064265, -0.046997886, -0.04038885, -0.023558518, -0.0119186295, -0.015180546, 0.016306097, 0.0041794693, -0.0012087682, 0.0468021, 0.034562305, 0.024687618, 0.017641252) * inp_1_0_0;
    result0 += M4(0.049002253, -0.12718092, -0.13339995, 0.006638956, 0.1192546, 0.13586256, 0.121978015, 0.022892114, 0.034541763, -0.027673226, 0.020820184, 0.030916123, -0.01283114, -0.042956922, 0.010391638, 0.0023537152) * inp_1_1_0;
    result0 += M4(-0.059572555, 0.014687798, -0.022283392, -0.019005962, 0.007988877, 0.105525926, 0.024352342, 0.10361827, -0.021939853, 0.02810489, -0.00041833144, 0.02753452, 0.01564899, -0.019779436, 0.004633047, -0.008883486) * inp_1_2_0;
    result0 += M4(-0.042897165, -0.106806025, 0.039732113, -0.06496721, -0.15729739, -0.078961864, -0.22210786, -0.15745276, 0.079054184, 0.013513968, -0.008364296, 0.039424654, 0.0086830165, 0.01517629, 0.074459404, 0.037995197) * inp_1_0_1;
    result0 += M4(0.16121021, 0.09721998, 0.24952467, 0.105266936, 0.06415209, 0.011500712, -0.0865171, 0.03143969, -0.058535665, 0.02232676, -0.045531355, -0.009194026, 0.00667305, -0.020516371, -0.08437374, 0.0181364) * inp_1_1_1;
    result0 += M4(0.061515644, 0.09641093, 0.027388798, 0.04817525, -0.0012499655, 0.013315963, -0.06839417, -0.10393643, -0.018161187, -0.06596962, 0.017280012, 0.010577448, 0.012409134, 0.01724306, 0.011047391, -0.013346937) * inp_1_2_1;
    result0 += M4(-0.031602282, 0.0039131865, -0.10654959, 0.008420185, -0.06273691, -0.02037094, -0.0927169, -0.011867927, 0.006751106, -0.012621149, 0.0154912835, -0.010399366, -0.0014602423, 0.0015388705, -0.019011863, -0.010319816) * inp_1_0_2;
    result0 += M4(0.03667647, 0.08907559, 0.04424967, -0.07888597, -0.0331053, -0.052954976, 0.09435169, 0.026925059, -0.0010173526, -0.0040327013, 0.0028525891, -0.050223183, -0.017437892, -0.0077786343, -0.017443042, -0.083707064) * inp_1_1_2;
    result0 += M4(0.02517771, -0.052855693, 0.012222479, 0.002312834, 0.0066240537, -0.0032887617, 0.009657444, 0.09230179, 0.03053428, -0.024787193, 0.023820722, -0.0651344, -0.00450561, -0.010653796, -0.0006488829, 0.010558688) * inp_1_2_2;
    const V4 inp_2_0_0 = inp[2][local_xy.y + 0][local_xy.x + 0];
    const V4 inp_2_1_0 = inp[2][local_xy.y + 0][local_xy.x + 1];
    const V4 inp_2_2_0 = inp[2][local_xy.y + 0][local_xy.x + 2];
    const V4 inp_2_0_1 = inp[2][local_xy.y + 1][local_xy.x + 0];
    const V4 inp_2_1_1 = inp[2][local_xy.y + 1][local_xy.x + 1];
    const V4 inp_2_2_1 = inp[2][local_xy.y + 1][local_xy.x + 2];
    const V4 inp_2_0_2 = inp[2][local_xy.y + 2][local_xy.x + 0];
    const V4 inp_2_1_2 = inp[2][local_xy.y + 2][local_xy.x + 1];
    const V4 inp_2_2_2 = inp[2][local_xy.y + 2][local_xy.x + 2];
    result0 += M4(0.08777567, 0.08944391, 0.05450133, 0.07419137, -0.16001883, -0.09065206, -0.05799599, -0.069316946, 0.026279245, 0.048433505, 0.016535666, 0.010943602, -0.0010288373, -0.042614806, -0.020276314, -0.0030021186) * inp_2_0_0;
    result0 += M4(-0.1314246, -0.0058887466, 0.03588398, -0.0037908053, -0.12357382, -0.06572928, 0.056496184, 0.044037864, 0.02167042, -0.07139563, -0.009242862, -0.0019613334, -0.05519853, 0.050017964, 0.016246213, -0.033168446) * inp_2_1_0;
    result0 += M4(0.019278573, -0.08851612, -0.011736904, -0.049480792, 0.013972784, 0.0028042463, 0.04261791, 0.028699232, 0.0102328, 0.036778916, 0.013780775, 0.020071387, -0.009505823, 0.021130828, 0.003923451, 0.042830545) * inp_2_2_0;
    result0 += M4(0.057835046, 0.12310949, 0.0664352, 0.13985926, -0.25471395, 0.0013791715, -0.26611555, -0.01623725, 0.018426953, 0.030655343, 0.037665356, 0.08429374, 0.03386081, -0.027937485, 0.0124137215, -0.0576956) * inp_2_0_1;
    result0 += M4(-0.052653234, -0.24169382, -0.33470115, -0.28084156, -0.19259632, -0.19684309, -0.07958315, -0.039062407, 0.0626503, 0.0011230623, 0.013528797, -0.039605707, 0.008207492, -0.009719663, 0.024851967, 0.08701634) * inp_2_1_1;
    result0 += M4(-0.120188504, -0.0012861984, -0.03958262, -0.020265665, 0.3987977, 0.034645703, 0.38245857, 0.10550741, -0.061618358, -0.08568918, -0.0575265, -0.060011756, -0.042431917, -0.021253482, -0.016393099, 0.02923106) * inp_2_2_1;
    result0 += M4(0.047168467, 0.011303112, 0.12617525, 0.013602863, -0.08903923, 0.004456873, -0.16846102, 0.028010027, -0.01644882, -0.007317895, -0.032048862, -0.0021201773, -0.02656432, 0.0007319173, -0.004274704, -0.0085604265) * inp_2_0_2;
    result0 += M4(0.033578362, -0.031046594, 0.12853174, 0.04428335, 0.119248815, 0.032680385, -0.10576768, -0.15497091, 0.008600115, 0.041509166, 0.056547813, -0.077248156, 0.032576684, -0.034585293, -0.02581716, -0.0027379259) * inp_2_1_2;
    result0 += M4(0.00041790368, 0.070004396, 0.008828076, 0.048639886, 0.108144835, 0.11351058, 0.15778346, 0.0834893, -0.0021374342, -0.03344329, -0.00021524758, 0.0017666054, -0.0040792264, 0.04262222, 0.0121801505, 0.03007763) * inp_2_2_2;
    const V4 inp_3_0_0 = inp[3][local_xy.y + 0][local_xy.x + 0];
    const V4 inp_3_1_0 = inp[3][local_xy.y + 0][local_xy.x + 1];
    const V4 inp_3_2_0 = inp[3][local_xy.y + 0][local_xy.x + 2];
    const V4 inp_3_0_1 = inp[3][local_xy.y + 1][local_xy.x + 0];
    const V4 inp_3_1_1 = inp[3][local_xy.y + 1][local_xy.x + 1];
    const V4 inp_3_2_1 = inp[3][local_xy.y + 1][local_xy.x + 2];
    const V4 inp_3_0_2 = inp[3][local_xy.y + 2][local_xy.x + 0];
    const V4 inp_3_1_2 = inp[3][local_xy.y + 2][local_xy.x + 1];
    const V4 inp_3_2_2 = inp[3][local_xy.y + 2][local_xy.x + 2];
    result0 += M4(-0.032825075, -0.0010398122, -0.027556384, -0.017602645, 0.00535446, 0.0209704, 0.011420735, 0.001613736, 0.017164217, 0.029158859, 0.028148819, 0.01602079, -0.14507714, -0.08007412, -0.038656514, -0.073554836) * inp_3_0_0;
    result0 += M4(-0.014037251, -0.09154357, 0.017874125, 0.0053836745, 0.047041513, 0.020179052, -0.012658769, 0.014409098, -0.027087461, -0.0654946, -0.0687533, -0.043007433, -0.060231034, -0.10820212, 0.013961346, 0.046420336) * inp_3_1_0;
    result0 += M4(-0.0001456983, 0.046572335, 0.014809988, 0.0436271, -0.0445423, 0.013055284, -0.024534507, 0.0074679456, 0.031163951, 0.05232998, 0.03126319, 0.028109979, -0.08350863, -0.08726782, -0.061083853, -0.0351949) * inp_3_2_0;
    result0 += M4(-0.036838777, -0.061081022, 0.03303778, -0.030236933, -0.036952034, 0.02675722, -0.009858813, 0.056132004, 0.06159355, 0.009905494, 0.06425524, 0.07184967, -0.099660575, 0.0060225627, -0.11704455, 0.019452438) * inp_3_0_1;
    result0 += M4(0.16395058, 0.21719812, -0.1295583, -0.02250625, 0.09546241, -0.1268784, 0.091936514, -0.04978079, -0.58165455, -0.44752333, -0.45251212, -0.41414618, 0.45179018, 0.38340354, 0.43408796, 0.32031465) * inp_3_1_1;
    result0 += M4(0.009548952, -0.019934967, 0.019895209, -0.035944194, -0.029265275, 0.07691548, -0.05864961, 0.01748668, 0.086133, 0.0051125833, 0.040308014, 0.03530817, -0.16253689, -0.19044374, -0.15489615, -0.21801026) * inp_3_2_1;
    result0 += M4(-0.033029508, -0.004452918, -0.060589768, -0.004502535, -0.026709013, 0.0055014603, -0.047191218, -0.0014500038, 0.120763, 0.051013287, 0.17227599, 0.021476418, -0.058084518, 0.017405558, -0.10322929, 0.03140088) * inp_3_0_2;
    result0 += M4(-0.0067390776, -0.01628248, 0.08402215, 0.021670237, 0.017087437, -0.020493736, 0.019746419, -0.10482701, 0.19634575, 0.20445971, -0.036380924, 0.07592466, 0.16551766, 0.05208668, 0.07540424, -0.039004542) * inp_3_1_2;
    result0 += M4(0.0051291324, -0.018720303, 0.0026490288, 0.0073112478, -0.0027892978, -0.0053624175, 0.0054417057, 0.036090076, 0.093482316, 0.16892335, 0.08060299, 0.07738427, -0.027833978, -0.011939481, -0.042893313, -0.054822743) * inp_3_2_2;
    const ivec2 output_base = ivec2(gl_GlobalInvocationID) * ivec2(1, 1);
    imageStore(out_image, output_base + ivec2(0, 0), result0);
}

//!DESC ArtCNN C4F16 Soft (Depth-To-Space)
//!COMPUTE 12 16 12 16
//!HOOK LUMA
//!BIND conv2d_6
//!WIDTH LUMA.w 2.0 *
//!HEIGHT LUMA.h 2.0 *
//!COMPONENTS 4
//!WHEN OUTPUT.w LUMA.w / 1.3 > OUTPUT.h LUMA.h / 1.3 > *
#extension GL_EXT_shader_explicit_arithmetic_types_float16 : enable
#ifdef GL_EXT_shader_explicit_arithmetic_types_float16
#	define V4 f16vec4
#	define M4 f16mat4
#	define F float16_t
#else
#	define V4 vec4
#	define M4 mat4
#	define F float
#endif

void hook() {
    vec4 result = vec4(0.0, 0.0, 0.0, 1.0);
    vec2 f0 = fract(conv2d_6_pos * conv2d_6_size);
    ivec2 i0 = ivec2(f0 * vec2(2.0));
    result.x = conv2d_6_tex((vec2(0.5) - f0) * conv2d_6_pt + conv2d_6_pos)[i0.y * 2 + i0.x];
    imageStore(out_image, ivec2(gl_GlobalInvocationID), clamp(result, 0.0, 1.0));
}
