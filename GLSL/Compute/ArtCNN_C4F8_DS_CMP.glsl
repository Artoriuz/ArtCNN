// MIT License

// Copyright (c) 2024 Joao Chrisostomo

// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the "Software"), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:

// The above copyright notice and this permission notice shall be included in all
// copies or substantial portions of the Software.

// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
// SOFTWARE.

//!DESC ArtCNN C4F8 DS (Conv2D)
//!COMPUTE 16 16 8 16
//!HOOK LUMA
//!BIND LUMA
//!SAVE conv2d
//!WIDTH LUMA.w 2.0 *
//!HEIGHT LUMA.h
//!COMPONENTS 4
//!WHEN OUTPUT.w LUMA.w / 1.3 > OUTPUT.h LUMA.h / 1.3 > *
#extension GL_EXT_shader_explicit_arithmetic_types_float16 : enable
#ifdef GL_EXT_shader_explicit_arithmetic_types_float16
#	define V4 f16vec4
#	define M4 f16mat4
#	define F float16_t
#else
#	define V4 vec4
#	define M4 mat4
#	define F float
#endif

const ivec2 ksize = ivec2(3, 3);
const ivec2 offset = ksize / 2;
const ivec2 isize = ivec2(gl_WorkGroupSize) + ksize - 1;
shared F inp[1][isize.y][isize.x];
void hook() {
    ivec2 base = ivec2(gl_WorkGroupID) * ivec2(gl_WorkGroupSize);
    for (uint y = gl_LocalInvocationID.y; y < isize.y; y += gl_WorkGroupSize.y) {
        for (uint x = gl_LocalInvocationID.x; x < isize.x; x += gl_WorkGroupSize.x) {
            inp[0][y][x] = F(LUMA_mul * texelFetch(LUMA_raw, (base + ivec2(x,y) - offset) * ivec2(1, 1) + ivec2(0, 0), 0).x);
        }
    }

    barrier();
    V4 result0 = V4(-0.028249083, -0.005005741, -0.10208715, -0.023333987);
    result0 += V4(0.05665402, -0.15665187, -0.06816724, 0.095273) * inp[0][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 0];
    result0 += V4(0.044409074, -0.085839115, 0.22949386, -0.3645613) * inp[0][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 1];
    result0 += V4(-0.01621918, -0.20825484, -0.16563807, 0.06747384) * inp[0][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 2];
    result0 += V4(0.18221751, 0.29663345, 0.14718467, -0.21750967) * inp[0][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 0];
    result0 += V4(0.42615825, 0.009271022, 0.44488016, 0.79322326) * inp[0][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 1];
    result0 += V4(0.044220693, -0.035141334, 0.14859492, -0.07916537) * inp[0][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 2];
    result0 += V4(0.06893748, 0.029044764, -0.13096347, 0.1258789) * inp[0][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 0];
    result0 += V4(0.1175097, 0.22398712, -0.18780056, -0.24409509) * inp[0][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 1];
    result0 += V4(-0.15598808, 0.00838904, 0.1363387, -0.063377105) * inp[0][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 2];
    ivec2 store_pos0 = ivec2(gl_GlobalInvocationID) * ivec2(2, 1) + ivec2(0, 0);
    imageStore(out_image, store_pos0, result0);
    V4 result1 = V4(0.02711402, -0.022803873, -0.05659295, -0.034552913);
    result1 += V4(-0.13424182, 0.21060021, 0.00119468, -0.22474165) * inp[0][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 0];
    result1 += V4(0.28259477, -0.075938664, -0.16159086, 0.09215738) * inp[0][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 1];
    result1 += V4(0.07520823, 0.21429251, -0.1945752, -0.094771594) * inp[0][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 2];
    result1 += V4(-0.09809973, 0.025017546, 0.35473123, 0.009718795) * inp[0][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 0];
    result1 += V4(0.41529775, -0.21184862, 0.1828092, 0.23100477) * inp[0][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 1];
    result1 += V4(-0.38464135, -0.26229444, 0.023065226, -0.14028478) * inp[0][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 2];
    result1 += V4(-0.105195455, -0.011875813, -0.034633543, 0.04290325) * inp[0][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 0];
    result1 += V4(-0.01580291, 0.23079193, 0.04795222, 0.12813608) * inp[0][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 1];
    result1 += V4(-0.011247777, -0.0232292, -0.19872423, -0.027026044) * inp[0][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 2];
    ivec2 store_pos1 = ivec2(gl_GlobalInvocationID) * ivec2(2, 1) + ivec2(1, 0);
    imageStore(out_image, store_pos1, result1);
}

//!DESC ArtCNN C4F8 DS (Conv2D-1-ReLU)
//!COMPUTE 16 16 8 16
//!HOOK LUMA
//!BIND conv2d
//!SAVE conv2d_1
//!WIDTH LUMA.w 2.0 *
//!HEIGHT LUMA.h
//!COMPONENTS 4
//!WHEN OUTPUT.w LUMA.w / 1.3 > OUTPUT.h LUMA.h / 1.3 > *
#extension GL_EXT_shader_explicit_arithmetic_types_float16 : enable
#ifdef GL_EXT_shader_explicit_arithmetic_types_float16
#	define V4 f16vec4
#	define M4 f16mat4
#	define F float16_t
#else
#	define V4 vec4
#	define M4 mat4
#	define F float
#endif

const ivec2 ksize = ivec2(3, 3);
const ivec2 offset = ksize / 2;
const ivec2 isize = ivec2(gl_WorkGroupSize) + ksize - 1;
shared V4 inp[2][isize.y][isize.x];
void hook() {
    ivec2 base = ivec2(gl_WorkGroupID) * ivec2(gl_WorkGroupSize);
    for (uint y = gl_LocalInvocationID.y; y < isize.y; y += gl_WorkGroupSize.y) {
        for (uint x = gl_LocalInvocationID.x; x < isize.x; x += gl_WorkGroupSize.x) {
            inp[0][y][x] = V4(conv2d_mul * texelFetch(conv2d_raw, (base + ivec2(x,y) - offset) * ivec2(2, 1) + ivec2(0, 0), 0));
            inp[1][y][x] = V4(conv2d_mul * texelFetch(conv2d_raw, (base + ivec2(x,y) - offset) * ivec2(2, 1) + ivec2(1, 0), 0));
        }
    }

    barrier();
    V4 result0 = V4(0.09052432, -0.0702192, -0.09143609, 0.20728563);
    result0 += M4(-0.0648764, 0.09022623, 0.011456464, 0.04937465, -0.08383635, 0.11074354, 0.024583906, -0.25374788, 0.066173926, 0.2774467, -0.1193506, -0.13021645, 0.015388017, 0.29299593, 0.010722758, 0.085093245) * inp[0][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 0];
    result0 += M4(-0.1819381, 0.05873895, -0.051126204, 0.050007146, 0.13585895, 0.71152896, -0.22661479, 0.12619498, 0.1792214, -0.24523675, 0.15771233, 0.11410268, 0.01888366, -0.77062374, 0.13392395, 0.18956552) * inp[0][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 1];
    result0 += M4(-0.008230913, 0.043496136, -0.15466551, -0.05964451, -0.13153087, 0.13647279, -0.06679921, -0.16054526, -0.056529045, -0.574144, -0.09754974, 0.0074732783, 0.15531516, -0.11742053, 0.052743156, -0.22463536) * inp[0][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 2];
    result0 += M4(-0.0018329568, -0.13087969, -0.28813827, 0.20924725, -0.36544, -0.20155396, -0.0028171574, -0.3415126, 0.038890388, 0.10690068, -0.10954365, -0.14848697, -0.24041957, -0.055820372, -0.12153811, 0.33657208) * inp[0][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 0];
    result0 += M4(0.33083692, 0.015252152, 0.23040366, 0.0020062495, 0.015256468, 0.14230974, 0.55156016, 0.0587587, 0.4487023, 0.19096416, -0.6581021, 0.045204826, 0.70753855, -0.004879107, -1.3618233, -0.4441334) * inp[0][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 1];
    result0 += M4(-0.05230142, 0.21037126, -0.014626294, 0.0033601723, -0.19311662, -0.17551704, 0.26190966, -0.23671935, 0.038644187, -0.19864221, -0.0111388415, 0.25168973, 0.45280215, 0.35283756, 0.083608694, 0.42682642) * inp[0][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 2];
    result0 += M4(0.33286542, 0.18350166, 0.15080406, -0.37081575, -0.0589836, -0.058440216, -0.13653255, 0.13119486, 0.050627023, -0.48310193, 0.2057894, 0.20364718, -0.12589668, -0.08585678, -0.06967218, 0.30749238) * inp[0][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 0];
    result0 += M4(0.3986741, 0.06342912, 0.38924173, -0.10668258, -0.051527794, -1.0491905, 0.76227885, 0.23614919, 0.15718916, -0.08232764, -0.050756723, -0.3405005, -0.38177785, 0.25214276, 1.0855194, 0.3569155) * inp[0][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 1];
    result0 += M4(-0.06392428, -0.16725118, 0.07828365, 0.066394456, 0.025216065, 0.8265247, -0.026871618, 0.22713423, 0.020182803, 0.23454107, 0.031809427, -0.14407732, 0.0005471219, 1.0558734, -0.04873776, 0.07432687) * inp[0][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 2];
    result0 += M4(-0.032719236, 0.017796673, -0.006731298, 0.103963256, 0.20621368, 0.037627876, -0.08821899, 0.26376775, -0.11897471, -0.17303693, 0.13276027, 0.05368939, 0.06428309, 0.30575204, -0.043884996, 0.33950463) * inp[1][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 0];
    result0 += M4(-0.2202786, -0.3925324, -0.17207281, -0.038751185, -0.21777661, 0.62160003, 0.12863557, -0.28245905, -0.4548439, -0.32136816, -0.2372016, -0.057449546, -0.07137751, -0.10427709, 0.04883279, 0.04318236) * inp[1][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 1];
    result0 += M4(0.052355733, -0.15234366, -0.10442919, 0.029171605, -0.19834818, 0.30363888, -0.0064490587, 0.11988639, 0.05308432, -0.12960461, 0.083725326, 0.18364966, -0.020626638, 0.106823236, 0.14164336, -0.001677815) * inp[1][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 2];
    result0 += M4(0.2677427, -0.5094724, 0.18865111, 0.59356534, 0.13843174, -0.24294618, 0.21091956, 0.10445109, 0.22913627, -0.18669936, 0.26184493, 0.4184259, -0.18795188, -0.32351756, 0.117059425, -0.06452186) * inp[1][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 0];
    result0 += M4(0.60101867, 0.8710842, -0.713783, 0.039833475, 0.054560017, -0.6424045, 0.93671995, -0.56203496, 0.054966167, -0.20719488, -0.37822017, 0.05384102, 0.04503459, 0.4183379, 0.0328608, 0.07679999) * inp[1][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 1];
    result0 += M4(0.12184347, -0.21764931, -0.25527176, -0.050469257, -0.5062842, 0.17919272, 0.18010572, 0.02644464, -0.18944582, -0.31801963, -0.13551632, -0.38332453, 0.25364947, 0.076976046, 0.010168164, 0.29997063) * inp[1][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 2];
    result0 += M4(-0.035036962, -0.4810909, -0.2005878, -0.21120568, -0.015794702, -0.32440004, -0.56291527, -0.56775886, -0.118523404, -0.28971356, -0.030186022, 0.45686263, -0.06519162, 0.16872437, -0.24677332, -0.13715032) * inp[1][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 0];
    result0 += M4(0.16622798, -0.08633762, 0.5534082, -0.40134907, -0.07098094, 0.6352104, 0.032241225, 0.29483914, -0.14441887, 0.4713711, -0.8858054, 0.16825365, -0.12084026, -0.42181557, 0.4251613, -0.058014978) * inp[1][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 1];
    result0 += M4(0.16938637, -0.10721957, 0.3406192, -0.09525068, -0.092941865, 0.415062, -0.24205378, -0.016789343, -0.049215727, -0.26671156, -0.03658046, -0.05654918, 0.20037359, -0.044732984, -0.109241866, 0.42020586) * inp[1][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 2];
    ivec2 store_pos0 = ivec2(gl_GlobalInvocationID) * ivec2(2, 1) + ivec2(0, 0);
    imageStore(out_image, store_pos0, max(result0, V4(0.0)));
    V4 result1 = V4(0.09600438, -0.03274797, -0.019542463, -0.091370046);
    result1 += M4(-0.00072317396, -0.21730863, -0.023929905, -0.14394683, -0.044368748, 0.06678858, -0.03126909, 0.08938036, 0.061172538, 0.25104228, 0.06780764, 0.4176682, 0.1681562, -0.64327013, -0.08587248, 0.10770397) * inp[0][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 0];
    result1 += M4(0.08412302, 0.22008394, -0.057237193, 0.24586175, 0.17049854, 1.0291764, -0.11330677, 0.72911304, -0.16236968, -0.3473851, -0.024258664, -0.77440757, -0.18989468, -0.960745, -0.051453132, -0.72855383) * inp[0][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 1];
    result1 += M4(-0.1230052, -0.017967824, -0.014012978, 0.25812182, 0.0006610332, 0.12733406, 0.11760823, 0.14639217, -0.0010773083, 0.0034645884, 0.010766847, 0.07225314, -0.11930191, 0.13795306, -0.02562836, 0.03275184) * inp[0][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 2];
    result1 += M4(0.1823719, -0.032958128, -0.06475076, -0.06195707, -0.32875037, -0.21183826, -0.14909668, -0.378893, -0.21972844, 0.19453919, -0.07885772, -0.27403066, 0.22963971, -0.08401114, -0.10462535, -0.18188168) * inp[0][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 0];
    result1 += M4(0.21611477, -0.016548991, -0.20964958, 0.10489144, -0.24500181, -0.5022737, -0.16728339, -0.58637315, 0.5869185, 0.11851937, -0.16280669, 0.094740614, 0.8078449, 0.1424443, -1.0170423, 0.50030786) * inp[0][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 1];
    result1 += M4(0.08576522, 0.030358586, 0.1666984, -0.017275397, -0.036096953, -0.010840677, -0.25310346, 0.19364615, 0.0065237274, -0.20723459, 0.44939774, -0.15728235, -0.32122135, 0.83592397, 1.6775564, -0.34924108) * inp[0][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 2];
    result1 += M4(0.018950764, -0.33763728, -0.010975345, 0.036015622, -0.014601226, 0.21433733, 0.22115989, 0.3155291, 0.14590512, 0.077667795, 0.09784251, 0.16460294, 0.21323064, 0.39514077, 0.11134548, 0.4839339) * inp[0][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 0];
    result1 += M4(0.27262267, 0.13636672, -0.16943705, 0.076995544, 0.31243256, 0.28352663, 0.010357245, -0.27388254, -0.16063425, -0.24688649, -0.038309492, -0.17082736, 0.16506183, 0.88776875, 0.15041415, -0.10367696) * inp[0][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 1];
    result1 += M4(0.18104924, -0.10029345, 0.10814451, 0.13775207, -0.20113502, 0.31383884, 0.06962775, 0.03224649, -0.03999155, 0.27178597, 0.103353776, -0.13169643, -0.077589214, 0.07577837, 0.18113892, -0.27733913) * inp[0][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 2];
    result1 += M4(0.0041383714, -0.50199485, -0.04372552, -0.18333724, -0.01427005, -0.017912336, 0.037908655, 0.095942445, -0.2051629, -0.18814126, 0.01325488, -0.41278964, 0.021728327, -0.18506898, -0.00091415225, 0.0153852515) * inp[1][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 0];
    result1 += M4(-0.23606563, -0.5300736, -0.067472205, -0.062465854, -0.055509545, 0.6880569, -0.36887407, 0.7172278, -0.0787259, -0.46295613, -0.13300571, -0.034067452, -0.034733452, 0.2749007, -0.04163154, 0.34920752) * inp[1][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 1];
    result1 += M4(-0.073438026, 0.09042931, 0.14881338, -0.16357566, 0.06290334, 0.15626912, 0.34948915, 0.15596439, -0.02686552, -0.10021354, 0.17953987, -0.15281278, -0.16379765, 0.039539713, 0.15403578, 0.14890844) * inp[1][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 2];
    result1 += M4(-0.056110594, -1.0840213, 0.24280085, -1.6430672, 0.115092486, -0.6060606, -0.059581514, -1.4639564, 0.2833029, -0.48122513, 0.20965719, 0.073886536, -0.021709085, -0.10655875, -0.045823187, -0.53056604) * inp[1][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 0];
    result1 += M4(0.6530302, 0.016917799, -1.3252048, 0.58615214, -0.2583436, 0.24861445, -0.24978381, 0.031355627, -0.18769988, -0.533816, -0.460011, -0.1636027, 0.1317677, 0.006421863, -0.11413196, -0.006323544) * inp[1][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 1];
    result1 += M4(-0.06281249, 0.16120832, 0.15170582, -0.3371857, 0.2648669, 0.037636906, -0.37845755, 0.23976684, 0.22712302, -0.0063356888, -0.77016693, -0.023637561, 0.19673549, 0.14647256, 0.13905169, -0.035519365) * inp[1][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 2];
    result1 += M4(0.09061703, 0.41420966, -0.0009842064, 0.46608934, 0.020853933, 0.52043754, -0.11725207, 0.5021857, -0.18505836, -0.15029676, 0.018590225, -0.42690167, -0.30741543, -0.16484778, -0.103733145, 0.076018386) * inp[1][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 0];
    result1 += M4(0.08385997, 0.2378926, -0.07124205, 0.29742387, -0.15616567, -0.33502814, 0.4715947, 0.019609703, -0.09494699, 0.5906059, -0.2014752, 0.23561193, 0.0750222, 0.051308483, -0.1034052, -0.31577906) * inp[1][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 1];
    result1 += M4(-0.12601273, 0.12518273, 0.395803, -0.09581424, 0.15459047, 0.23620659, -0.24747816, 0.071196005, -0.036018945, -0.667418, -0.124919154, 0.008539086, -0.01547058, -0.044183597, 0.13413642, 0.08231137) * inp[1][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 2];
    ivec2 store_pos1 = ivec2(gl_GlobalInvocationID) * ivec2(2, 1) + ivec2(1, 0);
    imageStore(out_image, store_pos1, max(result1, V4(0.0)));
}

//!DESC ArtCNN C4F8 DS (Conv2D-2-ReLU)
//!COMPUTE 16 16 8 16
//!HOOK LUMA
//!BIND conv2d_1
//!SAVE conv2d_2
//!WIDTH LUMA.w 2.0 *
//!HEIGHT LUMA.h
//!COMPONENTS 4
//!WHEN OUTPUT.w LUMA.w / 1.3 > OUTPUT.h LUMA.h / 1.3 > *
#extension GL_EXT_shader_explicit_arithmetic_types_float16 : enable
#ifdef GL_EXT_shader_explicit_arithmetic_types_float16
#	define V4 f16vec4
#	define M4 f16mat4
#	define F float16_t
#else
#	define V4 vec4
#	define M4 mat4
#	define F float
#endif

const ivec2 ksize = ivec2(3, 3);
const ivec2 offset = ksize / 2;
const ivec2 isize = ivec2(gl_WorkGroupSize) + ksize - 1;
shared V4 inp[2][isize.y][isize.x];
void hook() {
    ivec2 base = ivec2(gl_WorkGroupID) * ivec2(gl_WorkGroupSize);
    for (uint y = gl_LocalInvocationID.y; y < isize.y; y += gl_WorkGroupSize.y) {
        for (uint x = gl_LocalInvocationID.x; x < isize.x; x += gl_WorkGroupSize.x) {
            inp[0][y][x] = V4(conv2d_1_mul * texelFetch(conv2d_1_raw, (base + ivec2(x,y) - offset) * ivec2(2, 1) + ivec2(0, 0), 0));
            inp[1][y][x] = V4(conv2d_1_mul * texelFetch(conv2d_1_raw, (base + ivec2(x,y) - offset) * ivec2(2, 1) + ivec2(1, 0), 0));
        }
    }

    barrier();
    V4 result0 = V4(-0.0070280395, -0.09742451, 0.026050732, -0.017939258);
    result0 += M4(0.1274815, 0.074920565, -0.039746158, 0.015295484, -1.3021221, -0.00065063545, 0.014040828, -0.07736442, -1.3757561, -0.00687457, 0.027387777, 0.046615943, -0.88158554, 0.08934429, 0.017381104, 0.018426385) * inp[0][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 0];
    result0 += M4(0.23428652, 0.10880934, 0.015813272, 0.34552985, 0.023321897, 0.04014741, 0.041712143, 0.38066706, -0.045407962, -0.9200304, 0.046226684, -0.8518299, -0.16947624, 0.022320554, -0.06910902, 0.13515687) * inp[0][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 1];
    result0 += M4(-0.058928285, 0.046465132, -0.05694102, -0.123414524, 0.03857248, 0.10338734, -0.00825988, -0.103704765, -0.028346432, -0.041238267, -0.04754847, -0.4670493, -0.33344898, -0.04995521, 0.012509045, -0.1500324) * inp[0][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 2];
    result0 += M4(0.5336292, 0.30979484, -0.0028564446, -0.15157905, 0.03120568, 0.112974666, -0.10076812, 0.15107213, -0.09707945, 0.107746996, 0.062247913, 0.05652219, -0.12179318, 0.15380889, 0.102230795, 0.1400598) * inp[0][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 0];
    result0 += M4(0.23630181, -0.009951495, 0.8741735, 0.57027256, 0.07382195, 0.03353915, 0.054587446, -0.19883277, -0.21550119, -1.3534662, -0.005986398, -0.06843465, 0.12635903, 0.5308451, -0.07082079, 0.24387749) * inp[0][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 1];
    result0 += M4(0.13389471, 0.087869085, -0.16283543, 0.048772138, -0.04123584, 0.07014426, -0.014022903, 0.03808909, 0.060381744, 0.019631041, -0.0022063474, 0.016618581, 0.023957005, 0.06075302, -0.040374424, -0.13663012) * inp[0][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 2];
    result0 += M4(-0.33253622, 0.2903473, 0.0156902, 0.021388905, 0.11530779, 0.13572042, -0.06327208, 0.08029692, 0.07490937, 0.0464349, 9.9790836e-05, 0.048772994, 0.03107734, 0.18837607, 0.0024345145, 0.06885902) * inp[0][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 0];
    result0 += M4(0.26607838, 0.53524566, -0.00048569732, 0.2919304, -0.07467725, 0.030820038, 0.039351795, 0.067952566, -0.03353032, 0.013300482, -0.0027823083, 0.026453907, 0.08033525, -0.0005780788, 0.0031374255, -0.043132707) * inp[0][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 1];
    result0 += M4(-0.08532405, 0.044608507, 0.07503902, -0.030753661, -0.025983913, 0.067645594, 0.020847004, 0.044889025, 0.045734502, 0.015335767, -0.010232659, 0.06757603, 0.00738194, -0.06806695, 0.023977652, 0.02442831) * inp[0][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 2];
    result0 += M4(-2.6884854, 0.0711575, 0.009825018, -0.03546252, -2.3029003, 0.0061945664, 0.04357727, -0.0016587649, -2.8976865, 0.01869421, 0.031039577, -0.0024524818, -0.01858154, 0.04928703, -0.03088497, 0.11621488) * inp[1][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 0];
    result0 += M4(1.6420265e-05, -0.343444, -0.037782665, -0.7147053, -0.089619584, -0.07171183, -0.061182257, 0.20356566, 0.0066562034, 0.043069277, 0.019361869, -0.31660292, 0.14033945, 0.10821024, -0.053041864, -0.28172335) * inp[1][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 1];
    result0 += M4(-0.46927682, -0.10541701, -0.17555618, -0.2289086, -0.045335986, -0.011116046, -0.011544152, -0.022545397, 0.025657685, 0.0241407, 0.0044556255, 0.063425235, 0.16363005, 0.016343707, -0.06459777, -0.2055792) * inp[1][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 2];
    result0 += M4(-0.25445214, -0.6044519, -0.020519996, 0.01305706, 0.19111495, 0.08374506, -0.0095975185, -0.07866565, -0.54035836, -1.2369677, -0.011770851, -0.28335762, -0.1439177, -0.09524157, -0.07951535, 0.13063425) * inp[1][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 0];
    result0 += M4(0.45329785, -0.4647158, 0.4474845, -0.1034423, 0.08858801, 0.50533783, -0.039536245, 0.19071567, -0.015546399, -1.4011412, -0.106009826, -0.56562835, 0.36646438, 1.7180945, 0.070496455, 0.6103795) * inp[1][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 1];
    result0 += M4(-0.06901926, 0.33039558, 0.039655004, 0.263337, -0.10923443, 0.0916953, 0.009492346, 0.30746645, -0.007990925, 0.016465157, -0.00055588834, -0.014035971, -0.1963598, -0.10723355, 0.045859244, -0.15156667) * inp[1][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 2];
    result0 += M4(0.015588358, -0.30612868, -0.093954645, 0.0137210265, 0.032346692, 0.0107163675, 0.045754988, -0.055055015, -0.0073735323, -0.13344401, 0.033321504, -0.0009647869, -0.053443942, -0.18316191, -0.0213027, 0.021087741) * inp[1][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 0];
    result0 += M4(0.14604747, -0.02744691, -0.036932964, -0.38816452, 0.07301851, 0.27918366, 0.00511574, -0.04932402, 0.013101273, -0.052823327, 0.04965286, -0.011642875, -0.023058927, 0.034433577, -0.071076356, 0.20039827) * inp[1][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 1];
    result0 += M4(-0.015407038, -0.089358985, 0.07447301, 0.09598966, 0.049518958, -0.121364035, -0.014683255, -0.008533766, -0.025359487, 0.033642206, -0.010501319, 0.03720976, 0.0131101115, -0.10576641, -0.03767745, -0.0111082075) * inp[1][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 2];
    ivec2 store_pos0 = ivec2(gl_GlobalInvocationID) * ivec2(2, 1) + ivec2(0, 0);
    imageStore(out_image, store_pos0, max(result0, V4(0.0)));
    V4 result1 = V4(0.0047948034, -0.21731007, -0.033268895, -0.20444965);
    result1 += M4(-0.37222004, -0.1891856, -0.16129647, -0.15560187, -0.2737199, -0.09199606, -0.16190505, 0.07768053, -0.15068795, 0.074691966, -0.08138123, -0.18648086, 0.08364705, 0.09658142, -0.028399603, 0.118442655) * inp[0][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 0];
    result1 += M4(-0.417278, -0.06091742, -0.008126509, 0.019004991, -0.3737868, -0.056177024, -0.1411307, 0.058180045, 0.16825554, 0.040106323, 0.1538714, -0.76616096, 0.07819615, 0.15289271, 0.010371321, 0.093218096) * inp[0][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 1];
    result1 += M4(-0.062474895, 0.18874775, -0.040523786, 0.04352962, -0.12806801, 0.050687313, -0.0659987, 0.09612728, 0.12380047, -0.60356116, -0.1577467, -0.03972473, -0.033241928, 0.3265685, 0.022076996, 0.08063114) * inp[0][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 2];
    result1 += M4(0.4221059, -0.0018253551, -0.26679614, 0.20729834, -0.43636918, -0.09889998, -0.32989332, 0.2994757, -0.14774472, 0.06257529, -0.19521207, -0.17555866, -0.14453201, 0.08018986, 0.0983021, 0.08629111) * inp[0][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 0];
    result1 += M4(0.29959893, 0.1477935, 0.30066738, -0.5964418, -0.6805463, 0.078084335, -0.07953657, 0.040853865, 0.18257593, -0.4741113, 0.23262618, -0.55673563, -0.39438805, 0.007676212, -0.074673295, 0.96851504) * inp[0][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 1];
    result1 += M4(-0.10056081, -0.07016325, 0.040099803, -0.11201426, -0.3387465, 0.026924217, -0.014004418, -0.059843015, -0.10369073, -0.27736744, -0.17828761, -0.011027597, 0.16499949, 0.7963126, 0.013425601, 0.2372737) * inp[0][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 2];
    result1 += M4(-0.15190105, -0.12317598, -0.4908575, 0.002904844, -0.30319905, 0.05990294, 0.018870277, 0.04163889, -0.060488828, 0.024263244, -0.06520304, 0.054133527, -0.021071354, 0.086810336, -0.048928894, 0.024084855) * inp[0][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 0];
    result1 += M4(-0.52307653, -0.16346638, -0.14598474, 0.71881527, -0.33982903, -0.08389012, 0.04010351, -0.018902734, -0.023463935, -0.03531696, 0.018782746, 0.023309818, 0.041693278, -0.14009365, 0.06492972, -0.06688778) * inp[0][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 1];
    result1 += M4(0.2091467, 0.39389026, 0.09550367, -0.14935869, -0.12150587, 0.07346785, 0.05917098, 0.030195558, -0.09475889, -0.05216138, -0.0043516215, -0.012004829, 0.097634375, 0.1202528, 0.09944152, 0.06140356) * inp[0][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 2];
    result1 += M4(0.20233974, 0.26973197, -0.04882882, 0.18023135, 0.0023982024, 0.010946886, -0.10835599, 0.1731693, -0.25088447, 0.107033454, -0.0318003, -0.013149514, -0.025307363, 0.08771998, 0.1851478, -0.13171738) * inp[1][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 0];
    result1 += M4(0.74583226, 0.06635279, 0.44890475, -0.12089551, 0.24211857, 0.12364089, -0.040848713, 0.0692186, -0.12301055, 0.1623958, -0.008373522, 0.11704382, 0.19563352, -0.18035853, 0.24485219, -0.06888273) * inp[1][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 1];
    result1 += M4(0.05114251, -0.45576236, -0.18143141, 0.10255343, 0.086618714, 0.015442179, 0.0481115, 0.020174833, -0.0128388805, -0.0948595, 0.008811993, 0.014831011, 0.12818477, 0.08460528, 0.006642394, -0.09019391) * inp[1][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 2];
    result1 += M4(-0.01762277, -0.19534096, 0.60910124, -0.6103685, 0.059148263, -0.058785316, -0.0882562, 0.1884928, 0.07938824, 0.26792324, 0.31877503, -0.65224487, 0.34507447, 0.005116609, 0.40305603, -0.29791462) * inp[1][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 0];
    result1 += M4(0.0878204, 0.19250962, -0.45268533, -0.109277405, 0.23125562, 0.3189668, -0.055831492, 0.39882442, 0.119981505, -1.4384953, 0.057059612, -0.1497812, -0.03541093, -0.1995848, -0.14898339, 0.51680404) * inp[1][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 1];
    result1 += M4(-0.36239466, -0.37129, -0.08867486, 0.24798293, 0.21200421, 0.48799253, 0.10087436, 0.06335607, -0.01137712, -0.21297081, -0.030519985, 0.04444741, 0.1090754, 0.86709523, 0.26016125, -0.0156025095) * inp[1][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 2];
    result1 += M4(-0.01806532, 0.140109, 0.40277407, 0.3488402, 0.1029154, -0.047355283, -0.09513588, 0.025564233, 0.09821386, 0.2239462, 0.046436336, 0.12701984, 0.2697315, 0.054119304, 0.29341558, -0.19347279) * inp[1][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 0];
    result1 += M4(-0.2087237, 0.23824081, -0.021824373, 0.3072473, 0.3531463, 0.01529005, -0.107294954, 0.04224856, -0.18092501, 0.2087766, 0.05056127, 0.117308274, 0.16208218, -0.21907331, 0.09641714, -0.13437712) * inp[1][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 1];
    result1 += M4(0.3156992, 0.20733467, 0.08318056, -0.14674279, 0.44524994, -0.19619, 0.009532207, -0.014918197, -0.049515605, 0.016127978, -0.011370155, 0.0445063, 0.23875652, -0.3951974, 0.1409747, 0.03927842) * inp[1][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 2];
    ivec2 store_pos1 = ivec2(gl_GlobalInvocationID) * ivec2(2, 1) + ivec2(1, 0);
    imageStore(out_image, store_pos1, max(result1, V4(0.0)));
}

//!DESC ArtCNN C4F8 DS (Conv2D-3-ReLU)
//!COMPUTE 16 16 8 16
//!HOOK LUMA
//!BIND conv2d_2
//!SAVE conv2d_3
//!WIDTH LUMA.w 2.0 *
//!HEIGHT LUMA.h
//!COMPONENTS 4
//!WHEN OUTPUT.w LUMA.w / 1.3 > OUTPUT.h LUMA.h / 1.3 > *
#extension GL_EXT_shader_explicit_arithmetic_types_float16 : enable
#ifdef GL_EXT_shader_explicit_arithmetic_types_float16
#	define V4 f16vec4
#	define M4 f16mat4
#	define F float16_t
#else
#	define V4 vec4
#	define M4 mat4
#	define F float
#endif

const ivec2 ksize = ivec2(3, 3);
const ivec2 offset = ksize / 2;
const ivec2 isize = ivec2(gl_WorkGroupSize) + ksize - 1;
shared V4 inp[2][isize.y][isize.x];
void hook() {
    ivec2 base = ivec2(gl_WorkGroupID) * ivec2(gl_WorkGroupSize);
    for (uint y = gl_LocalInvocationID.y; y < isize.y; y += gl_WorkGroupSize.y) {
        for (uint x = gl_LocalInvocationID.x; x < isize.x; x += gl_WorkGroupSize.x) {
            inp[0][y][x] = V4(conv2d_2_mul * texelFetch(conv2d_2_raw, (base + ivec2(x,y) - offset) * ivec2(2, 1) + ivec2(0, 0), 0));
            inp[1][y][x] = V4(conv2d_2_mul * texelFetch(conv2d_2_raw, (base + ivec2(x,y) - offset) * ivec2(2, 1) + ivec2(1, 0), 0));
        }
    }

    barrier();
    V4 result0 = V4(-0.0084559545, -0.001793345, 0.060253527, -0.038706336);
    result0 += M4(0.015038962, 0.03965187, 0.016613584, 0.072090566, 0.27737707, -0.09507606, 0.2396611, -0.013563945, 0.15642345, 0.017768499, 0.08065611, -0.0038602476, -0.011661705, -0.04156297, 0.010880662, -0.011083572) * inp[0][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 0];
    result0 += M4(0.059326887, 0.040093936, -0.108545855, 0.031433295, -0.21425015, -0.17312007, 0.0072672805, -0.17289205, -0.48045662, -0.0073318495, -0.0916704, -0.12982315, -0.15878883, -0.09110649, -0.121030554, -0.050919916) * inp[0][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 1];
    result0 += M4(0.08962091, 0.06554398, 0.10325771, -0.0048665386, -0.0658437, -0.11832053, 0.10049913, -0.13608372, 0.050043765, 0.007879942, -0.00065307075, 0.03836634, 0.0070925592, -0.040601812, 0.0675939, -0.021182418) * inp[0][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 2];
    result0 += M4(0.08407696, 0.014532129, 0.04331579, -0.020399328, -0.40438703, 0.091450974, 0.16108787, 0.09207116, -0.40176916, -0.004988222, -0.07210055, 0.05199848, 0.1729781, 0.025592458, 0.06996298, -0.018039085) * inp[0][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 0];
    result0 += M4(-0.2449639, -0.15536731, 0.29287532, -0.13188154, -0.5492259, 0.5577206, -1.0670812, 0.19421034, 0.5958676, 0.64256203, 0.18903805, 0.66548324, -0.3146965, 0.06717917, -0.49374747, -0.068211906) * inp[0][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 1];
    result0 += M4(-0.04372587, 0.09146179, -0.0047503994, -0.46099386, 0.098095, -0.1835112, -0.44716686, 0.016671363, 0.054325905, -0.12585711, -0.011121644, 0.004110211, -0.035741284, -0.17567927, -0.016153526, -0.047692787) * inp[0][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 2];
    result0 += M4(-0.028157039, 0.018379645, -0.02744567, -0.024067225, -0.09925428, -0.008257325, 0.05155418, -0.004940266, 0.029788584, -0.30562213, -0.26701772, 0.044904046, -0.07199869, -0.07295941, -0.04012516, 0.0137637565) * inp[0][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 0];
    result0 += M4(-0.020960702, -0.33859295, -0.36585757, -0.052371476, 0.09025234, 0.4316136, 0.058296155, 0.15617329, 0.0566849, -0.4073462, 0.27924243, 0.011737183, -0.0806091, 0.2686156, -0.11311101, 0.18060356) * inp[0][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 1];
    result0 += M4(-1.3267543, -2.3674386, -0.31061423, 0.27884862, -0.004144045, 0.3901438, -0.06093569, 0.07719599, -0.0756123, 0.17023425, -0.024949059, 0.0231474, 0.003303942, 0.053887058, 0.17591643, -0.03260369) * inp[0][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 2];
    result0 += M4(-0.023513101, 0.032107748, -0.0043031476, 0.02884156, -0.11661192, 0.0006675462, -0.012230118, 0.02032336, 0.011508493, -0.004220702, 0.037775327, -0.00049688906, 0.0564664, 0.042059492, 0.09455298, 0.0022321302) * inp[1][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 0];
    result0 += M4(0.2770538, 0.23167834, -0.0021787148, 0.18107462, 0.059690714, 0.13058636, 0.11564781, 0.09378685, 0.040468898, 0.01767479, 0.032867264, -0.041315872, 0.30948347, 0.10954745, -0.027665954, -0.012504627) * inp[1][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 1];
    result0 += M4(0.27775314, -0.0014358462, 0.0606905, 0.028774416, 0.1287407, 0.01313981, 0.12023126, 0.044938605, -0.06027078, -0.03633938, -0.07397729, -0.04345462, -0.0066726143, 0.07698337, -0.053253822, 0.038255274) * inp[1][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 2];
    result0 += M4(0.17815445, 0.15431756, -0.197516, 0.11998109, 0.13713562, 0.032718267, -0.03444272, 0.007070244, -0.11698958, -0.02348109, 0.05034292, -0.026273478, 0.062240455, 0.076676615, 0.0751811, -0.024487115) * inp[1][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 0];
    result0 += M4(0.29052052, -0.074106865, 0.2889941, 0.048484728, 0.10430349, 0.2515738, 0.21229908, -0.014787273, -0.023590367, -0.3462073, 0.2417198, -0.108266175, -0.41590643, -0.19792823, -0.07692135, -0.008021121) * inp[1][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 1];
    result0 += M4(0.17664552, 0.12042323, -0.14689237, -0.00077432237, 0.04500079, 0.10458905, 0.06919531, -0.038468707, -0.11561796, 0.028410222, 0.054253098, 0.12415187, -0.077060275, -0.25842914, 0.014956366, -0.029761838) * inp[1][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 2];
    result0 += M4(0.16516824, 0.15060875, 0.17452791, 0.012950903, 0.014044313, -0.010636316, 0.07597532, -0.021465618, 0.042444047, -0.09332888, -0.11686782, 0.012932474, 0.041086324, 0.15768477, -0.0020637964, -0.032977175) * inp[1][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 0];
    result0 += M4(0.12530245, -0.10901654, 0.075241275, 0.057943676, 0.034491003, -0.055096474, 0.0205557, 0.0047042374, -0.09016508, 0.3675261, 0.20544043, -0.009800921, -0.20518158, -0.3022489, -0.42991292, -0.052190464) * inp[1][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 1];
    result0 += M4(-0.0005426444, 0.24516653, 0.044752717, 0.013651444, -0.069376, 0.20828675, 0.04291569, -0.05082758, -0.027731972, -0.1801761, 0.08899126, 0.0076646763, 0.07353808, 0.12630346, -0.12745537, -0.031937785) * inp[1][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 2];
    ivec2 store_pos0 = ivec2(gl_GlobalInvocationID) * ivec2(2, 1) + ivec2(0, 0);
    imageStore(out_image, store_pos0, max(result0, V4(0.0)));
    V4 result1 = V4(0.013066953, 0.004028935, -0.008316223, -0.024408996);
    result1 += M4(-0.004928907, -0.0009774317, 0.02268742, 0.06224399, -0.18159145, -0.13383144, -0.11585182, -0.063860655, 0.020289075, 0.013224625, -0.061870664, -0.0069732377, 0.0725714, 0.0016586544, 0.05180043, 0.030329624) * inp[0][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 0];
    result1 += M4(0.050199386, 5.7519377e-05, 0.07535382, -0.006623588, 0.042235546, 0.16753367, 0.022299126, 0.26909772, -0.008571767, 0.1852708, -0.0610649, -0.037661154, -0.109759726, 0.0315353, 0.044264488, 0.040461764) * inp[0][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 1];
    result1 += M4(-0.07401456, 0.08197906, -0.19585788, -0.010552015, 0.020495946, -0.013529724, -0.08589811, 0.029248755, 0.038106635, -0.020753207, -8.701904e-05, 0.0039456426, 0.058568105, -0.19720192, 0.16005439, -0.09616214) * inp[0][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 2];
    result1 += M4(-0.07170105, 0.0066209286, -0.16946504, 0.03637843, -0.0015894901, 0.081963174, 0.090683065, -0.114766136, -0.08172227, -0.06973812, 0.016640238, -0.16022389, 0.32789865, 0.13640562, 0.215948, 0.09180094) * inp[0][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 0];
    result1 += M4(-0.14582904, -0.1133808, -0.21400249, -0.18779416, 0.0010630827, 0.58842146, 0.12422401, 0.29959947, 0.57820714, -0.047097877, 0.6481241, 0.577357, -0.014311069, 0.5865905, 0.20188114, 0.39896274) * inp[0][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 1];
    result1 += M4(0.05265041, 0.8744785, -0.32286894, 0.91067904, 0.025270242, 0.21693015, 0.25276232, 0.11249254, -0.19191208, 0.06492427, 0.019974813, 0.08054547, -0.13687335, 0.009452552, 0.23535617, -0.026226087) * inp[0][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 2];
    result1 += M4(0.1985515, -0.058378216, 0.14462507, -0.010434938, -0.23463236, -0.034645636, -0.2302056, -0.09575678, -0.5962161, 0.08305842, 0.13563256, 0.014623234, 0.23017284, 0.24652676, -0.096340686, 0.068909444) * inp[0][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 0];
    result1 += M4(-0.69804126, 0.09483901, 0.27172402, -0.06473287, -1.1587355, -0.019714288, -0.40049154, -0.091618605, -0.028660946, -0.22043163, -0.6364459, 0.05485473, -1.0541086, 0.2948581, -0.27810198, 0.15487902) * inp[0][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 1];
    result1 += M4(-1.2721918, -1.134848, -0.9962998, -0.07559179, 0.25053412, -0.10651223, -0.2867107, -0.09945401, 0.2639215, -0.008799752, -0.056382764, -0.10074724, 0.40318003, -0.03462655, -0.087551184, -0.031513527) * inp[0][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 2];
    result1 += M4(-0.090058066, 0.01574434, 0.0218335, -0.00053541583, 0.03250595, 0.028188836, 0.012293872, -0.008294894, 0.07018032, -0.040892474, -0.08278441, -0.03325236, 0.023130743, -0.008984174, 0.043995135, 0.0019626063) * inp[1][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 0];
    result1 += M4(0.11469721, -0.026912155, 0.16748585, -0.0511552, 0.07992431, -0.03750012, 0.10435899, 0.02761169, 0.022315739, 0.061669137, 0.088074416, 0.05036932, 0.2739428, 0.15447618, 0.4096666, -0.1287972) * inp[1][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 1];
    result1 += M4(-0.090344295, -0.01254608, 0.028902937, 0.084189855, 0.01067748, -0.042041834, -0.01178493, 0.04641927, -0.040921576, 0.1040176, -0.059586532, 0.15974516, 0.15968187, 0.061895803, 0.12268669, -0.03059648) * inp[1][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 2];
    result1 += M4(0.02795869, 0.22358556, 0.052993067, 0.20919482, 0.08701502, 0.057264354, 0.036155038, 0.07353105, 0.028194007, -0.012446928, -0.00824927, -0.120255984, 0.0396732, 0.047125287, 0.053672485, 0.037339233) * inp[1][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 0];
    result1 += M4(-0.71753025, 0.18722482, -0.18566532, 0.17783155, 0.092522286, 0.45532188, -0.17809105, 0.10042083, -0.30949268, -0.29310384, -0.18103088, 0.20904553, -0.88160515, 0.42965892, -0.6217553, 0.05409561) * inp[1][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 1];
    result1 += M4(-0.20180646, 0.22674216, 0.067066215, 0.14807479, 0.07700096, 0.12515408, -0.12506354, 0.07586692, -0.027539361, -0.24629092, 0.14292249, -0.04856568, -0.15208471, -0.23393063, -0.11387507, -0.13052498) * inp[1][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 2];
    result1 += M4(-0.17302242, 0.0375154, 0.099526055, 0.08514192, 0.009020946, -0.07323069, -0.16878045, -0.027354311, -0.09180208, 0.06831409, 0.06139966, 0.0129471645, 0.23281567, -0.16579014, -0.22379346, -0.07135024) * inp[1][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 0];
    result1 += M4(-0.40619293, 0.17294496, 0.20099992, 0.0005083419, -0.2563922, -0.086064026, -0.012983514, -0.1411654, 0.7946549, 0.05207372, -0.06695359, 0.09581393, -1.0375462, 0.078040086, -0.63984275, -0.007442738) * inp[1][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 1];
    result1 += M4(0.16189581, 0.14252749, -0.12177988, 0.018776162, 0.1968872, 0.06038446, -0.14187531, -0.003591735, 0.2611968, -0.24407373, 0.017171396, -0.0028049264, -0.13129093, 0.059167907, -0.21647218, -0.030267017) * inp[1][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 2];
    ivec2 store_pos1 = ivec2(gl_GlobalInvocationID) * ivec2(2, 1) + ivec2(1, 0);
    imageStore(out_image, store_pos1, max(result1, V4(0.0)));
}

//!DESC ArtCNN C4F8 DS (Conv2D-4-ReLU)
//!COMPUTE 16 16 8 16
//!HOOK LUMA
//!BIND conv2d_3
//!SAVE conv2d_4
//!WIDTH LUMA.w 2.0 *
//!HEIGHT LUMA.h
//!COMPONENTS 4
//!WHEN OUTPUT.w LUMA.w / 1.3 > OUTPUT.h LUMA.h / 1.3 > *
#extension GL_EXT_shader_explicit_arithmetic_types_float16 : enable
#ifdef GL_EXT_shader_explicit_arithmetic_types_float16
#	define V4 f16vec4
#	define M4 f16mat4
#	define F float16_t
#else
#	define V4 vec4
#	define M4 mat4
#	define F float
#endif

const ivec2 ksize = ivec2(3, 3);
const ivec2 offset = ksize / 2;
const ivec2 isize = ivec2(gl_WorkGroupSize) + ksize - 1;
shared V4 inp[2][isize.y][isize.x];
void hook() {
    ivec2 base = ivec2(gl_WorkGroupID) * ivec2(gl_WorkGroupSize);
    for (uint y = gl_LocalInvocationID.y; y < isize.y; y += gl_WorkGroupSize.y) {
        for (uint x = gl_LocalInvocationID.x; x < isize.x; x += gl_WorkGroupSize.x) {
            inp[0][y][x] = V4(conv2d_3_mul * texelFetch(conv2d_3_raw, (base + ivec2(x,y) - offset) * ivec2(2, 1) + ivec2(0, 0), 0));
            inp[1][y][x] = V4(conv2d_3_mul * texelFetch(conv2d_3_raw, (base + ivec2(x,y) - offset) * ivec2(2, 1) + ivec2(1, 0), 0));
        }
    }

    barrier();
    V4 result0 = V4(-0.03040936, -0.010939534, 0.0074746325, 0.005240171);
    result0 += M4(-0.11128958, -0.026197262, -0.09643334, -0.04195937, 0.1736218, 6.82339e-05, 0.6576956, -0.07779806, -0.078458585, -0.0030651998, -0.11118965, -0.04891823, -0.1475278, 0.03857718, -0.18153769, 0.18763913) * inp[0][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 0];
    result0 += M4(0.111134335, 0.015396814, -0.007598272, 0.006594688, 0.39104506, 0.014451543, 0.013511184, -0.029573476, -0.16745482, -0.01330027, -0.06464932, 0.07067599, -0.5848047, -0.042569023, 0.05031693, -0.032174807) * inp[0][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 1];
    result0 += M4(-0.05007177, 0.009371719, -0.049520664, 0.0360038, 0.15953612, -0.013172391, 0.003972927, 0.019572144, -0.19031744, -0.024136212, 0.0028802233, 0.0013809922, -0.15585564, 0.0037195971, 0.003372817, 0.0064569307) * inp[0][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 2];
    result0 += M4(0.09676409, -0.016061958, 0.06861799, 0.012884538, 0.2610424, 0.040862, 0.74062294, 0.28926378, 0.06744078, 0.010248281, -0.14378238, 0.044949807, 0.14746806, -0.038429894, 0.23211639, -0.40576696) * inp[0][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 0];
    result0 += M4(0.031582057, 0.0022395947, 0.033950698, -0.3785306, 0.19144009, -0.1211812, -0.05034714, 0.30326077, 0.2265359, -0.05201303, 0.07396405, -0.29511493, 0.9388148, 0.2239799, 0.2480003, -0.38373765) * inp[0][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 1];
    result0 += M4(-0.115211934, 0.038020466, 0.03094803, 0.08306072, 0.13627228, 0.084969044, -0.006454217, 0.031198114, -0.030115733, 0.089666955, -0.05936314, -0.083851606, 0.021361878, -0.22806871, -0.0170786, 0.006799573) * inp[0][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 2];
    result0 += M4(0.00048416018, -0.10831267, -2.2185314, 0.08460961, -0.16805159, 0.067440376, -3.1333442, -0.007460863, 0.13546127, 0.005335374, -0.9224088, -0.074738115, 0.030784471, 0.056156997, -5.1654644, 0.3250407) * inp[0][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 0];
    result0 += M4(0.28283903, 0.08350466, -0.17322361, 0.46318805, -0.105350174, 0.026802981, -0.0462055, -0.05472347, 0.122219674, 0.043805033, 0.03421203, 0.13834186, -0.07412874, 0.2049529, 0.3103151, 0.57809544) * inp[0][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 1];
    result0 += M4(-0.010828259, 0.08407563, 0.08566967, 0.0845303, -0.07582725, 0.006334904, 0.010264165, 0.046949245, 0.13652119, 0.12055939, -0.027674781, 0.017583594, 0.1902712, -0.4201323, -0.043614335, 0.065317854) * inp[0][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 2];
    result0 += M4(0.039631106, -0.023665465, -0.32569945, 0.15841179, -0.082452066, 0.0092643965, -0.32077914, 0.03472073, 0.3326823, 0.0041996003, 0.08089334, 0.17645963, 0.022265134, -0.030686447, 0.09942803, -0.010365347) * inp[1][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 0];
    result0 += M4(0.45291454, 0.03750385, -0.09013433, 0.06017214, -0.25906172, 0.018437471, -0.08736353, 0.19888858, 0.4917564, -0.0005725688, 0.009072831, 0.44424498, 0.012391122, 0.009837252, 0.094164975, -0.13142022) * inp[1][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 1];
    result0 += M4(-0.062917694, 0.0320444, 0.04516089, -0.06707852, -0.19920146, -0.019112445, 0.0048318305, -0.041250933, 0.31922424, -0.03115614, -0.0038874308, 0.032063063, 0.14793488, 0.016372362, -0.007205618, 0.008656455) * inp[1][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 2];
    result0 += M4(-0.2256996, -0.049268685, -0.05963956, -0.119788274, -0.073786914, 0.015723119, -0.81600004, 0.09416811, -0.13300803, 0.055001006, -0.5475163, 0.16154878, -0.14810407, -0.03275228, -0.3905184, -0.15937702) * inp[1][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 0];
    result0 += M4(-0.113462105, 0.104189254, 0.011421922, -0.08233583, -0.42755, 0.07069478, 0.022365587, -0.6668855, -0.42617902, -0.104359634, 0.11016842, -0.03507021, 0.5449335, 0.013801704, 0.14710553, 0.42087212) * inp[1][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 1];
    result0 += M4(4.0603765e-05, 0.005612808, 0.015624778, 0.0010730948, 0.020979645, -0.2612534, -0.013542426, -0.05634732, 0.0975954, -0.035155732, -0.020073926, 0.12950549, -0.03301533, 0.1485581, -0.028521968, 0.030945135) * inp[1][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 2];
    result0 += M4(0.056798074, -0.03129072, -0.6541983, -0.024833573, 0.04966514, 0.046718843, -0.5983669, -0.32358155, 0.102092616, -0.05715289, -1.0927547, 0.16834152, -0.11248221, -0.0965388, -0.2928158, 0.0133067705) * inp[1][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 0];
    result0 += M4(0.09173281, 0.003623, -0.033696886, 0.05239912, 0.38377672, -0.15380314, -0.023459805, 0.19388677, 0.051795024, 0.003470862, 0.04299315, 0.10872782, -0.9071549, 0.22986063, 0.025498405, -0.65419215) * inp[1][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 1];
    result0 += M4(0.01583632, -0.012216962, -0.005118048, 0.003494595, 0.13607441, -0.08624933, -0.013069527, 0.025822205, 0.028506178, -0.0015193974, -0.023639599, 0.03276735, -0.2258131, 0.007887246, 0.008904273, -0.14647678) * inp[1][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 2];
    ivec2 store_pos0 = ivec2(gl_GlobalInvocationID) * ivec2(2, 1) + ivec2(0, 0);
    imageStore(out_image, store_pos0, max(result0, V4(0.0)));
    V4 result1 = V4(-0.010943647, -0.015747458, -0.03685301, -0.07065603);
    result1 += M4(-0.04064344, -0.0030971637, -0.081133, -0.009550414, 0.0937837, -0.007518918, -0.05014996, 0.034390394, 0.010179373, -0.004462504, 0.105918884, -0.0007132831, -0.47480944, 0.0327626, 0.2015254, -0.075137995) * inp[0][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 0];
    result1 += M4(0.031364467, -0.032828122, 0.039613277, -0.15752281, 0.023017555, -0.049871776, -0.09202776, 0.21187982, -0.029799571, -0.07007589, 0.25410348, 0.051347982, -0.11903937, 0.05800444, -0.31286937, -0.111140706) * inp[0][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 1];
    result1 += M4(-0.12164294, -0.015102476, -0.018468572, 0.0098991925, 0.03540894, 0.057246268, 0.17668922, -0.15152346, -0.0035800256, -0.03745655, -0.035920408, 0.09658783, -0.07049196, -0.037498467, -0.030726781, 0.15682268) * inp[0][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 2];
    result1 += M4(-0.023695223, 0.0022136483, -0.15582852, 0.0013981939, -0.00071549474, 0.06812691, 0.08135017, -0.2631802, -0.0077393367, 0.023315022, 0.30463028, -0.14612317, 0.13146561, -0.13569255, 0.34479004, 0.36185098) * inp[0][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 0];
    result1 += M4(0.00025091422, -0.01463942, 0.6965063, -0.31646112, -0.026014961, 0.40990412, -0.13626227, 0.73910826, -0.0056732255, 0.00836203, -0.19672509, 0.95856696, -0.07387969, -0.26766855, -0.97680247, -0.5637683) * inp[0][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 1];
    result1 += M4(0.030280638, -0.0796006, -0.36046442, 0.18805644, -0.003187845, 0.085397765, 0.033496086, -0.18554653, 0.02614154, -0.02973277, 0.21839297, -0.083915584, -0.0024048337, 0.012514474, 0.2970443, 0.038439974) * inp[0][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 2];
    result1 += M4(0.0010309846, 0.020018335, -0.10339881, 0.15206592, 0.009154902, -0.04630585, 0.06148994, 0.039391767, -0.009020129, 0.028011438, -0.0064840727, 0.046811547, -0.0143057015, 0.11576039, 0.010609849, -0.3288338) * inp[0][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 0];
    result1 += M4(0.020494284, 0.20110339, 0.01633947, -0.3614665, 0.017769633, -0.36360642, -0.0074339705, -0.042914037, 0.0075333556, 0.18412475, 0.046288602, 0.34704426, -0.045254797, 0.52082723, -0.04943855, 0.600989) * inp[0][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 1];
    result1 += M4(-0.005746074, 0.29167002, -0.035378207, 0.1527299, 0.014161775, -0.042511933, 0.034670945, 0.14281097, -0.030066216, 0.08078414, -0.05065265, -0.17268105, -0.025174474, 0.104199804, 0.0936091, -0.37452558) * inp[0][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 2];
    result1 += M4(-0.059194148, 0.042240795, -0.012706815, 0.00011722713, 0.02275179, 0.02944791, 0.2022691, 0.017372422, -0.0034669135, 0.031254344, -0.051766645, -0.28784844, 0.17163786, -0.019215262, -0.18777615, 0.053391576) * inp[1][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 0];
    result1 += M4(-0.04772453, 0.083525956, 0.27799258, -0.08939304, -0.2161121, 0.03588637, -0.5634565, -0.24763384, -0.06977659, -0.21430092, -0.14663358, 0.34349135, 0.31577125, 0.010445177, 0.4883638, -0.0068327277) * inp[1][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 1];
    result1 += M4(-0.023699658, -0.045363795, -0.20894106, -0.037534326, -0.059805058, -0.083827645, 0.0024870208, 0.0792486, -0.054128498, 0.06846618, 0.14332329, -0.15828775, 0.046021983, 0.042515952, -0.06844681, 0.061790716) * inp[1][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 2];
    result1 += M4(-0.017712163, -0.038641233, -0.06720989, 0.080182895, 0.05037239, -0.039848756, -0.04229309, -0.29120097, -0.021195106, 0.11117793, -0.04604063, -0.1170466, -0.017625922, 0.009814689, -0.0057600047, 0.19981813) * inp[1][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 0];
    result1 += M4(0.0005988141, -0.20709199, 0.13650033, -0.38668117, 0.014254529, -0.34403017, -0.52296376, 0.2740727, 0.0028587072, 0.32278788, -0.049355835, -0.17295627, 0.058829598, 0.23509221, 0.27592173, -0.3040862) * inp[1][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 1];
    result1 += M4(0.009116126, -0.0070283297, -0.043117277, 0.29935518, 0.027757777, -0.084184654, 0.14194815, -0.14913997, -0.039256398, 0.101208195, 0.0836499, 0.028147971, -0.043245565, 0.039626908, -0.011964596, 0.17541692) * inp[1][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 2];
    result1 += M4(-0.00055187504, -0.019627763, -0.05012412, -0.0924131, -0.023197418, -0.06457722, -0.036574736, -0.06305881, -0.009821038, 0.16579367, -0.0031196317, -0.014089698, -0.011809588, -0.043687727, -0.13460006, 0.23949899) * inp[1][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 0];
    result1 += M4(-0.0054308195, 0.20022562, -0.025412964, 0.012743851, -0.020832028, 0.11924893, -0.0061338306, -0.075180486, -0.019286286, 0.23407806, -0.024655677, -0.035426393, 0.06529339, -0.7809179, 0.3143155, -0.47743955) * inp[1][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 1];
    result1 += M4(0.004585585, -0.011774422, -0.028600143, -0.005990733, 0.0008066034, 0.010521761, 0.0319977, -0.077223904, 0.013789009, 0.07840323, -0.0011436595, -0.029088251, -0.025078893, -0.26776314, -0.17990647, 0.24342886) * inp[1][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 2];
    ivec2 store_pos1 = ivec2(gl_GlobalInvocationID) * ivec2(2, 1) + ivec2(1, 0);
    imageStore(out_image, store_pos1, max(result1, V4(0.0)));
}

//!DESC ArtCNN C4F8 DS (Conv2D-5)
//!COMPUTE 16 16 8 16
//!HOOK LUMA
//!BIND conv2d_4
//!SAVE conv2d_5
//!WIDTH LUMA.w 2.0 *
//!HEIGHT LUMA.h
//!COMPONENTS 4
//!WHEN OUTPUT.w LUMA.w / 1.3 > OUTPUT.h LUMA.h / 1.3 > *
#extension GL_EXT_shader_explicit_arithmetic_types_float16 : enable
#ifdef GL_EXT_shader_explicit_arithmetic_types_float16
#	define V4 f16vec4
#	define M4 f16mat4
#	define F float16_t
#else
#	define V4 vec4
#	define M4 mat4
#	define F float
#endif

const ivec2 ksize = ivec2(3, 3);
const ivec2 offset = ksize / 2;
const ivec2 isize = ivec2(gl_WorkGroupSize) + ksize - 1;
shared V4 inp[2][isize.y][isize.x];
void hook() {
    ivec2 base = ivec2(gl_WorkGroupID) * ivec2(gl_WorkGroupSize);
    for (uint y = gl_LocalInvocationID.y; y < isize.y; y += gl_WorkGroupSize.y) {
        for (uint x = gl_LocalInvocationID.x; x < isize.x; x += gl_WorkGroupSize.x) {
            inp[0][y][x] = V4(conv2d_4_mul * texelFetch(conv2d_4_raw, (base + ivec2(x,y) - offset) * ivec2(2, 1) + ivec2(0, 0), 0));
            inp[1][y][x] = V4(conv2d_4_mul * texelFetch(conv2d_4_raw, (base + ivec2(x,y) - offset) * ivec2(2, 1) + ivec2(1, 0), 0));
        }
    }

    barrier();
    V4 result0 = V4(-0.004712275, -0.06964115, -0.07842799, -0.049618404);
    result0 += M4(-0.015665218, -0.046464514, -0.000804407, 0.00481299, 0.0022974683, 0.37103716, -0.36102945, 0.04235366, 0.050528128, -0.047775287, -0.015334625, 0.058722373, 0.035772774, -0.053511612, 0.014075383, -0.016741954) * inp[0][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 0];
    result0 += M4(-0.03436596, 0.10641483, -0.09911878, 0.0004869838, 0.057468567, -0.24841064, 0.36221188, 0.056342874, 0.1477708, -0.035339996, -0.26061416, 0.12766886, -0.002352837, -0.017815836, 0.038996443, 0.013616231) * inp[0][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 1];
    result0 += M4(-0.0039754882, -0.0034222824, 0.05815558, -0.0030651093, -0.0010917913, -0.0342405, -0.019775642, -0.0054144184, 0.03131689, 0.99970764, -0.17569673, 0.10516205, 0.03496522, 0.016057387, -0.026398297, 0.01604486) * inp[0][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 2];
    result0 += M4(0.15153047, 0.043154772, -0.26612642, 0.1075586, -0.12701747, -0.1176504, 0.18414643, -0.18838838, 0.02716171, 0.05075355, 0.004874417, -0.0496899, 0.043176312, 0.09074755, -0.11045715, 0.13970508) * inp[0][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 0];
    result0 += M4(-0.29268128, -0.37209156, 0.606096, -0.21740301, 0.004564189, -0.31029382, -0.04111582, 0.16148557, 0.52084273, 0.5409072, -0.096725196, 0.22627856, -0.06524174, -0.20659293, 0.3673572, -0.7863943) * inp[0][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 1];
    result0 += M4(-0.021740548, 0.063176766, -0.012132648, -0.018631008, 0.003943898, 0.102612145, -0.012985403, -0.013578067, 0.02320903, 0.2308782, -0.6349157, 0.056384496, -0.07274999, -0.57905215, -0.050650734, 0.109422624) * inp[0][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 2];
    result0 += M4(0.024567828, -0.0031233619, -0.07513466, -0.0301316, 0.0058497856, -0.030618478, 0.0070614545, -0.0483622, 0.0064759147, 0.03105509, -0.018563235, 0.01734919, 0.006768272, 0.014298638, -0.033804327, 0.04001566) * inp[0][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 0];
    result0 += M4(-0.0007893781, 0.21171603, 0.13384545, -0.10075544, -0.027906634, -0.082640186, -0.01030726, -0.00853064, -0.029974133, -0.07434468, 0.053816993, -0.23843548, -0.037155498, -0.009980028, -0.063544065, -0.07169397) * inp[0][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 1];
    result0 += M4(-0.0023447257, 0.046191446, -0.025647834, -0.01937651, 0.010057625, -0.008853423, -0.011735864, 0.0048270077, 0.084694006, 0.0068921912, -0.032015953, 0.07596434, 0.020462682, -0.0012923216, -0.055670485, 0.0026184279) * inp[0][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 2];
    result0 += M4(-0.017073695, 0.052206635, 0.036359064, -0.03040599, -0.02578218, 0.048401408, 0.3267051, -0.05152704, 0.0038283274, 0.01997382, -0.018323312, 0.027131129, 0.014524214, 0.03549154, 0.04181225, -0.03852241) * inp[1][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 0];
    result0 += M4(0.015893491, -0.09053169, -0.05946326, 0.029325452, 0.23617816, 0.7137688, -1.1681741, 0.41498652, 0.013099165, 0.34009632, 0.17952602, -0.01662796, -0.023368156, -0.2966692, -0.1375656, -0.0301043) * inp[1][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 1];
    result0 += M4(0.001195386, 0.07232201, -0.0131737385, -0.010010508, 0.06853884, 0.32467857, 0.14634022, 0.006730259, 0.0071940017, -0.010848437, -0.017794222, 0.0007022372, -0.011955531, 0.14436086, -0.044621613, -0.012282095) * inp[1][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 2];
    result0 += M4(-0.06622812, -0.09078185, -0.05039314, -0.0058395956, 0.10613989, -0.029037198, -0.017697558, 0.10414937, -0.12240084, -0.0024558823, 0.36117923, -0.27064356, 0.019322501, 0.03456695, -0.31854826, 0.3460916) * inp[1][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 0];
    result0 += M4(0.15002237, 0.08499732, 0.08677056, 0.009936937, -0.22403099, -0.23556733, -0.012975362, 0.58403784, -0.35045072, -0.8548943, 0.061137352, -0.024064936, 0.7082398, 1.0291811, -0.39927, 0.4645785) * inp[1][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 1];
    result0 += M4(-0.04558702, -0.28678128, 0.0079979785, 0.02451808, 0.08611702, 0.75982195, 0.05729015, -0.0786977, 0.023793386, -0.040326, -0.07560927, 0.069875486, -0.030490607, 0.18449031, 0.01684166, -0.05429396) * inp[1][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 2];
    result0 += M4(-0.040922243, -0.04229692, -0.17120357, -0.0019335023, -0.007345469, -0.041184697, -0.025426883, -0.044410508, -0.058578875, -0.06643935, 0.110655494, -0.057854317, 0.008171868, 0.008916168, 0.06587814, -0.041096095) * inp[1][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 0];
    result0 += M4(-0.27881718, -0.7385665, 0.6989482, -0.12637737, 0.02263695, 0.17973505, 0.22062948, 0.049584698, 0.029287983, -0.18093069, -0.1506074, 0.07389473, -0.08140755, -0.10009654, 0.025294248, -0.0790094) * inp[1][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 1];
    result0 += M4(0.037198264, 0.020969022, -0.02612364, -0.040768564, -0.017393129, -0.073550925, 0.030209327, 0.017874014, 0.02517284, -0.029796258, -0.062368814, 0.0088567715, -0.028124861, 0.018669486, 0.0752353, -0.007465635) * inp[1][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 2];
    ivec2 store_pos0 = ivec2(gl_GlobalInvocationID) * ivec2(2, 1) + ivec2(0, 0);
    imageStore(out_image, store_pos0, result0);
    V4 result1 = V4(-0.042680677, -0.051897027, 0.044040166, 0.02204596);
    result1 += M4(0.016587157, 0.014611888, -0.04047981, -7.039007e-05, -0.23585589, -0.3676869, -0.013405841, 0.30748236, -0.027145911, 0.12815757, -0.054013286, -0.053090278, -0.010822524, 0.09302356, 0.038066074, -0.08305453) * inp[0][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 0];
    result1 += M4(-0.06274115, -0.04996628, 0.0807828, -0.008592951, -0.29705137, 0.40630034, -0.09321631, -0.16727248, -0.16572504, 0.34827995, -0.10482259, -0.08378129, 0.088501476, -0.091823116, 0.047070175, 0.099413686) * inp[0][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 1];
    result1 += M4(0.020563804, -0.046476357, 0.011006296, 0.004919069, -0.07229384, -0.060334444, 0.01845987, -0.038503733, -0.09441921, 0.8671635, -0.06285851, 0.08620439, -0.042551346, 0.058624376, -0.004567776, 0.01680869) * inp[0][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 2];
    result1 += M4(-0.19919038, 0.30056962, 0.008751663, -0.13572326, 0.14249815, -0.10593298, 0.14410834, -0.17009617, -0.070719525, 0.016460203, 0.15502179, -0.047272295, -0.13286081, 0.1175799, -0.050073147, -0.018152704) * inp[0][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 0];
    result1 += M4(-0.22538555, -1.121158, 0.23822547, -0.24097311, 0.006117672, -0.13974695, -0.05227687, -0.18627709, -0.4239353, -0.21412358, 0.2727121, 0.052149843, 0.18815021, -0.78112876, 0.29496416, -0.13289873) * inp[0][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 1];
    result1 += M4(0.15855043, 0.11193657, -0.026472963, 0.10933223, 0.06151131, -0.06520537, -0.023107637, 0.00076381664, 1.0643381, 0.9355321, -0.18718132, 0.4201793, 0.28582212, 0.040624037, -0.29259318, -0.21041936) * inp[0][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 2];
    result1 += M4(-0.007799782, 0.047904983, -0.007599665, -0.013742888, 0.02770484, 0.011208535, 0.023623206, -0.040963124, -0.020208359, -0.004320573, -0.0023158498, 0.016411314, -0.028322613, 0.02815049, -0.026823185, 0.018292168) * inp[0][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 0];
    result1 += M4(-0.08270973, -0.049996722, -0.1665567, 0.015156317, 0.006661072, -0.015994027, -0.008233253, -0.044389836, 0.057655163, -0.14894533, 0.26439786, -0.0060213273, -0.013109345, -0.12476438, -0.039725184, -0.018595347) * inp[0][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 1];
    result1 += M4(-0.05330819, 0.16313721, -0.027359657, 0.061766606, 0.006012199, 0.037105598, 0.04607281, 0.025288912, -0.033971384, 0.6888691, 0.17436542, 0.26598462, -0.102963045, -0.06757636, -0.0689378, -0.09528332) * inp[0][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 2];
    result1 += M4(0.03107065, -0.089347966, 0.035365433, 0.06786828, 0.21286766, -0.17918335, -0.15426496, 0.13577737, -0.06751049, -0.042155046, 0.03544177, -0.030170498, 0.08660114, 0.07511728, 0.018647257, 0.057604596) * inp[1][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 0];
    result1 += M4(-0.035626896, 0.085085794, -0.042285014, -0.08378235, 0.48340073, 1.5997124, 0.33368218, 0.89761525, 0.17173366, -0.10842312, 0.11178714, 0.24583432, -0.12113291, 0.0737132, 0.11930993, -0.15930223) * inp[1][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 1];
    result1 += M4(0.023531498, 0.014854055, 0.00891992, 0.038382143, -0.3607194, -0.114246175, -0.14153226, -0.1068386, 0.005472168, 0.0077236965, 0.010607369, -0.00053341413, 0.10340261, -0.01635191, 0.053646028, 0.09418453) * inp[1][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 2];
    result1 += M4(0.052374043, 0.03943601, -0.059566926, -0.061092004, 0.043575607, 0.093134, -0.02995365, -0.09953738, 0.17966093, -0.40130836, 0.21021281, 0.11498285, -0.13204426, 0.1461035, -0.37776348, 0.038113154) * inp[1][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 0];
    result1 += M4(-0.28057706, -0.037924264, 0.20579314, -0.03683409, -0.20687312, 0.48095408, 0.17622465, 0.33539194, 1.2337786, 0.9434493, -0.6370255, 0.12610383, -1.2894034, 0.07169638, -0.2605552, -0.12935705) * inp[1][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 1];
    result1 += M4(-0.026954798, -0.091148555, -0.03853066, -0.11702108, -0.21997541, 0.014497537, 0.23395868, 0.25269133, 0.08113065, 0.17076658, -0.026984304, 0.043117747, -0.10471271, -0.20219351, -0.21188958, -0.06885937) * inp[1][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 2];
    result1 += M4(-0.1335687, -0.06418402, 0.06833181, -0.047760084, 0.04592018, 0.04770321, 0.022595573, -0.007132551, 0.07580121, -0.05564426, 0.059427604, -0.022612344, 0.01839732, -0.0255053, 0.05603866, 0.0028506415) * inp[1][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 0];
    result1 += M4(0.20341073, -0.18802126, -0.6027289, -0.4305795, -0.17213652, -0.013309398, -0.12762246, -0.056837894, 0.0363639, 0.07446374, 0.28007203, 0.01713132, 0.22396462, 0.052331183, 0.079470836, 0.07438601) * inp[1][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 1];
    result1 += M4(-0.37959215, -0.2283745, 0.035081517, -0.21678686, 0.16254246, 0.046374504, 0.08880323, 0.06435579, 0.08049852, -0.060496435, 0.12677525, 0.056802828, -0.004424937, 0.035320938, -0.0032299568, 0.037887294) * inp[1][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 2];
    ivec2 store_pos1 = ivec2(gl_GlobalInvocationID) * ivec2(2, 1) + ivec2(1, 0);
    imageStore(out_image, store_pos1, result1);
}

//!DESC ArtCNN C4F8 DS (Conv2D-6)
//!COMPUTE 16 16 16 16
//!HOOK LUMA
//!BIND conv2d
//!BIND conv2d_5
//!SAVE conv2d_6
//!WIDTH LUMA.w 1.0 *
//!HEIGHT LUMA.h
//!COMPONENTS 4
//!WHEN OUTPUT.w LUMA.w / 1.3 > OUTPUT.h LUMA.h / 1.3 > *
#extension GL_EXT_shader_explicit_arithmetic_types_float16 : enable
#ifdef GL_EXT_shader_explicit_arithmetic_types_float16
#	define V4 f16vec4
#	define M4 f16mat4
#	define F float16_t
#else
#	define V4 vec4
#	define M4 mat4
#	define F float
#endif

const ivec2 ksize = ivec2(3, 3);
const ivec2 offset = ksize / 2;
const ivec2 isize = ivec2(gl_WorkGroupSize) + ksize - 1;
shared V4 inp[2][isize.y][isize.x];
void hook() {
    ivec2 base = ivec2(gl_WorkGroupID) * ivec2(gl_WorkGroupSize);
    for (uint y = gl_LocalInvocationID.y; y < isize.y; y += gl_WorkGroupSize.y) {
        for (uint x = gl_LocalInvocationID.x; x < isize.x; x += gl_WorkGroupSize.x) {
            inp[0][y][x] = V4(conv2d_5_mul * texelFetch(conv2d_5_raw, (base + ivec2(x,y) - offset) * ivec2(2, 1) + ivec2(0, 0), 0) + conv2d_mul * texelFetch(conv2d_raw, (base + ivec2(x,y) - offset) * ivec2(2, 1) + ivec2(0, 0), 0));
            inp[1][y][x] = V4(conv2d_5_mul * texelFetch(conv2d_5_raw, (base + ivec2(x,y) - offset) * ivec2(2, 1) + ivec2(1, 0), 0) + conv2d_mul * texelFetch(conv2d_raw, (base + ivec2(x,y) - offset) * ivec2(2, 1) + ivec2(1, 0), 0));
        }
    }

    barrier();
    V4 result0 = V4(0.11276745, 0.16181798, 0.14947125, 0.1730404);
    result0 += M4(0.04755609, -0.0635703, -0.12972668, -0.14048652, -0.017626438, 0.015581096, 0.021196177, 0.018595215, -0.12558722, 0.008259682, 0.019391963, 0.030832538, 0.14618576, -0.030562645, -0.032708477, -0.06413357) * inp[0][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 0];
    result0 += M4(0.2668506, 0.023282276, 0.19465794, 0.08128245, -0.05204111, -0.06158211, 0.040565804, 0.07470735, 0.0029608128, 0.017514199, 0.002538059, 0.024853505, 0.18721715, 0.018291874, -0.07088051, -0.07474264) * inp[0][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 1];
    result0 += M4(0.0014392035, 0.20387615, -0.041047078, 0.07245784, 0.034591198, -0.026941761, 0.022467129, 2.4183173e-06, 0.0099614905, -0.0447505, 0.015579556, -0.010033534, -0.06067301, -0.0041809883, -0.06223905, -0.06622729) * inp[0][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 2];
    result0 += M4(-0.049985163, -0.122909665, 0.04142761, -0.010262652, -0.18223636, 0.12973028, -0.23638031, 0.16262695, 0.19495916, 0.027448844, 0.09091924, 0.040364075, 0.04247626, -0.056252744, 0.027863419, -0.15797369) * inp[0][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 0];
    result0 += M4(0.30942407, 0.41925368, 0.16791856, -0.027980823, 0.31744808, -0.05634077, 0.3615853, -0.083949864, 0.32732183, 0.7367217, 0.2606434, 0.49153942, 0.31080174, 0.22145016, 0.7197026, 0.54314) * inp[0][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 1];
    result0 += M4(0.26937294, 0.07987981, 0.25932148, 0.28719953, -0.01670328, -0.048156302, -0.00037233921, -0.028196286, 0.06824518, 0.045688417, 0.06269223, 0.0050949603, -0.3499055, 0.0379755, -0.26667926, 0.1736844) * inp[0][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 2];
    result0 += M4(0.08365243, 0.072444946, 0.041085303, -0.018070532, -0.038145024, 0.024842402, -0.12932317, 0.06520675, -0.0034021873, -0.020300819, 0.03254371, -0.026243437, -0.002082571, 0.028131811, -0.046525225, -0.021975977) * inp[0][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 0];
    result0 += M4(0.102870554, 0.15127449, 0.2368979, 0.35342047, -0.008104872, -0.023014313, 0.03998817, -0.2588751, -0.009795631, -0.008219277, 0.05439915, 0.18934968, -0.050225858, -0.07144085, 0.047715146, -0.017436761) * inp[0][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 1];
    result0 += M4(-0.058408424, -0.013253963, 0.09535492, 0.12807135, 0.019304885, 0.02234939, -0.011376044, -0.07876955, -0.01435529, -0.001959387, 0.010830434, 0.012566172, -0.0011140261, -0.019565715, -0.14781435, -0.0814835) * inp[0][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 2];
    result0 += M4(0.23827116, -0.07444494, -0.056120668, -0.11403958, -0.11145756, 0.0354926, 0.031953514, 0.07089723, 0.040990256, -0.030801315, -0.0039284755, -0.013840281, -0.12693256, 0.03910861, 0.009882065, 0.045396894) * inp[1][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 0];
    result0 += M4(-0.16662976, -0.0009981451, -0.027273927, -0.006415341, -0.038825188, 0.0115214605, -0.029611515, -0.023728803, -0.022212502, 0.18990648, 0.017424587, 0.021140222, 0.19755612, 0.030273214, -0.05909403, -0.11589778) * inp[1][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 1];
    result0 += M4(0.046971492, -0.00889951, 0.03009217, 0.022443244, 0.016141972, -0.046439435, 0.018334998, -0.010750277, 0.0313125, -0.03502469, 0.010134982, 0.009650462, -0.10593624, 0.06660167, -0.060663413, -0.034775496) * inp[1][gl_LocalInvocationID.y + 0][gl_LocalInvocationID.x + 2];
    result0 += M4(-0.27343187, -0.094277665, -0.11012829, -0.0644094, 0.01630223, -0.04014814, 0.090134844, 0.008621502, -0.064920835, -0.07300332, -0.0017615482, -0.16189823, 0.0076065487, -0.12689544, 0.24512331, -0.09250737) * inp[1][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 0];
    result0 += M4(0.17298925, 0.21161428, 0.14724535, 0.2563996, -0.3484708, -0.007951597, -0.054490402, 0.25419623, 0.171179, -0.036607668, 0.15381788, 0.49864286, 0.08194198, -0.16498081, -0.04112323, 0.028481148) * inp[1][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 1];
    result0 += M4(0.06949867, -0.012231975, 0.06165235, -0.016433585, 0.06941562, -0.06438412, 0.056349967, -0.07014517, -0.06770029, -0.10512523, 0.0020572797, -0.12602842, -0.047977634, 0.23228407, -0.12833995, 0.17419933) * inp[1][gl_LocalInvocationID.y + 1][gl_LocalInvocationID.x + 2];
    result0 += M4(0.024552269, 0.0842248, -0.1292388, 0.019758238, -0.0042319656, -0.03910047, -0.016965458, -0.038976856, -0.0067129172, -0.0021251566, -0.04699491, -0.020016475, -0.04318419, -0.064459786, 0.020755831, -0.044729967) * inp[1][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 0];
    result0 += M4(0.038375977, 0.053740114, 0.08906565, -0.043900263, 0.0665235, 0.01675899, -0.1386943, -0.12783095, -0.0653006, -0.08398476, 0.09388887, -0.054954745, 0.0011243171, 0.039100405, 0.015001511, 0.16541223) * inp[1][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 1];
    result0 += M4(0.0026355677, 0.032503303, 0.006630821, -0.042076867, 0.030726008, 0.025026001, 0.022335771, -0.06886999, 0.041111212, 0.019885153, -0.033969533, -0.083987586, -0.07467548, -0.07078888, 0.031582344, 0.21860246) * inp[1][gl_LocalInvocationID.y + 2][gl_LocalInvocationID.x + 2];
    ivec2 store_pos0 = ivec2(gl_GlobalInvocationID) * ivec2(1, 1) + ivec2(0, 0);
    imageStore(out_image, store_pos0, result0);
}

//!DESC ArtCNN C4F8 DS (Depth-To-Space)
//!COMPUTE 16 16 16 16
//!HOOK LUMA
//!BIND conv2d_6
//!WIDTH LUMA.w 2.0 *
//!HEIGHT LUMA.h 2.0 *
//!COMPONENTS 4
//!WHEN OUTPUT.w LUMA.w / 1.3 > OUTPUT.h LUMA.h / 1.3 > *
#extension GL_EXT_shader_explicit_arithmetic_types_float16 : enable
#ifdef GL_EXT_shader_explicit_arithmetic_types_float16
#	define V4 f16vec4
#	define M4 f16mat4
#	define F float16_t
#else
#	define V4 vec4
#	define M4 mat4
#	define F float
#endif

void hook() {
    vec4 result = vec4(0.0, 0.0, 0.0, 1.0);
    vec2 f0 = fract(conv2d_6_pos * conv2d_6_size);
    ivec2 i0 = ivec2(f0 * vec2(2.0));
    result.x = conv2d_6_tex((vec2(0.5) - f0) * conv2d_6_pt + conv2d_6_pos)[i0.y * 2 + i0.x];
    imageStore(out_image, ivec2(gl_GlobalInvocationID), clamp(result, 0.0, 1.0));
}
