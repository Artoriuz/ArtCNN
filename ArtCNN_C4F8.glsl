// MIT License

// Copyright (c) 2024 João Chrisóstomo

// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the "Software"), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:

// The above copyright notice and this permission notice shall be included in all
// copies or substantial portions of the Software.

// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
// SOFTWARE.

//!DESC ArtCNN C4F8 (Conv-0)
//!HOOK LUMA
//!BIND LUMA
//!SAVE conv2d_tf
//!WIDTH LUMA.w
//!HEIGHT LUMA.h
//!COMPONENTS 4
//!WHEN OUTPUT.w LUMA.w / 1.3 > OUTPUT.h LUMA.h / 1.3 > *
#define go_0(x_off, y_off) (LUMA_texOff(vec2(x_off, y_off)))
vec4 hook() {
    vec4 result = mat4(0.06730339, -0.15305965, -0.039849196, 0.09532048, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0) * go_0(-1.0, -1.0);
    result += mat4(0.16983572, 0.261722, 0.14268623, -0.2051296, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0) * go_0(-1.0, 0.0);
    result += mat4(0.09305308, 0.034039382, -0.110626884, 0.13130878, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0) * go_0(-1.0, 1.0);
    result += mat4(0.03003517, -0.11979613, 0.2203634, -0.3152267, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0) * go_0(0.0, -1.0);
    result += mat4(0.3785305, 0.0009955164, 0.4000931, 0.7481795, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0) * go_0(0.0, 0.0);
    result += mat4(0.11591693, 0.20451675, -0.2008144, -0.22976781, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0) * go_0(0.0, 1.0);
    result += mat4(0.015360799, -0.17453785, -0.16051231, 0.05444645, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0) * go_0(1.0, -1.0);
    result += mat4(0.037315622, -0.007857703, 0.131971, -0.08001491, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0) * go_0(1.0, 0.0);
    result += mat4(-0.16943115, 0.029359752, 0.13773818, -0.068861365, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0) * go_0(1.0, 1.0);
    result += vec4(-0.024275914, -0.014048585, -0.072772115, -0.01768907);
    return result;
}

//!DESC ArtCNN C4F8 (Conv-0)
//!HOOK LUMA
//!BIND LUMA
//!SAVE conv2d_tf1
//!WIDTH LUMA.w
//!HEIGHT LUMA.h
//!COMPONENTS 4
//!WHEN OUTPUT.w LUMA.w / 1.3 > OUTPUT.h LUMA.h / 1.3 > *
#define go_0(x_off, y_off) (LUMA_texOff(vec2(x_off, y_off)))
vec4 hook() {
    vec4 result = mat4(-0.15424745, 0.17837621, -0.0038784551, -0.18830247, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0) * go_0(-1.0, -1.0);
    result += mat4(-0.081453525, -0.0026652897, 0.29726198, 0.09047971, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0) * go_0(-1.0, 0.0);
    result += mat4(-0.13186975, 0.042620227, -0.008236565, -0.015744863, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0) * go_0(-1.0, 1.0);
    result += mat4(0.26982504, -0.063478984, -0.10001382, 0.12408697, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0) * go_0(0.0, -1.0);
    result += mat4(0.40023014, -0.19839871, 0.17500518, 0.2592499, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0) * go_0(0.0, 0.0);
    result += mat4(-0.013914469, 0.20504282, 0.022447893, 0.13816796, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0) * go_0(0.0, 1.0);
    result += mat4(0.11173454, 0.2050261, -0.15885825, -0.054968458, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0) * go_0(1.0, -1.0);
    result += mat4(-0.3867853, -0.2614924, 0.035769645, -0.08009854, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0) * go_0(1.0, 0.0);
    result += mat4(-0.03169151, -0.036781646, -0.2252921, 0.00018583475, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0) * go_0(1.0, 1.0);
    result += vec4(0.026174279, -0.004037721, -0.042561673, -0.015849926);
    return result;
}

//!DESC ArtCNN C4F8 (Conv-1-ReLU)
//!HOOK LUMA
//!BIND conv2d_tf
//!BIND conv2d_tf1
//!SAVE conv2d_1_tf
//!WIDTH LUMA.w
//!HEIGHT LUMA.h
//!COMPONENTS 4
//!WHEN OUTPUT.w LUMA.w / 1.3 > OUTPUT.h LUMA.h / 1.3 > *
#define go_0(x_off, y_off) (conv2d_tf_texOff(vec2(x_off, y_off)))
#define go_1(x_off, y_off) (conv2d_tf1_texOff(vec2(x_off, y_off)))
vec4 hook() {
    vec4 result = mat4(-0.08750601, 0.07247678, 0.01576306, 0.02600609, -0.10627116, 0.19312245, -0.04636998, 0.012758999, -0.046475068, 0.22099245, -0.18080077, -0.14896251, 0.0007187868, 0.004221765, 0.010726726, -0.026158998) * go_0(-1.0, -1.0);
    result += mat4(-0.058174692, -0.094972976, -0.28090292, 0.16798529, -0.35517365, -0.16006656, 0.01104938, -0.07113618, 0.16691235, 0.04762593, -0.16247152, -0.013907753, -0.1836329, -0.03024904, -0.15873817, 0.21483973) * go_0(-1.0, 0.0);
    result += mat4(0.23786779, 0.11356179, 0.10089635, -0.23943534, -0.088893816, -0.018147867, -0.008669286, 0.13074972, 0.15323463, -0.299731, 0.19733688, 0.05964692, -0.16445069, -0.106459275, 0.00090663444, 0.46077254) * go_0(-1.0, 1.0);
    result += mat4(-0.2072716, 0.08867864, -0.059479754, 0.0903343, 0.064371295, 0.7522326, -0.08748602, 0.22386654, 0.252111, -0.22847375, 0.13602771, 0.013424723, -0.11370182, -0.6821903, 0.038028542, 0.19515009) * go_0(0.0, -1.0);
    result += mat4(0.29721543, 0.034171797, 0.22067319, 0.0031478303, 0.04803429, 0.018997278, 0.5269186, 0.034887414, 0.41681114, 0.19640005, -0.6307405, 0.015320705, 0.7675779, 0.08197431, -1.4317381, -0.48273596) * go_0(0.0, 0.0);
    result += mat4(0.41008374, 0.028917925, 0.34387514, -0.052716177, -0.07493523, -0.6258228, 0.56346923, 0.3099685, 0.04167306, -0.027046388, -0.00210398, -0.44481918, -0.2320784, 0.048875432, 0.85904706, 0.21989098) * go_0(0.0, 1.0);
    result += mat4(-0.027371874, -0.023906086, -0.19357872, -0.10062778, -0.181715, 0.28017208, -0.12541792, -0.05505585, 0.07010255, -0.62594485, -0.037299465, -0.0034907807, 0.07775916, -0.028165761, -0.015081666, -0.03169809) * go_0(1.0, -1.0);
    result += mat4(-0.0037828274, 0.1792428, -0.017395072, -0.06647234, -0.106169775, -0.25741237, 0.21439165, -0.33124688, -0.12881383, -0.13141891, -0.066179655, 0.18332812, 0.44856718, 0.41634905, -0.034340497, 0.31340748) * go_0(1.0, 0.0);
    result += mat4(-0.013690469, -0.20418626, 0.027900346, 0.030988658, 0.048482493, 0.512545, 0.08008625, -0.0034365675, 0.023942774, 0.35712758, 0.16077214, -0.10863805, -0.07381737, 0.6593244, -0.070211366, -0.015613294) * go_0(1.0, 1.0);
    result += mat4(-0.044104777, -0.02174325, -0.033869833, 0.2265918, 0.07733238, 0.023171976, -0.18192042, 0.42966503, -0.04691586, -0.41122395, 0.14199361, 0.20960061, 0.06340994, 0.015754495, -0.021733196, 0.105146326) * go_1(-1.0, -1.0);
    result += mat4(0.39694214, -0.4282699, -0.008620924, 0.5827202, 0.21071973, -0.2974564, 0.122679465, -0.22854948, 0.24088229, -0.48022565, 0.30870855, 0.22681999, -0.1787903, -0.15093128, 0.012366466, -0.044164777) * go_1(-1.0, 0.0);
    result += mat4(-0.12599927, -0.27213895, -0.122338444, -0.14739859, 0.09151094, -0.09135876, -0.2980751, -0.4738377, -0.11210426, -0.074031614, -0.1759333, 0.38427052, 0.021983389, -0.22269535, -0.041294917, -0.062438603) * go_1(-1.0, 1.0);
    result += mat4(-0.22454345, -0.274366, -0.22026195, 0.20107304, -0.27590394, 0.5339848, 0.25499886, -0.078289285, -0.38748115, -0.18696654, -0.17330152, -0.08422109, -0.06945595, 0.06707025, 0.059197433, 0.080505356) * go_1(0.0, -1.0);
    result += mat4(0.5804136, 0.63476586, -0.5865476, 0.023652924, 0.021198394, -0.49145114, 1.0269556, -0.5401721, 0.113263495, -0.04736571, -0.41714698, 0.1597553, 0.029698223, 0.2773253, 0.060902737, 0.045810085) * go_1(0.0, 0.0);
    result += mat4(0.18182926, -0.26049808, 0.6212728, -0.6955684, -0.1595094, 0.19652893, 0.1659222, 0.21207312, -0.07109416, 0.48824322, -0.7149284, 0.14392515, -0.008933444, -0.09074128, 0.44766834, -0.027327318) * go_1(0.0, 1.0);
    result += mat4(0.12013522, -0.17799108, -0.0954851, 0.0704351, -0.2780621, 0.4495582, 0.034765992, -0.061903615, -0.023901261, -0.3637472, 0.14847057, 0.10530055, 0.056793828, 0.2180485, 0.062271982, -0.011123102) * go_1(1.0, -1.0);
    result += mat4(-0.010358194, -0.20254771, -0.30515155, 0.031263206, -0.25621325, 0.10888809, 0.16530521, -0.088129915, -0.04025195, -0.19709921, -0.2006516, -0.3116378, 0.16498269, 0.091893084, -0.0072413725, 0.2519807) * go_1(1.0, 0.0);
    result += mat4(0.1418478, 0.12729336, 0.37657624, 0.15236811, -0.20746392, 0.3854518, -0.20053338, -0.094505064, -0.09352949, -0.15778908, 0.09965314, 0.043697037, 0.1478496, 0.07875816, 0.018886836, 0.29867798) * go_1(1.0, 1.0);
    result += vec4(0.059063073, -0.0677201, -0.05995477, 0.12993975);
    return max(result, vec4(0.0));
}

//!DESC ArtCNN C4F8 (Conv-1-ReLU)
//!HOOK LUMA
//!BIND conv2d_tf
//!BIND conv2d_tf1
//!SAVE conv2d_1_tf1
//!WIDTH LUMA.w
//!HEIGHT LUMA.h
//!COMPONENTS 4
//!WHEN OUTPUT.w LUMA.w / 1.3 > OUTPUT.h LUMA.h / 1.3 > *
#define go_0(x_off, y_off) (conv2d_tf_texOff(vec2(x_off, y_off)))
#define go_1(x_off, y_off) (conv2d_tf1_texOff(vec2(x_off, y_off)))
vec4 hook() {
    vec4 result = mat4(-0.0024904688, -0.13925883, -0.002592399, -0.12776932, -0.04417448, 0.02770655, 0.015928688, 0.055805556, -0.0053895577, 0.19264115, 0.07220298, 0.30974802, -0.026753753, -0.46481863, -0.18614236, 0.10880831) * go_0(-1.0, -1.0);
    result += mat4(0.12712899, -0.049153063, -0.047263138, -0.033672605, -0.2073825, -0.09308307, -0.20723698, -0.13446234, -0.14243983, 0.16585328, -0.049591057, -0.29344812, 0.017309193, -0.23117657, -0.17010789, -0.034885872) * go_0(-1.0, 0.0);
    result += mat4(0.07936455, -0.30522582, 0.026452318, 0.11491491, -0.056242913, 0.21273687, 0.13830347, -0.038491726, 0.10706579, 0.10249763, 0.09138771, 0.06341064, 0.10860856, 0.0060283267, 0.06008898, 0.27204624) * go_0(-1.0, 1.0);
    result += mat4(0.0918748, 0.18592647, -0.059786208, 0.23648262, 0.18814296, 0.64173174, -0.16807033, 0.55702865, -0.045019146, -0.14357649, 0.013726697, -0.6519731, -0.067290895, -0.53561056, -0.08744196, -0.8759789) * go_0(0.0, -1.0);
    result += mat4(0.19103907, -0.031773496, -0.21706583, 0.16207705, -0.15471622, -0.40113166, -0.16540731, -0.40857464, 0.5418828, 0.08894141, -0.22256641, 0.18637198, 0.76690847, 0.363893, -0.86939883, 0.6668028) * go_0(0.0, 0.0);
    result += mat4(0.28158632, 0.09051271, -0.16572927, 0.10134124, 0.19433215, 0.32416362, 0.0050788186, -0.29478544, -0.13274074, -0.11034393, -0.09059508, -0.08647991, 0.1945153, 0.92370474, -0.048591625, -0.23229894) * go_0(0.0, 1.0);
    result += mat4(-0.07049129, -0.036468927, -0.0762764, 0.2499414, -0.12344416, 0.28666186, 0.09417283, 0.22791032, -0.0050811404, 0.015591889, 0.14077902, -0.07077267, -0.17887096, -0.11228717, 0.02470604, -0.091030784) * go_0(1.0, -1.0);
    result += mat4(0.11044148, -0.03437558, 0.116497576, -0.010391216, 0.012097716, -0.088754475, -0.23401691, 0.2280582, -0.010310452, -0.08439878, 0.41166785, -0.14367676, -0.3400011, 0.49367806, 1.5043246, -0.5637602) * go_0(1.0, 0.0);
    result += mat4(0.1962977, -0.23269726, 0.0685308, 0.14300045, -0.19258893, 0.3489621, 0.019936347, 0.099008925, -0.12158202, 0.27888998, 0.12201385, -0.27297345, -0.11404795, 0.09620707, 0.2484824, -0.12973922) * go_0(1.0, 1.0);
    result += mat4(0.013807097, -0.7585026, -0.037511334, -0.21564579, 0.100158244, 0.04492036, 0.13268442, -0.096237145, -0.15051249, -0.34982812, -0.08511756, -0.62164354, 0.12314405, 0.018982662, 0.0060226517, -0.01610944) * go_1(-1.0, -1.0);
    result += mat4(-0.0015057559, -1.1186057, 0.17945287, -1.1083004, 0.049322337, -0.5790481, -0.097907454, -0.6778431, 0.14364141, -0.4296162, 0.17091608, -0.09151339, 0.011659404, -0.15940501, -0.077995956, -0.37144655) * go_1(-1.0, 0.0);
    result += mat4(0.123677775, 0.3523798, -0.003482732, 0.2979926, 0.0024865076, 0.008915127, -0.064864, 0.2570937, -0.10486225, -0.2809102, 0.08017544, -0.27596855, -0.13217925, 0.10482053, -0.11319964, -0.06071876) * go_1(-1.0, 1.0);
    result += mat4(-0.2047418, -0.61450976, -0.108968385, -0.0904644, -0.1776746, 0.34416732, -0.58399045, 0.7284961, -0.035133023, -0.49556133, -0.07750171, 0.0015754709, 0.15915519, 0.100247994, -0.022449968, 0.28844255) * go_1(0.0, -1.0);
    result += mat4(0.5493471, 0.15288171, -1.2260801, 0.51704365, -0.33180064, 0.08226694, -0.14996977, -0.074165985, -0.07821733, -0.3860274, -0.36924213, -0.030296339, 0.11469982, 0.04795784, -0.06738173, 0.08011763) * go_1(0.0, 0.0);
    result += mat4(0.09487911, 0.1699488, -0.09385753, 0.16986366, -0.23471323, -0.024161728, 0.3770624, 0.31144544, -0.08097692, 0.62239224, -0.22205529, 0.08956555, 0.10189018, -0.12481914, -0.0392842, -0.355024) * go_1(0.0, 1.0);
    result += mat4(-0.029274, -0.136078, 0.1230305, -0.30410945, 0.025902359, 0.5132347, 0.20566742, 0.08417628, -0.04278731, -0.2468328, -0.037964255, -0.11124675, -0.10283363, 0.1732015, 0.24021214, 0.20245434) * go_1(1.0, -1.0);
    result += mat4(-0.015692063, 0.30536684, 0.06176736, -0.19627382, 0.2359533, -0.09111927, -0.35715264, 0.18801394, 0.4043652, 0.257155, -0.6670657, 0.10478363, 0.14965507, -0.066464156, 0.1881655, 0.108974665) * go_1(1.0, 0.0);
    result += mat4(-0.22763611, 0.11612158, 0.3334084, -0.012541769, -0.013894407, 0.031131277, -0.20858179, -0.17334576, -0.09613397, -0.53538424, -0.079482116, -0.06891024, 0.056865823, 0.08438959, 0.14259511, 0.11640726) * go_1(1.0, 1.0);
    result += vec4(0.07702614, -0.002792035, -0.012755637, -0.08464401);
    return max(result, vec4(0.0));
}

//!DESC ArtCNN C4F8 (Conv-2-ReLU)
//!HOOK LUMA
//!BIND conv2d_1_tf
//!BIND conv2d_1_tf1
//!SAVE conv2d_2_tf
//!WIDTH LUMA.w
//!HEIGHT LUMA.h
//!COMPONENTS 4
//!WHEN OUTPUT.w LUMA.w / 1.3 > OUTPUT.h LUMA.h / 1.3 > *
#define go_0(x_off, y_off) (conv2d_1_tf_texOff(vec2(x_off, y_off)))
#define go_1(x_off, y_off) (conv2d_1_tf1_texOff(vec2(x_off, y_off)))
vec4 hook() {
    vec4 result = mat4(-0.5745531, 0.119945474, -0.059627414, -0.068164736, -1.5492876, -0.016502816, 0.013427528, -0.15914361, -1.8431215, -0.06977165, 0.06941707, 0.016004423, -0.4553471, 0.03598128, 0.06385088, 0.060906816) * go_0(-1.0, -1.0);
    result += mat4(0.49701172, 0.117990814, -0.07364394, 0.033112407, -0.11039308, 0.09103268, -0.050531, 0.13569348, -0.10595334, 0.11761964, 0.042128228, 0.035313357, -0.06767127, 0.01599875, 0.113956094, 0.03464704) * go_0(-1.0, 0.0);
    result += mat4(-0.26767665, 0.45121464, 0.058475465, -0.06980737, -0.07059141, 0.038287006, -0.045197293, 0.036510833, 0.055562764, 0.048424803, -0.016107358, 0.033960864, 0.05532211, 0.12112425, 0.01479239, 0.01114567) * go_0(-1.0, 1.0);
    result += mat4(0.17133778, 0.057453442, 0.10178326, 0.2376578, 0.081724405, 0.015351832, 0.013156078, 0.36141545, 0.02792943, -0.9667003, 0.016807968, -0.72087103, -0.077963986, -0.05086519, -0.12298669, 0.29168907) * go_0(0.0, -1.0);
    result += mat4(0.14476438, -0.2994894, 0.8520981, 0.4155944, -0.0034270426, 0.14818123, 0.07145656, -0.0819466, -0.06251572, -0.9773964, 0.036309943, -0.17671666, 0.37209976, 0.60907626, -0.08628384, 0.17694381) * go_0(0.0, 0.0);
    result += mat4(0.16171776, 0.36247674, -0.020654082, 0.112344466, -0.05039997, 0.025341073, 0.0725667, 0.076995835, -0.009915602, 0.0005900619, -0.008675544, 0.00443501, 0.0043238434, -0.10449096, 0.0038029156, -0.038313206) * go_0(0.0, 1.0);
    result += mat4(-0.012092921, 0.10929566, -0.04616248, -0.26747373, 0.099882305, 0.006227441, -0.005237386, -0.16448283, -0.09303977, -0.09754314, -0.08601489, -0.3259235, -0.1624388, -0.12905252, -0.025233284, -0.18914263) * go_0(1.0, -1.0);
    result += mat4(0.1521384, 0.16116156, -0.21666646, 0.3096841, 0.00045667405, -0.008331779, -0.0113988705, 0.091187574, 0.037463885, 0.041985974, -0.019680846, 0.021455258, 0.012412481, -0.12004656, -0.049538203, -0.037712287) * go_0(1.0, 0.0);
    result += mat4(-0.037885655, 0.087415986, 0.17093278, -0.003100665, -0.013411736, 0.054429747, 0.0028760855, 0.032908663, 0.01713049, 0.01812438, 0.0014510568, 0.054598738, -0.052042324, -0.0843324, 0.0026411216, -0.014518862) * go_0(1.0, 1.0);
    result += mat4(-1.1683022, 0.04064145, 0.10110979, -0.028832516, -2.2305992, 0.017967451, 0.027950233, 0.030087763, -2.4732587, 0.024626471, -0.00039041936, -0.19595717, 0.027211456, 0.042060036, -0.06536365, 0.077858634) * go_1(-1.0, -1.0);
    result += mat4(-0.51581717, -0.4727973, 0.003216674, 0.012537311, -0.030525507, 0.03996983, 0.0466135, 0.035387594, -0.35096487, -1.1283767, -0.00912009, -0.035061385, 0.18050249, -0.0037086483, -0.14317593, -0.08456591) * go_1(-1.0, 0.0);
    result += mat4(-0.03746828, -0.35855106, -0.014449133, 0.017865721, 0.067984335, 0.0011243664, 0.049337927, -0.0076459837, -0.040709678, -0.1657344, 0.056530982, -0.06544176, -0.026209272, -0.12501805, -0.084618986, -0.022426695) * go_1(-1.0, 1.0);
    result += mat4(0.1506528, -0.29267594, 0.09780354, -0.568652, 0.014510912, -0.100951925, -0.008172534, 0.14923328, 0.127303, -0.032517627, 0.007450805, -0.13305135, -0.1312053, 0.11536091, -0.043919206, -0.033655822) * go_1(0.0, -1.0);
    result += mat4(0.40419793, -0.19129638, 0.44333076, -0.043067954, 0.12538545, 0.4375475, -0.01929701, 0.18151735, -0.13308495, -0.9805852, -0.06521477, -0.3510376, 0.17725794, 1.5655688, 0.04317409, 0.2816286) * go_1(0.0, 0.0);
    result += mat4(0.12261832, 0.14938961, -0.15347843, 0.0002116355, 0.050282523, 0.15153413, -0.04428463, -0.05023691, 0.028590526, 0.010587504, 0.052839316, -0.038799956, -0.017166134, 0.13830432, -0.11950497, 0.156839) * go_1(0.0, 1.0);
    result += mat4(-0.4552377, -0.03911597, -0.14563501, -0.33799106, -0.12823287, 0.047759093, -0.0019621302, -0.056770377, 0.0028303922, -0.02304146, -0.013877847, 0.07820513, 0.06264154, 0.039038233, -0.027125016, 0.043732684) * go_1(1.0, -1.0);
    result += mat4(-0.048285056, 0.31228065, 0.10575268, 0.05731876, -0.07700451, 0.009545957, 0.075395234, 0.17771305, 0.00840218, 0.05169605, -0.032462053, -0.07147521, -0.040296506, -0.006582864, 0.09080775, -0.14270702) * go_1(1.0, 0.0);
    result += mat4(-0.0029598896, -0.19941983, -0.001153342, 0.19933751, -0.0031337198, -0.08930083, 0.004317141, 0.039524518, 0.03211662, 0.026502864, -0.035775106, 0.06337478, -0.022623625, -0.028550694, 0.016550252, -0.041747138) * go_1(1.0, 1.0);
    result += vec4(-0.016155597, 0.013953095, 0.041091334, 0.03313602);
    return max(result, vec4(0.0));
}

//!DESC ArtCNN C4F8 (Conv-2-ReLU)
//!HOOK LUMA
//!BIND conv2d_1_tf
//!BIND conv2d_1_tf1
//!SAVE conv2d_2_tf1
//!WIDTH LUMA.w
//!HEIGHT LUMA.h
//!COMPONENTS 4
//!WHEN OUTPUT.w LUMA.w / 1.3 > OUTPUT.h LUMA.h / 1.3 > *
#define go_0(x_off, y_off) (conv2d_1_tf_texOff(vec2(x_off, y_off)))
#define go_1(x_off, y_off) (conv2d_1_tf1_texOff(vec2(x_off, y_off)))
vec4 hook() {
    vec4 result = mat4(-0.3221781, -0.23702696, -0.17156923, 0.008079199, -0.34077182, -0.21247248, -0.076060794, 0.08078092, -0.120460086, 0.058997933, -0.04737799, -0.19481592, -0.020954072, 0.07593867, 0.01803448, 0.13400514) * go_0(-1.0, -1.0);
    result += mat4(0.47862083, 0.0854998, -0.29602847, 0.14267613, -0.48760042, -0.114296556, -0.36745247, 0.33154672, -0.115704045, -0.08096371, -0.12698115, -0.05595537, -0.08273128, 0.03838935, 0.08191577, 0.013435371) * go_0(-1.0, 0.0);
    result += mat4(-0.042793073, -0.09296201, -0.24868077, 0.051573623, -0.29778147, 0.038678553, -0.028985636, -0.04152025, -0.04340073, -0.0115923835, -0.022751892, 0.034330294, 0.042999685, 0.09313023, -0.09456074, 0.03162233) * go_0(-1.0, 1.0);
    result += mat4(-0.2208378, 0.071009144, 0.07446633, 0.017034512, -0.42083114, -0.139994, -0.04131765, 0.10683514, 0.20923117, -0.10341681, 0.18634255, -0.8673561, 0.133067, -0.02949847, 0.18915604, 0.079917185) * go_0(0.0, -1.0);
    result += mat4(0.22447677, 0.13343875, 0.14559114, -0.53132993, -0.69945496, 0.38620982, -0.22403364, 0.043880455, 0.24440409, -0.48851806, 0.44742015, -0.25603268, -0.3305667, 0.2490441, -0.089863285, 0.6574915) * go_0(0.0, 0.0);
    result += mat4(-0.46032482, 0.33215398, 0.43584993, 0.5883645, -0.38380554, 0.0047152853, -0.0005574783, -0.025259014, -0.027683793, 0.017979192, 0.043554097, 0.001114443, -0.04199376, -0.2037899, 0.0020495192, -0.14596438) * go_0(0.0, 1.0);
    result += mat4(0.043929875, 0.1006741, 0.026791036, -0.040687658, -0.18433313, 0.1641979, 0.09725436, 0.046085976, 0.13077645, -0.7610564, -0.15177248, -0.043841783, 0.12970509, 0.22552685, 0.06462912, -0.0027253532) * go_0(1.0, -1.0);
    result += mat4(-0.12877151, 0.019122923, 0.115417585, -0.06330736, -0.27793002, 0.084760316, -0.05570854, -0.08089466, -0.06306681, -0.18295921, -0.076497026, -0.012939021, 0.10196067, 0.7693859, 0.15751705, 0.29464102) * go_0(1.0, 0.0);
    result += mat4(0.17209123, 0.21843483, -0.11512375, -0.18392524, -0.12370118, 0.02125789, -0.049753614, 0.006325525, -0.040970426, 0.03237368, 0.04823027, 0.013426453, 0.017768564, 0.123826474, 0.22311501, 0.02321066) * go_0(1.0, 1.0);
    result += mat4(0.0072075566, 0.30313838, 0.021811206, 0.10102905, 0.05278039, -0.01280076, -0.024249263, 0.10590169, -0.29065388, 0.13682328, -0.0098859565, 0.022095557, 0.07769069, 0.13034038, 0.086236686, -0.13014117) * go_1(-1.0, -1.0);
    result += mat4(-0.02515677, -0.17475842, 0.4486218, -0.5482449, 0.17629142, 0.028000407, -0.039125435, 0.15056655, 0.05142132, 0.16023949, 0.22631487, -0.6562468, 0.32846522, -0.021142108, 0.28038034, -0.36799696) * go_1(-1.0, 0.0);
    result += mat4(0.03237515, 0.05634397, 0.258572, 0.19852056, 0.22515959, -0.019818397, 0.036293097, 0.019055907, 0.11122676, -0.02626372, 0.2635886, 0.17340967, 0.11115118, 0.003625129, 0.23812191, -0.13889422) * go_1(-1.0, 1.0);
    result += mat4(0.6498203, -0.16620243, 0.34974512, -0.03353135, 0.2936547, 0.16863815, 0.033529654, -0.02956971, -0.16131492, 0.11779084, 0.066304885, 0.13911447, 0.2379897, -0.07951075, 0.05794587, -0.116905704) * go_1(0.0, -1.0);
    result += mat4(-0.017459456, -0.09102186, -0.50403893, -0.15274027, 0.29981616, 0.11841421, 0.0127924625, 0.29455334, 0.23022851, -1.4213693, -0.08943855, -0.17231639, -0.08549939, -0.05362415, -0.025126997, 0.18507217) * go_1(0.0, 0.0);
    result += mat4(-0.25756955, 0.11709794, -0.28717822, 0.3228277, 0.27407122, 0.005923371, -0.16231585, -0.07750772, -0.20660965, 0.21617417, 0.27063453, 0.09420316, 0.094697066, -0.06379387, -0.3523198, -0.2622607) * go_1(0.0, 1.0);
    result += mat4(-0.13452044, -0.32412004, -0.3145623, 0.02620932, 0.23208866, -0.007864283, -0.096234, -0.014971055, -0.059125282, -0.10661648, -0.019506779, 0.012745261, 0.17282802, -0.016067898, -0.011330436, -0.04781915) * go_1(1.0, -1.0);
    result += mat4(-0.26366326, -0.45098376, 0.026049796, 0.16215031, 0.29701596, 0.32368726, 0.06603839, 0.10393948, 0.0016359335, -0.24952753, -0.06729659, -0.03322767, -0.018712597, 0.9307958, 0.3259994, 0.0061754677) * go_1(1.0, 0.0);
    result += mat4(0.27366075, 0.28681654, -0.14283702, -0.093024775, 0.34261924, -0.2284233, 0.0010320116, 0.075782254, 0.00047772078, 0.047637045, -0.0030216158, 0.022599278, 0.1135146, -0.40550715, 0.1382705, 0.02863522) * go_1(1.0, 1.0);
    result += vec4(0.008220726, -0.12355524, 0.037126344, -0.010012951);
    return max(result, vec4(0.0));
}

//!DESC ArtCNN C4F8 (Conv-3-ReLU)
//!HOOK LUMA
//!BIND conv2d_2_tf
//!BIND conv2d_2_tf1
//!SAVE conv2d_3_tf
//!WIDTH LUMA.w
//!HEIGHT LUMA.h
//!COMPONENTS 4
//!WHEN OUTPUT.w LUMA.w / 1.3 > OUTPUT.h LUMA.h / 1.3 > *
#define go_0(x_off, y_off) (conv2d_2_tf_texOff(vec2(x_off, y_off)))
#define go_1(x_off, y_off) (conv2d_2_tf1_texOff(vec2(x_off, y_off)))
vec4 hook() {
    vec4 result = mat4(-0.02379631, 0.003396483, 0.069968626, 0.04909405, 0.33138186, -0.1639248, 0.2120043, -0.15010448, 0.08057795, 0.04778558, 0.043554425, -0.04604987, 0.022587247, -0.037475113, -0.009104147, 0.008813256) * go_0(-1.0, -1.0);
    result += mat4(-0.013688655, -0.03511635, -0.10713526, -0.0013883976, -0.10739238, 0.048308298, 0.123557076, -0.08543474, -0.22476874, 0.065615505, -0.06809358, 0.036458936, 0.1307801, -0.00033688822, 0.08500888, -0.05519137) * go_0(-1.0, 0.0);
    result += mat4(0.024734031, 0.006841316, -0.03126602, -0.010140385, -0.03618487, 0.13171284, 0.05948278, -0.014440747, -0.0345745, -0.33314395, -0.13724428, 0.094643705, 0.07459886, -0.16566819, -0.091165386, 0.048015665) * go_0(-1.0, 1.0);
    result += mat4(-0.027905332, 0.12219065, 0.04152564, 0.02550497, 0.044628758, -0.11035069, -0.16108783, -0.24986447, -0.36939234, -0.042882163, -0.09083566, -0.060554676, -0.0018511192, 0.051224142, -0.11359806, 0.0006360878) * go_0(0.0, -1.0);
    result += mat4(-0.292203, -0.17214791, 0.27362448, -0.06655186, 0.10950506, 0.34773752, -0.63691235, 0.35530213, 0.44679955, 0.5532755, 0.27439228, 0.5631911, 0.13761981, 0.12645295, -0.013172319, 0.009119418) * go_0(0.0, 0.0);
    result += mat4(0.0027902052, -0.36182824, -0.088446766, 0.008443015, 0.22780369, 0.31836435, 0.14436641, 0.025203152, 0.08929444, -0.41058818, 0.1283274, 0.018100552, -0.090365425, 0.37016052, -0.2600438, 0.1554887) * go_0(0.0, 1.0);
    result += mat4(-0.014259343, -0.083761685, 0.22746873, 0.0054671504, 0.003963479, -0.15895398, -0.021148477, -0.1379239, 0.051054634, 0.004564012, 0.025924155, 0.02358059, -0.030298464, -0.02750003, -0.10375046, 0.0037298633) * go_0(1.0, -1.0);
    result += mat4(-0.14812839, 0.12913726, -1.0382658, -0.5557737, -0.025567306, -0.105034105, -0.36646762, 0.07294446, 0.0042966297, -0.16833474, -0.039817557, 0.010151665, -0.004731713, -0.070953354, 0.1526666, -0.023526493) * go_0(1.0, 0.0);
    result += mat4(-0.31663543, -2.215766, 0.33936885, -0.86050165, -0.08375306, 0.2994558, 0.077371776, 0.027839134, -0.04383582, 0.21430062, 0.029854298, -0.028216027, -0.10888459, -0.17400396, 0.12427543, -0.026585042) * go_0(1.0, 1.0);
    result += mat4(-0.0060235853, -0.016860904, 0.014458238, -0.0019412916, -0.11387361, 0.00911866, 0.07336756, 0.021824956, 0.061340924, 0.0049871933, 0.044973765, -0.015006507, 0.03535332, 0.047963906, 0.13975674, 0.024767645) * go_1(-1.0, -1.0);
    result += mat4(0.14948437, 0.21227542, 0.1101237, 0.136417, -0.016427664, 0.008793933, 0.021578409, 0.0059867343, -0.18875962, -0.09421348, -0.0505897, -0.04773824, 0.018100662, 0.10615842, 0.1262558, 0.04855962) * go_1(-1.0, 0.0);
    result += mat4(0.23018503, 0.25478515, 0.13507383, 0.17821175, 0.057443906, 0.05901247, 0.14836438, -0.002172958, -0.002846358, -0.036898218, -0.006051023, 0.04228707, 0.034943353, 0.068884246, 0.08565298, -0.019414864) * go_1(-1.0, 1.0);
    result += mat4(0.4240036, 0.24669473, 0.10598213, 0.057750687, 0.09506173, 0.13934569, 0.108227, 0.052099872, -0.036418054, 0.055574603, 0.11369412, 0.025969379, 0.3578941, 0.096132785, 0.076785795, 0.0056130784) * go_1(0.0, -1.0);
    result += mat4(0.21876614, 0.06320664, 0.5792184, 0.012390184, 0.06836398, 0.24727829, 0.17672794, -0.031122563, -0.111863054, -0.5348994, 0.059465975, -0.020136463, -0.1122816, 0.09779749, 0.045710754, 0.068553716) * go_1(0.0, 0.0);
    result += mat4(0.29275897, 0.03574496, 0.3001012, 0.08347198, 0.087591074, 0.046580683, 0.09575166, -0.03805781, -0.035273787, 0.1988822, 0.089918494, 0.013460491, -0.11898174, -0.25639734, -0.1894625, 0.104239464) * go_1(0.0, 1.0);
    result += mat4(0.24099737, 0.095338, 0.12020076, 0.015453318, 0.017254967, -0.0223714, 0.010842661, 0.0023763708, -0.1158191, 0.0032302076, -0.1038406, 0.020442795, 0.062358133, 0.13183258, 0.026371233, 0.09392316) * go_1(1.0, -1.0);
    result += mat4(0.1338356, -0.044144128, -0.056880247, -0.054633398, -0.065662205, 0.1237799, -0.0012928788, -0.069028735, -0.097046465, -0.1386089, -0.031792212, 0.013106551, -0.0021159525, -0.1880824, -0.048821446, -0.030264083) * go_1(1.0, 0.0);
    result += mat4(0.037963625, 0.35730794, 0.11948104, 0.039556354, -0.013493682, 0.2618276, 0.07448279, -0.0050822073, -0.0006095046, -0.19181503, 0.02759216, 0.039159667, 0.06692518, 0.058657944, -0.017001124, 0.030140605) * go_1(1.0, 1.0);
    result += vec4(-0.016561652, 0.015606536, 0.014397038, -0.03980119);
    return max(result, vec4(0.0));
}

//!DESC ArtCNN C4F8 (Conv-3-ReLU)
//!HOOK LUMA
//!BIND conv2d_2_tf
//!BIND conv2d_2_tf1
//!SAVE conv2d_3_tf1
//!WIDTH LUMA.w
//!HEIGHT LUMA.h
//!COMPONENTS 4
//!WHEN OUTPUT.w LUMA.w / 1.3 > OUTPUT.h LUMA.h / 1.3 > *
#define go_0(x_off, y_off) (conv2d_2_tf_texOff(vec2(x_off, y_off)))
#define go_1(x_off, y_off) (conv2d_2_tf1_texOff(vec2(x_off, y_off)))
vec4 hook() {
    vec4 result = mat4(-0.0032309757, 0.030774254, 0.0756815, 0.053811014, -0.16601792, -0.032895707, -0.13217188, -0.008315679, 0.08715086, 0.031956915, -0.059740525, -0.09249202, 0.0071609914, -0.013795488, -0.028023347, 0.06835341) * go_0(-1.0, -1.0);
    result += mat4(-0.14837356, -0.08918638, -0.12037038, -0.015594789, 0.24099715, 0.074546166, 0.08452835, -0.08999942, -0.008631741, -0.09731379, 0.04843086, -0.12343733, 0.2057614, -0.021975713, 0.07154351, 0.02827745) * go_0(-1.0, 0.0);
    result += mat4(0.17677857, 0.005989711, 0.041371718, -0.06459995, -0.11078861, 0.015568533, -0.15723686, -0.026688697, -0.5034828, 0.119568504, 0.05225702, -0.007961539, -0.051441535, 0.19701697, -0.052446317, -0.2224807) * go_0(-1.0, 1.0);
    result += mat4(0.029060362, 0.07803392, 0.06507041, -0.043916784, 0.061528053, 0.18535852, -0.054206546, 0.15528, -0.082988046, 0.008499905, -0.07318543, -0.034757216, 0.030820863, 0.0929649, 0.08042837, 0.02486203) * go_0(0.0, -1.0);
    result += mat4(-0.07452154, -0.09097153, -0.16926621, -0.22244245, -0.009464285, 0.57967496, 0.33009836, 0.040717855, 0.74235564, 0.02811766, 0.6999145, 0.5687479, 0.025416506, 0.35986325, -0.00923928, 0.35554016) * go_0(0.0, 0.0);
    result += mat4(-0.70602167, 0.07731495, 0.22057094, 0.15354045, -1.2450694, -0.15843518, -0.2092194, -0.15899797, -0.16860701, -0.22195557, -0.6082877, 0.020204956, -0.74336135, 0.51716095, -0.30140945, 0.100889735) * go_0(0.0, 1.0);
    result += mat4(-0.008112353, -0.17713912, -0.29337227, -0.10087146, -0.112802245, -0.059108872, -0.06342483, 0.036715887, 0.012699229, 0.03434567, 0.0808009, 0.035858784, -0.03497419, -0.055326514, 0.04891614, -0.031142272) * go_0(1.0, -1.0);
    result += mat4(-0.012591044, 0.75775224, -0.043292698, 0.77301514, -0.15273534, 0.3088362, 0.40724257, 0.12493375, -0.2771009, 0.035619203, -0.033123232, 0.0062748212, -0.033449225, -0.10254448, 0.1762895, 0.009318088) * go_0(1.0, 0.0);
    result += mat4(-1.3115356, -0.2257336, -1.0013744, 0.4128614, -0.04825453, 0.14418414, 0.08017245, 0.06473075, 0.1873619, -0.007825841, -0.08293769, -0.07304245, 0.16584201, 0.05445422, -0.064627275, 0.027818281) * go_0(1.0, 1.0);
    result += mat4(-0.20805307, 0.006366997, -0.010893085, 0.07735478, -0.055176444, 0.060754407, 0.028273508, 0.091075175, 0.10520281, -0.012745846, -0.03426781, -0.0690148, 0.106825806, 0.024262048, 0.111109965, 0.020225236) * go_1(-1.0, -1.0);
    result += mat4(-0.04729478, 0.16042419, 0.16959044, 0.19092081, 0.069981605, 0.12535103, 0.06343436, 0.18548462, -0.124700524, -0.007751335, -0.04779341, -0.16358066, 0.21706831, 0.15560429, 0.12806362, 0.15312482) * go_1(-1.0, 0.0);
    result += mat4(-0.13556312, 0.34063926, 0.16991112, 0.23481153, 0.121013716, 0.032962084, -0.19252507, 0.03647014, 0.02483863, 0.069886945, 0.0559444, 0.054557204, 0.0050335047, -0.10352043, -0.1167763, -0.03508078) * go_1(-1.0, 1.0);
    result += mat4(0.21052724, 0.09349422, 0.09747525, -0.0019507012, 0.12762658, 0.027189506, 0.07586267, 0.055038713, 0.15700684, -0.093317546, 0.10520098, -0.024408728, 0.27154925, 0.038882952, 0.33440742, -0.25774235) * go_1(0.0, -1.0);
    result += mat4(-0.6276688, 0.2237191, -0.31126225, 0.19376808, 0.055129852, 0.3226711, -0.19819227, 0.09284177, -0.3054104, -0.21257757, 0.03803959, 0.26410228, -0.47778353, 0.5427019, -0.28212282, -0.11860129) * go_1(0.0, 0.0);
    result += mat4(-0.38253158, 0.3858571, 0.18206275, 0.07203227, -0.0038342173, -0.20002283, -0.11121774, -0.19999322, 0.34106866, -0.011111456, -0.1594404, 0.031093502, -1.0056385, 0.18933022, -0.29858872, 0.0399493) * go_1(0.0, 1.0);
    result += mat4(0.08791181, 0.036628403, 0.07476175, 0.05698733, 0.03479624, 0.055496197, -0.057756387, 0.09908351, -0.06741465, 0.07418421, 0.05193455, 0.09812642, 0.2433782, -0.02881082, 0.13707457, -0.07244076) * go_1(1.0, -1.0);
    result += mat4(-0.3097017, 0.13230927, -0.0039723497, 0.0899173, 0.051163632, 0.07896142, -0.118581556, 0.11665184, -0.107369766, -0.22722647, -0.07434331, 0.025880748, -0.31628242, -0.20917377, -0.026084734, -0.11276884) * go_1(1.0, 0.0);
    result += mat4(0.26714116, 0.29012647, -0.08802679, 0.107970044, 0.24193321, 0.06955337, -0.23819686, 0.043041624, 0.045332145, -0.08481961, 0.099704295, 0.008506004, -0.0874334, 0.11001678, 0.066114664, 0.04946488) * go_1(1.0, 1.0);
    result += vec4(-0.00439858, -0.025119923, -0.038749784, -0.04069672);
    return max(result, vec4(0.0));
}

//!DESC ArtCNN C4F8 (Conv-4-ReLU)
//!HOOK LUMA
//!BIND conv2d_3_tf
//!BIND conv2d_3_tf1
//!SAVE conv2d_4_tf
//!WIDTH LUMA.w
//!HEIGHT LUMA.h
//!COMPONENTS 4
//!WHEN OUTPUT.w LUMA.w / 1.3 > OUTPUT.h LUMA.h / 1.3 > *
#define go_0(x_off, y_off) (conv2d_3_tf_texOff(vec2(x_off, y_off)))
#define go_1(x_off, y_off) (conv2d_3_tf1_texOff(vec2(x_off, y_off)))
vec4 hook() {
    vec4 result = mat4(-0.040001303, 0.00431028, -0.006234154, 0.023610331, 0.17101099, 0.0020922772, 0.54146385, -0.060072646, 0.034865025, -0.00511572, -0.24913135, -0.0376679, -0.12084321, 0.016981706, -0.37615502, 0.094572894) * go_0(-1.0, -1.0);
    result += mat4(0.07853933, -0.023155672, 0.18881135, 0.084351264, 0.17011955, 0.102284245, 0.3835543, 0.22778277, -0.011516917, 0.021449784, 0.13790174, -0.048612937, 0.28933552, -0.072354585, 0.4023254, -0.41016373) * go_0(-1.0, 0.0);
    result += mat4(-0.035514217, -0.1333753, -1.8425349, 0.036267836, -0.26135373, 0.0820906, -2.0270786, -0.13242929, 0.1888692, 0.010756914, -1.2001592, 0.13859989, -0.1078616, 0.030565005, -5.5768747, 0.39003375) * go_0(-1.0, 1.0);
    result += mat4(-0.18852977, -0.0058706016, -0.02124688, 0.08062986, 0.42856458, 0.023222487, 0.027597755, 0.02072013, 0.015414762, -0.03283929, -0.091989696, -0.039225608, -0.587717, 0.0054455176, 0.0040138494, -0.07191852) * go_0(0.0, -1.0);
    result += mat4(0.11894428, 0.04931911, 0.08318841, -0.38304627, 0.11172859, -0.08951478, 0.019890424, 0.27715266, 0.1338823, -0.07845257, 0.08414783, -0.063246444, 0.93413806, 0.21444179, 0.31876686, -0.11178998) * go_0(0.0, 0.0);
    result += mat4(0.14759515, 0.15811633, -0.18796204, 0.28888226, -0.20796351, 0.004945369, 0.014162953, -0.05875847, 0.011654254, 0.033801816, 0.08881819, 0.2776834, -0.46819305, 0.23319103, 0.25949115, 0.11196215) * go_0(0.0, 1.0);
    result += mat4(0.059691075, 0.011324295, -0.0042084916, 0.03109053, 0.19862764, 0.004161257, -0.041076813, 0.08027871, -0.051294517, -0.028290134, 0.01897423, -0.028878348, -0.18884774, 0.005173095, 0.045743074, 0.00010082616) * go_0(1.0, -1.0);
    result += mat4(-0.27572313, 0.023312226, 0.052640367, 0.047772154, 0.08093803, 0.06805298, -0.075730786, 0.08768005, 0.03275935, 0.053870816, -0.02555165, 0.017802184, 0.18479201, -0.19510096, -0.13012433, -0.05436239) * go_0(1.0, 0.0);
    result += mat4(0.14728937, -0.01634834, 0.012757773, 0.045254562, -0.038337767, -0.06368661, 0.010503035, 0.017040908, 0.025572443, 0.1005841, -0.075538546, 0.052278366, -0.035653982, -0.40641534, -0.06725921, 0.07854799) * go_0(1.0, 1.0);
    result += mat4(-0.08826858, -0.034378555, -0.46892256, 0.16340685, -0.13692255, 0.017830791, -0.31991976, 0.025645107, 0.18441384, -0.007951913, 0.22178689, 0.22487153, 0.066959135, -0.024662169, 0.31748137, -0.01987461) * go_1(-1.0, -1.0);
    result += mat4(-0.102977134, -0.08202079, -0.2099319, -0.22815688, -0.21486521, 0.009877513, -0.6905095, -0.023657043, -0.08660296, 0.029520646, -0.1701893, 0.2919745, -0.07294828, -0.037650965, -0.40031347, -0.069641955) * go_1(-1.0, 0.0);
    result += mat4(0.134347, -0.018327279, -0.66854966, 0.034423262, 0.22698519, 0.052468088, -0.37836498, -0.1934196, 0.08988732, -0.048113976, -1.4949198, 0.15462983, -0.17750563, -0.08763085, 0.08092321, -0.08517769) * go_1(-1.0, 1.0);
    result += mat4(-0.25081462, 0.007357798, -0.124691956, 0.2465306, -0.44580728, 0.024982417, -0.083674625, 0.16530715, 0.46204725, -0.02462976, 0.042410906, 0.33406278, -0.091052644, -0.0021423246, 0.09775721, -0.18106797) * go_1(0.0, -1.0);
    result += mat4(-0.27352858, 0.12756036, -0.041143913, -0.23360555, -0.46365938, -0.0030374248, 0.024126457, -0.5851607, -0.48180968, -0.20567839, 0.029181015, 0.26065782, 0.66647315, -0.02679786, 0.017381437, 0.47351658) * go_1(0.0, 0.0);
    result += mat4(0.13752885, 0.013981492, -0.027838726, 0.08758869, 0.3430967, -0.18614458, -0.04828094, 0.08844199, 0.090350196, -0.016548345, -0.021547956, 0.15379037, -0.5876194, 0.11317713, -0.044501968, -0.5298163) * go_1(0.0, 1.0);
    result += mat4(-0.12106416, 0.047960643, 0.04365699, -0.089167714, -0.24330035, -0.053547002, 0.012697779, -0.07722793, 0.34451914, -0.047177583, -0.008606553, 0.047015976, 0.09625961, 0.020285703, -0.04118691, 0.04514407) * go_1(1.0, -1.0);
    result += mat4(-0.016394269, 0.060152177, 0.073975384, -0.041002568, -0.042201623, -0.20656282, 0.022566892, -0.10733969, -0.17374475, 0.041892078, 0.0056425207, 0.13355051, 0.11966963, 0.1638954, 0.029619057, -0.037117437) * go_1(1.0, 0.0);
    result += mat4(0.0505365, 0.026175192, -0.01242875, -0.02131376, 0.07392836, 0.038153313, 0.0031223453, -0.014383103, -0.06783828, 0.041706845, 0.0007796732, 0.0048167114, -0.22863063, 0.07859241, 0.0791505, -0.071044035) * go_1(1.0, 1.0);
    result += vec4(-0.041182343, -0.00619645, -0.0030114527, -0.026952842);
    return max(result, vec4(0.0));
}

//!DESC ArtCNN C4F8 (Conv-4-ReLU)
//!HOOK LUMA
//!BIND conv2d_3_tf
//!BIND conv2d_3_tf1
//!SAVE conv2d_4_tf1
//!WIDTH LUMA.w
//!HEIGHT LUMA.h
//!COMPONENTS 4
//!WHEN OUTPUT.w LUMA.w / 1.3 > OUTPUT.h LUMA.h / 1.3 > *
#define go_0(x_off, y_off) (conv2d_3_tf_texOff(vec2(x_off, y_off)))
#define go_1(x_off, y_off) (conv2d_3_tf1_texOff(vec2(x_off, y_off)))
vec4 hook() {
    vec4 result = mat4(0.054686364, 0.016454425, -0.0053025163, -0.08219467, 0.07992511, 0.034905966, 0.029420089, 0.03976389, -0.30507135, -0.0048467265, -0.033163264, -0.0003311368, -0.5210246, -0.00029736548, 0.012231603, -0.047794502) * go_0(-1.0, -1.0);
    result += mat4(-0.013059901, -0.010873076, -0.33907643, 0.048573934, 0.034376234, 0.06289932, 0.038702883, -0.16836198, 0.017545845, -0.035986647, 0.5704645, -0.16822985, 0.2082423, -0.17604004, 0.28050777, 0.28416094) * go_0(-1.0, 0.0);
    result += mat4(-0.0019029698, 0.079267815, -0.14295165, 0.11548529, -0.0005891292, -0.101394705, 0.072851144, -0.043801103, -0.01119118, 0.10460092, 0.049633812, 0.077381365, -0.046585415, 0.24908847, 0.0527327, -0.015817236) * go_0(-1.0, 1.0);
    result += mat4(0.018454533, -0.022351934, -0.15164839, 0.055110622, -0.022106478, -0.015296313, -0.03094333, 0.1193344, -0.18841709, -0.01353324, 0.24750322, -0.08234273, 0.06936411, 0.03248072, -0.39069703, -0.009758057) * go_0(0.0, -1.0);
    result += mat4(0.0093902685, -0.04289629, 0.39198864, -0.16750209, -0.042735547, 0.3750982, -0.1909421, 0.7874776, 0.091955304, -0.09586394, -0.2455276, 0.4993373, 0.06754756, -0.09879923, -0.5370511, -0.7885744) * go_0(0.0, 0.0);
    result += mat4(0.016598681, 0.17453675, 0.13013703, -0.43979707, 0.0057516824, -0.2080665, 0.026991073, 0.004426985, -0.03369705, 0.31587577, -0.020311745, 0.56117064, -0.013935288, 0.052055508, -0.17018174, 0.33988586) * go_0(0.0, 1.0);
    result += mat4(-0.022646217, 0.018152613, 0.0036596435, -0.057384342, 0.029323325, 0.04443529, 0.20388813, -0.104886815, 0.00062802335, -0.029804742, -0.07184028, 0.08622262, -0.04990119, -0.0080750035, 0.117093295, 0.034466323) * go_0(1.0, -1.0);
    result += mat4(-0.0062509584, -0.014137402, 0.05241497, -0.18221116, -0.002241232, 0.11671125, 0.124111906, -0.2310386, 0.004310241, -0.010011997, 0.15407409, 0.012514398, 0.019200386, -0.032501552, -0.017059362, 0.12098628) * go_0(1.0, 0.0);
    result += mat4(-0.007308283, 0.13318011, -0.049990434, 0.19687057, 0.009255733, -0.047031358, 0.027904725, 0.066996805, -0.021279294, 0.073423855, -0.035857603, -0.15293023, -0.0054951026, 0.039569248, 0.076229945, -0.40809545) * go_0(1.0, 1.0);
    result += mat4(-0.069124915, 0.013971565, -0.028666122, -0.019484641, 0.119661525, 0.024363548, 0.04471664, 0.016920729, 0.08394085, 0.03383231, -0.07349487, -0.08561989, 0.18391074, -0.025989074, -0.12569544, 0.047925815) * go_1(-1.0, -1.0);
    result += mat4(-0.018542489, -0.059970584, -0.01414813, 0.090868056, -0.09830982, -0.0099070985, 0.022737583, -0.1482321, -0.031725194, 0.14611375, -0.044505306, -0.121986814, 0.043787144, -0.010707591, -0.16160354, 0.16916515) * go_1(-1.0, 0.0);
    result += mat4(0.012475112, 0.041150186, -0.0663064, 0.0017458779, 0.0258818, -0.07350527, -0.03405596, -0.093059056, -0.0026247127, 0.12198397, -0.017014483, 0.031052548, -0.042151973, -0.10885198, -0.07047669, 0.16110791) * go_1(-1.0, 1.0);
    result += mat4(-0.07239494, 0.04151242, 0.31126642, 0.007270517, -0.1627064, 0.082139395, -0.3444231, -0.19599247, -0.05837405, -0.10390268, -0.08879655, 0.053177793, 0.20249553, -0.05513002, 0.44238058, -0.0039513037) * go_1(0.0, -1.0);
    result += mat4(0.008878409, -0.19378512, 0.13253047, -0.34492862, 0.024890978, -0.44882053, -0.45749164, -0.11903967, -0.008642728, 0.33311895, 0.046495862, -0.031263996, 0.08641542, 0.25175264, 0.48101678, -0.0398644) * go_1(0.0, 0.0);
    result += mat4(0.0038149245, 0.18675846, -0.039544977, 0.017329456, 0.002487958, 0.049883373, -0.03917856, -0.17332663, -0.020137804, 0.116615, -0.0024297978, -0.0075322236, 0.0012650862, -0.5181202, 0.26243246, -0.3056866) * go_1(0.0, 1.0);
    result += mat4(-0.03959652, -0.05359737, -0.17109257, 0.010690722, -0.029627029, -0.06346599, -0.12314708, 0.15242122, 0.05640924, 0.031039868, 0.005454396, -0.039027587, 0.01991717, 0.036831893, -0.016804561, -0.00045946814) * go_1(1.0, -1.0);
    result += mat4(-0.009589694, -0.045495596, -0.09641964, 0.3454196, 0.028479287, -0.12701526, 0.115724854, -0.062046655, -0.0013402085, 0.11537846, 0.037207134, -0.01653656, -0.03698092, 0.0352845, -0.13600406, 0.15402502) * go_1(1.0, 0.0);
    result += mat4(-0.015152052, 0.02321045, -0.017999578, -0.014260862, -0.012169663, -0.0129402885, -0.01318674, 0.03340386, 0.0062134764, 0.028512983, 0.016176216, 0.023813942, 0.016652238, -0.10080574, -0.07021557, 0.24886985) * go_1(1.0, 1.0);
    result += vec4(0.005853315, -0.025571307, -0.026178056, -0.04696297);
    return max(result, vec4(0.0));
}

//!DESC ArtCNN C4F8 (Conv-5)
//!HOOK LUMA
//!BIND conv2d_4_tf
//!BIND conv2d_4_tf1
//!SAVE conv2d_5_tf
//!WIDTH LUMA.w
//!HEIGHT LUMA.h
//!COMPONENTS 4
//!WHEN OUTPUT.w LUMA.w / 1.3 > OUTPUT.h LUMA.h / 1.3 > *
#define go_0(x_off, y_off) (conv2d_4_tf_texOff(vec2(x_off, y_off)))
#define go_1(x_off, y_off) (conv2d_4_tf1_texOff(vec2(x_off, y_off)))
vec4 hook() {
    vec4 result = mat4(-0.0032214748, 0.0047438913, -0.019281056, -0.00222819, -0.1528827, 0.17361887, -0.34423587, 0.26106402, 0.049851716, -0.0117393825, 0.017062934, 0.11106196, 0.0330647, -0.06801754, 0.024059638, 0.025383634) * go_0(-1.0, -1.0);
    result += mat4(0.054701775, -0.109873004, -0.2235153, 0.06659648, -0.18055971, -0.0017514236, 0.23602392, -0.068953894, 0.13638556, 0.0842098, 0.07043872, -0.04412911, 0.09268774, 0.07569194, -0.08045693, -0.0014901591) * go_0(-1.0, 0.0);
    result += mat4(0.014381058, 0.014535318, 0.0073099225, -0.019582665, 0.060672965, 0.066463135, -0.012188824, 0.018426474, -0.03846646, 0.0069022286, 0.02304438, -0.002989866, -0.0053694313, -0.04182319, -0.060646977, 0.04310562) * go_0(-1.0, 1.0);
    result += mat4(-0.030118246, 0.035432223, 0.048506834, -0.010128689, 0.117290124, -0.30266017, 0.4323848, 0.05584748, 0.07051658, 0.15534382, -0.32648528, 0.13538904, -0.061292294, 0.17545013, -0.14258586, 0.01260042) * go_0(0.0, -1.0);
    result += mat4(-0.17504814, -0.32658932, 0.7694453, -0.36701456, 0.06543583, -0.19062519, -0.06484227, 0.031110412, 0.3589347, 0.5651344, -0.20899566, 0.3417867, -0.017424429, -0.30062643, 0.44928774, -0.6125218) * go_0(0.0, 0.0);
    result += mat4(-0.07090704, -0.004367045, 0.012127388, -0.07267263, -0.067931436, -0.095056474, 0.07036282, -0.05234624, -0.020547068, 0.041324783, -0.0027734456, -0.18971492, 0.024834476, 0.0673706, -0.11387782, -0.045214914) * go_0(0.0, 1.0);
    result += mat4(0.0140998475, -0.014613554, -0.014007965, 0.0016066812, -0.007443112, -0.010475495, 0.0105438195, 0.0056399168, 0.1809493, 0.44062442, -0.4931521, 0.45496374, 0.0082130395, 0.004714693, 0.051937636, 0.020585421) * go_0(1.0, -1.0);
    result += mat4(0.0057104523, -0.041716013, -0.20796587, -0.017501248, 0.00358014, 0.021108037, -0.04094711, -0.02677002, -0.024865868, 0.6502846, -0.9804008, 0.06902759, -0.05976491, -0.39115265, -0.003584457, 0.0028709096) * go_0(1.0, 0.0);
    result += mat4(0.023633985, 0.041733865, -0.038293418, 0.033899974, -0.0010499381, -0.026303459, -0.00020956923, -4.795672e-05, 0.20689307, -0.03535706, -0.10654075, 0.31389207, -0.006153046, -0.02215387, -0.04496722, -0.012096544) * go_0(1.0, 1.0);
    result += mat4(-0.02624453, 0.050340258, 0.01559275, -0.01714148, -0.08559743, 0.12222459, 0.2650972, -0.026236922, 0.028931484, -0.036165137, -0.075064264, 0.039474133, 0.04585219, 0.007642887, 0.028788146, 0.06408741) * go_1(-1.0, -1.0);
    result += mat4(-0.038303874, -0.024377344, -0.026979076, -0.037614346, 0.041935068, 0.04467702, -0.052140687, 0.09829772, -0.04619041, 0.18321311, 0.28472215, -0.3010931, -0.091963686, -0.099581204, -0.15390724, 0.25135362) * go_1(-1.0, 0.0);
    result += mat4(-0.0693474, -0.07980092, -0.12775028, -0.0013616873, -0.020398268, 0.002829035, 0.05585856, -0.054819815, -0.044605877, -0.049307965, 0.021916857, -0.011085096, 0.04516749, 0.078627765, 0.06072259, 0.0080620535) * go_1(-1.0, 1.0);
    result += mat4(0.050637353, -0.058112077, -0.06771072, 0.03212457, 0.072168306, 0.46255052, -1.0843388, 0.66017, -0.044962045, 0.13686427, 0.12667255, -0.034216926, 0.060729697, -0.26025325, -0.07362515, -0.0022889702) * go_1(0.0, -1.0);
    result += mat4(0.17109063, 0.043249708, 0.110152386, 0.011129947, -0.26827028, -0.17397602, 0.055306878, 0.5118067, -0.15050416, -0.62804145, -0.10718827, -0.005439689, 0.53612494, 0.89951557, -0.28917217, 0.40970424) * go_1(0.0, 0.0);
    result += mat4(-0.2615887, -0.6065881, 0.5472173, -0.1392602, 0.006385654, 0.090142205, 0.26188853, 0.073785886, 0.009846857, -0.16720413, -0.12977703, -0.017009078, -0.06818665, -0.07938574, -0.02644639, -0.12643453) * go_1(0.0, 1.0);
    result += mat4(-0.015399058, -0.0064054974, 0.04361827, -0.0032726112, 0.07434848, 0.20580721, 0.38578138, 0.027212674, -0.0016197022, 0.059457593, -0.030771835, 0.005902153, -0.010832416, -0.0054241144, 0.023365889, 0.029135978) * go_1(1.0, -1.0);
    result += mat4(-0.015110907, -0.25662944, 0.061039064, 0.030175842, 0.008298066, 0.7349256, 0.005481355, -0.031350948, 0.013777476, -0.0042367917, -0.118053995, -0.021801844, -0.03486983, 0.21321811, 0.053587854, 0.0031922872) * go_1(1.0, 0.0);
    result += mat4(0.05606927, -0.16896136, 0.106279776, -0.08031518, -0.033365976, -0.020463787, 0.03975394, -0.032002125, 0.0075695137, -0.080430664, -0.107068226, -0.029972065, -0.023203831, 0.026300367, 0.09121787, 0.020509785) * go_1(1.0, 1.0);
    result += vec4(-0.0055950466, -0.054426696, -0.05087794, -0.051235437);
    return result;
}

//!DESC ArtCNN C4F8 (Conv-5)
//!HOOK LUMA
//!BIND conv2d_4_tf
//!BIND conv2d_4_tf1
//!SAVE conv2d_5_tf1
//!WIDTH LUMA.w
//!HEIGHT LUMA.h
//!COMPONENTS 4
//!WHEN OUTPUT.w LUMA.w / 1.3 > OUTPUT.h LUMA.h / 1.3 > *
#define go_0(x_off, y_off) (conv2d_4_tf_texOff(vec2(x_off, y_off)))
#define go_1(x_off, y_off) (conv2d_4_tf1_texOff(vec2(x_off, y_off)))
vec4 hook() {
    vec4 result = mat4(-0.010462128, -0.006541766, -0.008574688, 2.9150557e-05, -0.19605203, -0.2817617, -0.11862911, 0.111457676, -0.10899211, -0.022504566, -5.9471236e-05, -0.04493502, -0.020136323, 0.026330568, -0.018249976, -0.025541456) * go_0(-1.0, -1.0);
    result += mat4(-0.119283855, 0.29485548, -0.0639395, -0.1449358, 0.065836295, -0.107684955, 0.08811992, -0.11814585, -0.029979894, 0.1210393, 0.07525367, 0.057074033, -0.0848121, 0.11490517, -0.03632158, 0.037613858) * go_0(-1.0, 0.0);
    result += mat4(0.011531713, 0.12724535, 0.024431417, 0.0018119757, -0.05666047, 0.13845715, -0.022413213, 0.0018505376, 0.03043548, -0.058620136, -0.047620703, 0.018234383, -0.012691689, 0.0019104038, -0.09557671, -0.022017224) * go_0(-1.0, 1.0);
    result += mat4(-0.026773736, -0.12453191, 0.046284843, -0.0017850727, -0.25183722, 0.43506294, -0.08581231, -0.048237506, -0.2097542, 0.31823692, -0.0026207669, -0.053174593, 0.011338564, 0.045027148, 0.00071156747, 0.074147426) * go_0(0.0, -1.0);
    result += mat4(-0.0787335, -1.0326084, 0.07709732, -0.12565497, 0.1977927, -0.27336177, 0.06568446, -0.08727048, -0.36338657, -0.24483632, 0.3559043, 0.19050041, 0.26226574, -0.70551676, 0.17500009, -0.061659656) * go_0(0.0, 0.0);
    result += mat4(0.00026058048, -0.121270426, -0.14807053, -0.040830646, -0.009973987, -0.083812654, -0.057761427, -0.056437537, 0.06542627, -0.25151822, 0.36187565, 0.01797984, -0.11627379, -0.017732553, -0.06545122, -0.00022354643) * go_0(0.0, 1.0);
    result += mat4(-0.005987452, 0.013298267, 0.0118717905, -0.02135762, -0.07224771, 0.018406214, -0.04850197, -0.013758275, 0.1909342, 1.022422, -0.020474393, 0.10696124, -0.07726121, -0.08867952, 0.064657256, -0.033982653) * go_0(1.0, -1.0);
    result += mat4(0.18382354, 0.09453124, -0.055421505, 0.03936504, 0.04466806, -0.042896137, 0.04322484, 0.0071998355, 0.9121309, 1.2991402, 0.07720552, 0.40305012, 0.19033135, -0.0012375087, -0.34221816, -0.10251299) * go_0(1.0, 0.0);
    result += mat4(-0.046687856, 0.08388503, -0.039590303, 0.010647779, 0.034596536, -0.0028031748, 0.023825858, 0.004616527, -0.034341782, 0.527749, 0.12500042, 0.07446944, -0.05542312, -0.050792657, -0.10166223, -0.05135712) * go_0(1.0, 1.0);
    result += mat4(0.020328011, -0.09110446, 0.029360913, 0.037859887, 0.09343652, -0.32118395, 0.078898095, 0.12514035, -0.0876939, 0.12660311, -0.009145166, -0.10183804, 0.057705134, 0.1437453, -0.003994507, 0.011756523) * go_1(-1.0, -1.0);
    result += mat4(0.028462598, 0.01999719, 0.01383518, -0.040606853, -0.12728375, 0.013393451, 0.14039846, -0.11910359, 0.17495957, -0.2644304, 0.424763, 0.07681361, -0.053447377, 0.00011969966, -0.41012636, 0.078961976) * go_1(-1.0, 0.0);
    result += mat4(0.009875158, 0.09322991, 0.033725932, -0.07591065, 0.04700536, 0.011992316, 0.09377411, 0.026142102, 0.0547879, -0.065860674, 0.081083715, -0.006834899, -0.076942295, 0.023628691, -0.012556601, -0.012917221) * go_1(-1.0, 1.0);
    result += mat4(-0.038329467, 0.2032632, -0.06551283, -0.054493487, 0.1557718, 1.3975353, 0.11215465, 0.20665261, 0.14661673, -0.17661105, 0.06739054, 0.14165562, -0.18980013, 0.100170486, 0.03490029, -0.16891176) * go_1(0.0, -1.0);
    result += mat4(-0.04758889, -0.03332239, 0.12935953, 0.049466174, 0.08530478, 0.4244913, 0.12872773, 0.14532308, 1.0541842, 0.77108765, -0.31108937, 0.043963242, -1.0527474, 0.17149341, -0.24462906, 0.038971703) * go_1(0.0, 0.0);
    result += mat4(0.26408577, 0.0125999395, -0.48073244, -0.2617207, -0.067489155, 0.027267404, -0.13942121, -0.07021769, 0.1680233, -0.12754151, 0.28792536, -0.017160656, 0.19082771, 0.024690052, 0.10964347, 0.08845875) * go_1(0.0, 1.0);
    result += mat4(-0.005597809, -0.08502215, 0.028095705, -0.0011225978, -0.4997998, -0.30001897, 0.20718879, -0.05889625, -0.036505528, 0.028168242, -0.015806355, 0.02006635, 0.025712587, -0.020652693, -0.09030927, -0.0031550198) * go_1(1.0, -1.0);
    result += mat4(-0.015389781, 0.035262972, -0.12517036, -0.14154424, -0.20740132, 0.0044944356, 0.39521778, 0.19676349, 0.17672949, -0.036087, 0.14192662, 0.045717366, -0.25848368, 0.053422026, -0.19248587, -0.036808927) * go_1(1.0, 0.0);
    result += mat4(-0.3054266, -0.59853166, 0.2793469, -0.17403242, 0.16641514, 0.056453545, 0.21765655, 0.102107726, 0.22063445, -0.03638424, 0.11984462, 0.04366871, -0.07981434, 0.034684528, -0.01865334, 0.013383719) * go_1(1.0, 1.0);
    result += vec4(-0.0139193665, -0.059455875, 0.00597905, -0.0065046223);
    return result;
}

//!DESC ArtCNN C4F8 (Long-Skip-Conv-6)
//!HOOK LUMA
//!BIND conv2d_5_tf
//!BIND conv2d_tf
//!BIND conv2d_5_tf1
//!BIND conv2d_tf1
//!SAVE conv2d_6_tf
//!WIDTH LUMA.w
//!HEIGHT LUMA.h
//!COMPONENTS 4
//!WHEN OUTPUT.w LUMA.w / 1.3 > OUTPUT.h LUMA.h / 1.3 > *
#define go_0(x_off, y_off) ((conv2d_5_tf_texOff(vec2(x_off, y_off)))+(conv2d_tf_texOff(vec2(x_off, y_off))))
#define go_1(x_off, y_off) ((conv2d_5_tf1_texOff(vec2(x_off, y_off)))+(conv2d_tf1_texOff(vec2(x_off, y_off))))
vec4 hook() {
    vec4 result = mat4(0.051743113, 0.00083803944, -0.10317096, -0.15668632, -0.05847124, 0.06402851, 0.01812419, -0.077475496, -0.10424985, 0.012675714, 0.04989339, 0.054561086, 0.114226945, 0.014408507, -0.017540175, -0.028603086) * go_0(-1.0, -1.0);
    result += mat4(-0.047799923, -0.13036636, -0.03521267, 0.021984538, -0.2005126, 0.029443199, -0.27112928, 0.17689618, 0.22676039, 0.039705228, 0.072540775, 0.060477685, 0.023554586, -0.08216375, 0.05324676, -0.1438018) * go_0(-1.0, 0.0);
    result += mat4(0.10494239, 0.107296355, 0.009409083, -0.0012401844, 0.008451725, 0.0469661, -0.12001404, 0.08611449, 0.014478348, 0.0057488657, 0.02251852, -0.04439928, 0.028487554, 0.050703447, -0.061434947, -0.048800044) * go_0(-1.0, 1.0);
    result += mat4(0.22985692, -0.030302122, 0.22654498, 0.105448686, -0.008677514, -0.10715111, 0.06054905, 0.102990836, -0.057419486, -0.015799997, -0.008500022, 0.045989275, 0.23154718, 0.061071478, -0.105168745, -0.17886) * go_0(0.0, -1.0);
    result += mat4(0.24745959, 0.36256504, 0.11797034, -0.039699018, 0.34049714, -0.014726366, 0.3437607, -0.055747207, 0.31796825, 0.6877647, 0.19637094, 0.4614674, 0.32851088, 0.15394376, 0.75566906, 0.560061) * go_0(0.0, 0.0);
    result += mat4(0.09145689, 0.14814574, 0.27824655, 0.3234954, -0.08447473, -0.09975523, 0.057932246, -0.217767, -0.017701246, -0.02666472, 0.0803417, 0.1509108, -0.07232657, -0.09503928, 0.045351177, -0.03093624) * go_0(0.0, 1.0);
    result += mat4(0.03582633, 0.23486598, -0.037447102, 0.068698436, 0.03783107, -0.086234584, -0.009716833, -0.03615018, 0.02775342, -0.08479688, 0.009467339, -0.025930554, -0.08729541, -0.040045425, -0.028715275, -0.08152549) * go_0(1.0, -1.0);
    result += mat4(0.27011797, 0.05560977, 0.27733424, 0.23293845, 0.039654892, 0.0840315, 0.04454587, -0.031041175, 0.11792026, 0.07002732, 0.109766595, -0.027537895, -0.39575794, 0.03600095, -0.2765081, 0.16557285) * go_0(1.0, 0.0);
    result += mat4(-0.035620216, -0.028207673, 0.11618856, 0.06732627, 0.023135172, 0.041118972, 0.0057198447, 0.04100761, 0.005465212, 0.016250292, 0.019248543, 0.026947206, -0.020675832, 0.009667737, -0.16123167, 0.0038309568) * go_0(1.0, 1.0);
    result += mat4(0.24591982, 0.0576877, -0.004334574, -0.14486572, -0.09555258, -0.022036767, 0.037704416, 0.079731405, 0.017122563, -0.09548642, -0.0047381525, 0.02872888, -0.16297998, -0.096668616, -0.03989023, 0.17647456) * go_1(-1.0, -1.0);
    result += mat4(-0.27285987, -0.19932906, -0.092447944, -0.070515886, -0.020055218, -0.022231352, 0.03698529, -0.020186234, -0.014000587, -0.0023854687, 0.09607328, -0.16586724, -0.04239574, -0.14111948, 0.25317585, -0.13314648) * go_1(-1.0, 0.0);
    result += mat4(0.092337996, 0.14999819, -0.14931719, 0.058929794, 0.009041561, 0.004605128, -0.04180352, -0.013349066, -0.00013392945, -0.0059832344, -0.017547278, -0.008049922, -0.09136374, -0.127065, 0.06935944, -0.09805142) * go_1(-1.0, 1.0);
    result += mat4(-0.17836109, -0.027186617, -0.03256196, 0.0049689673, -0.052215148, 0.064199276, -0.047255468, 0.010548412, -0.00744981, 0.29984745, -0.0640629, -0.0055921073, 0.34111914, 0.13464417, 0.012285703, -0.12016018) * go_1(0.0, -1.0);
    result += mat4(0.2005933, 0.22795215, 0.19762237, 0.34323895, -0.3231294, -0.017262954, -0.113167286, 0.22371587, 0.09486784, -0.039865714, 0.18113992, 0.5085342, 0.1446652, 0.17881441, 0.08694117, 0.041876294) * go_1(0.0, 0.0);
    result += mat4(-0.03253491, -0.014364168, 0.09514301, -0.0221252, 0.08356225, 0.049429767, -0.1589628, -0.14144492, -0.09885257, -0.14087202, 0.06247563, -0.08339811, 0.1812622, 0.18158624, -0.086097345, 0.234162) * go_1(0.0, 1.0);
    result += mat4(0.042891335, -0.08896493, -0.0047640475, -0.02638151, -0.00016355522, -0.07403428, 0.013112318, -0.011152509, -0.01902506, -0.048283286, -0.0065125288, 0.00794494, -0.12928656, 0.19959046, -0.010159342, 0.06135551) * go_1(1.0, -1.0);
    result += mat4(0.042338505, 0.07558268, 0.05642465, -0.021985672, 0.11194093, -0.15526605, 0.06577218, -0.15846238, -0.051521532, -0.10756673, -0.025143234, -0.13521439, 0.005513494, 0.18868335, -0.10580151, 0.28978103) * go_1(1.0, 0.0);
    result += mat4(0.025902824, 0.055411637, -0.001517574, 0.02519664, 0.045110777, 0.053428434, 0.023867335, -0.08296578, 0.0344517, 0.022041546, -0.036395162, -0.050376605, -0.17821342, -0.12629178, 0.029589994, 0.114605054) * go_1(1.0, 1.0);
    result += vec4(0.09303751, 0.1068917, 0.11496279, 0.12648484);
    return result;
}

//!DESC ArtCNN C4F8 (Depth-to-Space)
//!HOOK LUMA
//!BIND LUMA
//!BIND conv2d_6_tf
//!WIDTH LUMA.w 2 *
//!HEIGHT LUMA.h 2 *
//!COMPONENTS 4
//!WHEN OUTPUT.w LUMA.w / 1.3 > OUTPUT.h LUMA.h / 1.3 > *
vec4 hook() {
    vec4 output_pix = vec4(0.0, 0.0, 0.0, 1.0);
    vec2 f0 = fract(conv2d_6_tf_pos * conv2d_6_tf_size);
    ivec2 i0 = ivec2(f0 * vec2(2.0));
    output_pix.x = conv2d_6_tf_tex((vec2(0.5) - f0) * conv2d_6_tf_pt + conv2d_6_tf_pos)[i0.y * 2 + i0.x];

    float ar_strength = 0.5;
    vec2 pp = LUMA_pos * LUMA_size - vec2(0.5);
    vec2 fp = floor(pp);

    vec2 pix_idx[4] = {{0.5, 0.5}, {1.5, 0.5},
                       {0.5, 1.5}, {1.5, 1.5}};

    float luma_pixels[4];

    for (int i = 0; i < 4; i++) {
        luma_pixels[i] = LUMA_tex(vec2((fp + pix_idx[i]) * LUMA_pt)).x;
    }

    float luma_min = min(min(min(luma_pixels[0], luma_pixels[1]), luma_pixels[2]), luma_pixels[3]);
    float luma_max = max(max(max(luma_pixels[0], luma_pixels[1]), luma_pixels[2]), luma_pixels[3]);

    output_pix.x = clamp(mix(output_pix.x, clamp(output_pix.x, luma_min, luma_max), ar_strength), 0.0, 1.0);
    return output_pix;
}
